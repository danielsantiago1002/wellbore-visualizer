(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function e8(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var t=i.default;if(typeof t=="function"){var e=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}),e}var zd={exports:{}},Yo={};var Qy;function i8(){if(Qy)return Yo;Qy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:i,type:n,key:l,ref:s!==void 0?s:null,props:o}}return Yo.Fragment=t,Yo.jsx=e,Yo.jsxs=e,Yo}var Jy;function n8(){return Jy||(Jy=1,zd.exports=i8()),zd.exports}var Ue=n8(),Gd={exports:{}},Nt={};var tv;function r8(){if(tv)return Nt;tv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function A(w,P,k){this.props=w,this.context=P,this.refs=E,this.updater=k||x}A.prototype.isReactComponent={},A.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function I(){}I.prototype=A.prototype;function C(w,P,k){this.props=w,this.context=P,this.refs=E,this.updater=k||x}var N=C.prototype=new I;N.constructor=C,b(N,A.prototype),N.isPureReactComponent=!0;var R=Array.isArray;function F(){}var D={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function J(w,P,k){var V=k.ref;return{$$typeof:i,type:w,key:P,ref:V!==void 0?V:null,props:k}}function rt(w,P){return J(w.type,P,w.props)}function q(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function H(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(k){return P[k]})}var W=/\/+/g;function L(w,P){return typeof w=="object"&&w!==null&&w.key!=null?H(""+w.key):P.toString(36)}function nt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(F,F):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function S(w,P,k,V,tt){var ot=typeof w;(ot==="undefined"||ot==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(ot){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case i:case t:ut=!0;break;case p:return ut=w._init,S(ut(w._payload),P,k,V,tt)}}if(ut)return tt=tt(w),ut=V===""?"."+L(w,0):V,R(tt)?(k="",ut!=null&&(k=ut.replace(W,"$&/")+"/"),S(tt,P,k,"",function(ht){return ht})):tt!=null&&(q(tt)&&(tt=rt(tt,k+(tt.key==null||w&&w.key===tt.key?"":(""+tt.key).replace(W,"$&/")+"/")+ut)),P.push(tt)),1;ut=0;var ft=V===""?".":V+":";if(R(w))for(var dt=0;dt<w.length;dt++)V=w[dt],ot=ft+L(V,dt),ut+=S(V,P,k,ot,tt);else if(dt=_(w),typeof dt=="function")for(w=dt.call(w),dt=0;!(V=w.next()).done;)V=V.value,ot=ft+L(V,dt++),ut+=S(V,P,k,ot,tt);else if(ot==="object"){if(typeof w.then=="function")return S(nt(w),P,k,V,tt);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function M(w,P,k){if(w==null)return w;var V=[],tt=0;return S(w,V,"","",function(ot){return P.call(k,ot,tt++)}),V}function O(w){if(w._status===-1){var P=w._result;P=P(),P.then(function(k){(w._status===0||w._status===-1)&&(w._status=1,w._result=k)},function(k){(w._status===0||w._status===-1)&&(w._status=2,w._result=k)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var z=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},U={map:M,forEach:function(w,P,k){M(w,function(){P.apply(this,arguments)},k)},count:function(w){var P=0;return M(w,function(){P++}),P},toArray:function(w){return M(w,function(P){return P})||[]},only:function(w){if(!q(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Nt.Activity=g,Nt.Children=U,Nt.Component=A,Nt.Fragment=e,Nt.Profiler=s,Nt.PureComponent=C,Nt.StrictMode=n,Nt.Suspense=f,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},Nt.cache=function(w){return function(){return w.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(w,P,k){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var V=b({},w.props),tt=w.key;if(P!=null)for(ot in P.key!==void 0&&(tt=""+P.key),P)!X.call(P,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&P.ref===void 0||(V[ot]=P[ot]);var ot=arguments.length-2;if(ot===1)V.children=k;else if(1<ot){for(var ut=Array(ot),ft=0;ft<ot;ft++)ut[ft]=arguments[ft+2];V.children=ut}return J(w.type,tt,V)},Nt.createContext=function(w){return w={$$typeof:l,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},Nt.createElement=function(w,P,k){var V,tt={},ot=null;if(P!=null)for(V in P.key!==void 0&&(ot=""+P.key),P)X.call(P,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(tt[V]=P[V]);var ut=arguments.length-2;if(ut===1)tt.children=k;else if(1<ut){for(var ft=Array(ut),dt=0;dt<ut;dt++)ft[dt]=arguments[dt+2];tt.children=ft}if(w&&w.defaultProps)for(V in ut=w.defaultProps,ut)tt[V]===void 0&&(tt[V]=ut[V]);return J(w,ot,tt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(w){return{$$typeof:h,render:w}},Nt.isValidElement=q,Nt.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:O}},Nt.memo=function(w,P){return{$$typeof:d,type:w,compare:P===void 0?null:P}},Nt.startTransition=function(w){var P=D.T,k={};D.T=k;try{var V=w(),tt=D.S;tt!==null&&tt(k,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(F,z)}catch(ot){z(ot)}finally{P!==null&&k.types!==null&&(P.types=k.types),D.T=P}},Nt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Nt.use=function(w){return D.H.use(w)},Nt.useActionState=function(w,P,k){return D.H.useActionState(w,P,k)},Nt.useCallback=function(w,P){return D.H.useCallback(w,P)},Nt.useContext=function(w){return D.H.useContext(w)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(w,P){return D.H.useDeferredValue(w,P)},Nt.useEffect=function(w,P){return D.H.useEffect(w,P)},Nt.useEffectEvent=function(w){return D.H.useEffectEvent(w)},Nt.useId=function(){return D.H.useId()},Nt.useImperativeHandle=function(w,P,k){return D.H.useImperativeHandle(w,P,k)},Nt.useInsertionEffect=function(w,P){return D.H.useInsertionEffect(w,P)},Nt.useLayoutEffect=function(w,P){return D.H.useLayoutEffect(w,P)},Nt.useMemo=function(w,P){return D.H.useMemo(w,P)},Nt.useOptimistic=function(w,P){return D.H.useOptimistic(w,P)},Nt.useReducer=function(w,P,k){return D.H.useReducer(w,P,k)},Nt.useRef=function(w){return D.H.useRef(w)},Nt.useState=function(w){return D.H.useState(w)},Nt.useSyncExternalStore=function(w,P,k){return D.H.useSyncExternalStore(w,P,k)},Nt.useTransition=function(){return D.H.useTransition()},Nt.version="19.2.1",Nt}var ev;function uc(){return ev||(ev=1,Gd.exports=r8()),Gd.exports}var Sp=uc(),Hd={exports:{}},qo={},jd={exports:{}},Xd={};var iv;function s8(){return iv||(iv=1,(function(i){function t(S,M){var O=S.length;S.push(M);t:for(;0<O;){var z=O-1>>>1,U=S[z];if(0<s(U,M))S[z]=M,S[O]=U,O=z;else break t}}function e(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var M=S[0],O=S.pop();if(O!==M){S[0]=O;t:for(var z=0,U=S.length,w=U>>>1;z<w;){var P=2*(z+1)-1,k=S[P],V=P+1,tt=S[V];if(0>s(k,O))V<U&&0>s(tt,k)?(S[z]=tt,S[V]=O,z=V):(S[z]=k,S[P]=O,z=P);else if(V<U&&0>s(tt,O))S[z]=tt,S[V]=O,z=V;else break t}}return M}function s(S,M){var O=S.sortIndex-M.sortIndex;return O!==0?O:S.id-M.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();i.unstable_now=function(){return l.now()-h}}var f=[],d=[],p=1,g=null,v=3,_=!1,x=!1,b=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(S){for(var M=e(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=S)n(d),M.sortIndex=M.expirationTime,t(f,M);else break;M=e(d)}}function R(S){if(b=!1,N(S),!x)if(e(f)!==null)x=!0,F||(F=!0,H());else{var M=e(d);M!==null&&nt(R,M.startTime-S)}}var F=!1,D=-1,X=5,J=-1;function rt(){return E?!0:!(i.unstable_now()-J<X)}function q(){if(E=!1,F){var S=i.unstable_now();J=S;var M=!0;try{t:{x=!1,b&&(b=!1,I(D),D=-1),_=!0;var O=v;try{e:{for(N(S),g=e(f);g!==null&&!(g.expirationTime>S&&rt());){var z=g.callback;if(typeof z=="function"){g.callback=null,v=g.priorityLevel;var U=z(g.expirationTime<=S);if(S=i.unstable_now(),typeof U=="function"){g.callback=U,N(S),M=!0;break e}g===e(f)&&n(f),N(S)}else n(f);g=e(f)}if(g!==null)M=!0;else{var w=e(d);w!==null&&nt(R,w.startTime-S),M=!1}}break t}finally{g=null,v=O,_=!1}M=void 0}}finally{M?H():F=!1}}}var H;if(typeof C=="function")H=function(){C(q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,L=W.port2;W.port1.onmessage=q,H=function(){L.postMessage(null)}}else H=function(){A(q,0)};function nt(S,M){D=A(function(){S(i.unstable_now())},M)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(S){S.callback=null},i.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<S?Math.floor(1e3/S):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(S){switch(v){case 1:case 2:case 3:var M=3;break;default:M=v}var O=v;v=M;try{return S()}finally{v=O}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(S,M){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=v;v=S;try{return M()}finally{v=O}},i.unstable_scheduleCallback=function(S,M,O){var z=i.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,S){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=O+U,S={id:p++,callback:M,priorityLevel:S,startTime:O,expirationTime:U,sortIndex:-1},O>z?(S.sortIndex=O,t(d,S),e(f)===null&&S===e(d)&&(b?(I(D),D=-1):b=!0,nt(R,O-z))):(S.sortIndex=U,t(f,S),x||_||(x=!0,F||(F=!0,H()))),S},i.unstable_shouldYield=rt,i.unstable_wrapCallback=function(S){var M=v;return function(){var O=v;v=M;try{return S.apply(this,arguments)}finally{v=O}}}})(Xd)),Xd}var nv;function a8(){return nv||(nv=1,jd.exports=s8()),jd.exports}var Vd={exports:{}},ze={};var rv;function o8(){if(rv)return ze;rv=1;var i=uc();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:d,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ze.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},ze.flushSync=function(f){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=d,n.p=p,n.d.f()}},ze.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},ze.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},ze.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,g=h(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ze.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=h(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},ze.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=h(p,d.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ze.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=h(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},ze.requestFormReset=function(f){n.d.r(f)},ze.unstable_batchedUpdates=function(f,d){return f(d)},ze.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},ze.useFormStatus=function(){return l.H.useHostTransitionStatus()},ze.version="19.2.1",ze}var sv;function l8(){if(sv)return Vd.exports;sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Vd.exports=o8(),Vd.exports}var av;function u8(){if(av)return qo;av=1;var i=a8(),t=uc(),e=l8();function n(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(n(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(n(188));return a!==r?null:r}for(var u=r,c=a;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){u=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return f(m),r;if(y===c)return f(m),a;y=y.sibling}throw Error(n(188))}if(u.return!==c.return)u=m,c=y;else{for(var T=!1,B=m.child;B;){if(B===u){T=!0,u=m,c=y;break}if(B===c){T=!0,c=m,u=y;break}B=B.sibling}if(!T){for(B=y.child;B;){if(B===u){T=!0,u=y,c=m;break}if(B===c){T=!0,c=y,u=m;break}B=B.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==c)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function L(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case F:return"SuspenseList";case J:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case C:return r.displayName||"Context";case I:return(r._context.displayName||"Context")+".Consumer";case N:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:L(r.type)||"Memo";case X:a=r._payload,r=r._init;try{return L(r(a))}catch{}}return null}var nt=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},z=[],U=-1;function w(r){return{current:r}}function P(r){0>U||(r.current=z[U],z[U]=null,U--)}function k(r,a){U++,z[U]=r.current,r.current=a}var V=w(null),tt=w(null),ot=w(null),ut=w(null);function ft(r,a){switch(k(ot,a),k(tt,r),k(V,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?by(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=by(a),r=Ty(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}P(V),k(V,r)}function dt(){P(V),P(tt),P(ot)}function ht(r){r.memoizedState!==null&&k(ut,r);var a=V.current,u=Ty(a,r.type);a!==u&&(k(tt,r),k(V,u))}function _t(r){tt.current===r&&(P(V),P(tt)),ut.current===r&&(P(ut),Ho._currentValue=O)}var bt,Dt;function Bt(r){if(bt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);bt=a&&a[1]||"",Dt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+r+Dt}var xt=!1;function Tt(r,a){if(!r||xt)return"";xt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(it){var Q=it}Reflect.construct(r,[],lt)}else{try{lt.call()}catch(it){Q=it}r.call(lt.prototype)}}else{try{throw Error()}catch(it){Q=it}(lt=r())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(it){if(it&&Q&&typeof it.stack=="string")return[it.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],B=y[1];if(T&&B){var G=T.split(`
`),K=B.split(`
`);for(m=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===G.length||m===K.length)for(c=G.length-1,m=K.length-1;1<=c&&0<=m&&G[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(G[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||G[c]!==K[m]){var st=`
`+G[c].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=c&&0<=m);break}}}finally{xt=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Bt(u):""}function ue(r,a){switch(r.tag){case 26:case 27:case 5:return Bt(r.type);case 16:return Bt("Lazy");case 13:return r.child!==a&&a!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return Tt(r.type,!1);case 11:return Tt(r.type.render,!1);case 1:return Tt(r.type,!0);case 31:return Bt("Activity");default:return""}}function ce(r){try{var a="",u=null;do a+=ue(r,u),u=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ki=Object.prototype.hasOwnProperty,vi=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qn=i.unstable_shouldYield,Jn=i.unstable_requestPaint,ve=i.unstable_now,Rc=i.unstable_getCurrentPriorityLevel,Cl=i.unstable_ImmediatePriority,Ka=i.unstable_UserBlockingPriority,Bs=i.unstable_NormalPriority,jr=i.unstable_LowPriority,Is=i.unstable_IdlePriority,Ml=i.log,Dc=i.unstable_setDisableYieldValue,Xr=null,Oe=null;function ni(r){if(typeof Ml=="function"&&Dc(r),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Xr,r)}catch{}}var $=Math.clz32?Math.clz32:Qt,et=Math.log,Vt=Math.LN2;function Qt(r){return r>>>=0,r===0?32:31-(et(r)/Vt|0)|0}var Wt=256,It=262144,ri=4194304;function He(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function we(r,a,u){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var B=c&134217727;return B!==0?(c=B&~y,c!==0?m=He(c):(T&=B,T!==0?m=He(T):u||(u=B&~r,u!==0&&(m=He(u))))):(B=c&~y,B!==0?m=He(B):T!==0?m=He(T):u||(u=c&~r,u!==0&&(m=He(u)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:m}function Ye(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Qa(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var r=ri;return ri<<=1,(ri&62914560)===0&&(ri=4194304),r}function je(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function tr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Rl(r,a,u,c,m,y){var T=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var B=r.entanglements,G=r.expirationTimes,K=r.hiddenUpdates;for(u=T&~u;0<u;){var st=31-$(u),lt=1<<st;B[st]=0,G[st]=-1;var Q=K[st];if(Q!==null)for(K[st]=null,st=0;st<Q.length;st++){var it=Q[st];it!==null&&(it.lane&=-536870913)}u&=~lt}c!==0&&Ja(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function Ja(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-$(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|u&261930}function er(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var c=31-$(u),m=1<<c;m&a|r[c]&a&&(r[c]|=a),u&=~m}}function Ns(r,a){var u=a&-a;return u=(u&42)!==0?1:ir(u),(u&(r.suspendedLanes|a))!==0?0:u}function ir(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Vr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ps(){var r=M.p;return r!==0?r:(r=window.event,r===void 0?32:Vy(r.type))}function to(r,a){var u=M.p;try{return M.p=r,a()}finally{M.p=u}}var Ni=Math.random().toString(36).slice(2),pe="__reactFiber$"+Ni,Be="__reactProps$"+Ni,Qi="__reactContainer$"+Ni,Ls="__reactEvents$"+Ni,Oc="__reactListeners$"+Ni,eo="__reactHandles$"+Ni,bn="__reactResources$"+Ni,Ji="__reactMarker$"+Ni;function io(r){delete r[pe],delete r[Be],delete r[Ls],delete r[Oc],delete r[eo]}function Tn(r){var a=r[pe];if(a)return a;for(var u=r.parentNode;u;){if(a=u[Qi]||u[pe]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=Ry(r);r!==null;){if(u=r[pe])return u;r=Ry(r)}return a}r=u,u=r.parentNode}return null}function Us(r){if(r=r[pe]||r[Qi]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function no(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(n(33))}function Fs(r){var a=r[bn];return a||(a=r[bn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(r){r[Ji]=!0}var um=new Set,hm={};function Yr(r,a){ks(r,a),ks(r+"Capture",a)}function ks(r,a){for(hm[r]=a,r=0;r<a.length;r++)um.add(a[r])}var Y5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cm={},fm={};function q5(r){return Ki.call(fm,r)?!0:Ki.call(cm,r)?!1:Y5.test(r)?fm[r]=!0:(cm[r]=!0,!1)}function Dl(r,a,u){if(q5(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function Ol(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function En(r,a,u,c){if(c===null)r.removeAttribute(u);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+c)}}function _i(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dm(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $5(r,a,u){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Bc(r){if(!r._valueTracker){var a=dm(r)?"checked":"value";r._valueTracker=$5(r,a,""+r[a])}}function pm(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),c="";return r&&(c=dm(r)?r.checked?"true":"false":r.value),r=c,r!==u?(a.setValue(r),!0):!1}function Bl(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var W5=/[\n"\\]/g;function xi(r){return r.replace(W5,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ic(r,a,u,c,m,y,T,B){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+_i(a)):r.value!==""+_i(a)&&(r.value=""+_i(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Nc(r,T,_i(a)):u!=null?Nc(r,T,_i(u)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.name=""+_i(B):r.removeAttribute("name")}function mm(r,a,u,c,m,y,T,B){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Bc(r);return}u=u!=null?""+_i(u):"",a=a!=null?""+_i(a):u,B||a===r.value||(r.value=a),r.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=B?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),Bc(r)}function Nc(r,a,u){a==="number"&&Bl(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function zs(r,a,u,c){if(r=r.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=a.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&c&&(r[u].defaultSelected=!0)}else{for(u=""+_i(u),a=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function gm(r,a,u){if(a!=null&&(a=""+_i(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+_i(u):""}function ym(r,a,u,c){if(a==null){if(c!=null){if(u!=null)throw Error(n(92));if(nt(c)){if(1<c.length)throw Error(n(93));c=c[0]}u=c}u==null&&(u=""),a=u}u=_i(a),r.defaultValue=u,c=r.textContent,c===u&&c!==""&&c!==null&&(r.value=c),Bc(r)}function Gs(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Z5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vm(r,a,u){var c=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,u):typeof u!="number"||u===0||Z5.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function _m(r,a,u){if(a!=null&&typeof a!="object")throw Error(n(62));if(r=r.style,u!=null){for(var c in u)!u.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&u[m]!==c&&vm(r,m,c)}else for(var y in a)a.hasOwnProperty(y)&&vm(r,y,a[y])}function Pc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(r){return Q5.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function An(){}var Lc=null;function Uc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hs=null,js=null;function xm(r){var a=Us(r);if(a&&(r=a.stateNode)){var u=r[Be]||null;t:switch(r=a.stateNode,a.type){case"input":if(Ic(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+xi(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var c=u[a];if(c!==r&&c.form===r.form){var m=c[Be]||null;if(!m)throw Error(n(90));Ic(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)c=u[a],c.form===r.form&&pm(c)}break t;case"textarea":gm(r,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&zs(r,!!u.multiple,a,!1)}}}var Fc=!1;function bm(r,a,u){if(Fc)return r(a,u);Fc=!0;try{var c=r(a);return c}finally{if(Fc=!1,(Hs!==null||js!==null)&&(xu(),Hs&&(a=Hs,r=js,js=Hs=null,xm(a),r)))for(a=0;a<r.length;a++)xm(r[a])}}function ro(r,a){var u=r.stateNode;if(u===null)return null;var c=u[Be]||null;if(c===null)return null;u=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(Sn)try{var so={};Object.defineProperty(so,"passive",{get:function(){kc=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{kc=!1}var nr=null,zc=null,Nl=null;function Tm(){if(Nl)return Nl;var r,a=zc,u=a.length,c,m="value"in nr?nr.value:nr.textContent,y=m.length;for(r=0;r<u&&a[r]===m[r];r++);var T=u-r;for(c=1;c<=T&&a[u-c]===m[y-c];c++);return Nl=m.slice(r,1<c?1-c:void 0)}function Pl(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ll(){return!0}function Em(){return!1}function qe(r){function a(u,c,m,y,T){this._reactName=u,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var B in r)r.hasOwnProperty(B)&&(u=r[B],this[B]=u?u(y):y[B]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ll:Em,this.isPropagationStopped=Em,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),a}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=qe(qr),ao=g({},qr,{view:0,detail:0}),J5=qe(ao),Gc,Hc,oo,Fl=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==oo&&(oo&&r.type==="mousemove"?(Gc=r.screenX-oo.screenX,Hc=r.screenY-oo.screenY):Hc=Gc=0,oo=r),Gc)},movementY:function(r){return"movementY"in r?r.movementY:Hc}}),Am=qe(Fl),t7=g({},Fl,{dataTransfer:0}),e7=qe(t7),i7=g({},ao,{relatedTarget:0}),jc=qe(i7),n7=g({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),r7=qe(n7),s7=g({},qr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),a7=qe(s7),o7=g({},qr,{data:0}),Sm=qe(o7),l7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c7(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=h7[r])?!!a[r]:!1}function Xc(){return c7}var f7=g({},ao,{key:function(r){if(r.key){var a=l7[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Pl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?u7[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(r){return r.type==="keypress"?Pl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),d7=qe(f7),p7=g({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=qe(p7),m7=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),g7=qe(m7),y7=g({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),v7=qe(y7),_7=g({},Fl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),x7=qe(_7),b7=g({},qr,{newState:0,oldState:0}),T7=qe(b7),E7=[9,13,27,32],Vc=Sn&&"CompositionEvent"in window,lo=null;Sn&&"documentMode"in document&&(lo=document.documentMode);var A7=Sn&&"TextEvent"in window&&!lo,Cm=Sn&&(!Vc||lo&&8<lo&&11>=lo),Mm=" ",Rm=!1;function Dm(r,a){switch(r){case"keyup":return E7.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xs=!1;function S7(r,a){switch(r){case"compositionend":return Om(a);case"keypress":return a.which!==32?null:(Rm=!0,Mm);case"textInput":return r=a.data,r===Mm&&Rm?null:r;default:return null}}function w7(r,a){if(Xs)return r==="compositionend"||!Vc&&Dm(r,a)?(r=Tm(),Nl=zc=nr=null,Xs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Cm&&a.locale!=="ko"?null:a.data;default:return null}}var C7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!C7[r.type]:a==="textarea"}function Im(r,a,u,c){Hs?js?js.push(c):js=[c]:Hs=c,a=Cu(a,"onChange"),0<a.length&&(u=new Ul("onChange","change",null,u,c),r.push({event:u,listeners:a}))}var uo=null,ho=null;function M7(r){my(r,0)}function kl(r){var a=no(r);if(pm(a))return r}function Nm(r,a){if(r==="change")return a}var Pm=!1;if(Sn){var Yc;if(Sn){var qc="oninput"in document;if(!qc){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),qc=typeof Lm.oninput=="function"}Yc=qc}else Yc=!1;Pm=Yc&&(!document.documentMode||9<document.documentMode)}function Um(){uo&&(uo.detachEvent("onpropertychange",Fm),ho=uo=null)}function Fm(r){if(r.propertyName==="value"&&kl(ho)){var a=[];Im(a,ho,r,Uc(r)),bm(M7,a)}}function R7(r,a,u){r==="focusin"?(Um(),uo=a,ho=u,uo.attachEvent("onpropertychange",Fm)):r==="focusout"&&Um()}function D7(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kl(ho)}function O7(r,a){if(r==="click")return kl(a)}function B7(r,a){if(r==="input"||r==="change")return kl(a)}function I7(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var si=typeof Object.is=="function"?Object.is:I7;function co(r,a){if(si(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),c=Object.keys(a);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var m=u[c];if(!Ki.call(a,m)||!si(r[m],a[m]))return!1}return!0}function km(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zm(r,a){var u=km(r);r=0;for(var c;u;){if(u.nodeType===3){if(c=r+u.textContent.length,r<=a&&c>=a)return{node:u,offset:a-r};r=c}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=km(u)}}function Gm(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Gm(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Hm(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Bl(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=Bl(r.document)}return a}function $c(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var N7=Sn&&"documentMode"in document&&11>=document.documentMode,Vs=null,Wc=null,fo=null,Zc=!1;function jm(r,a,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zc||Vs==null||Vs!==Bl(c)||(c=Vs,"selectionStart"in c&&$c(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fo&&co(fo,c)||(fo=c,c=Cu(Wc,"onSelect"),0<c.length&&(a=new Ul("onSelect","select",null,a,u),r.push({event:a,listeners:c}),a.target=Vs)))}function $r(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Ys={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Kc={},Xm={};Sn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Wr(r){if(Kc[r])return Kc[r];if(!Ys[r])return r;var a=Ys[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in Xm)return Kc[r]=a[u];return r}var Vm=Wr("animationend"),Ym=Wr("animationiteration"),qm=Wr("animationstart"),P7=Wr("transitionrun"),L7=Wr("transitionstart"),U7=Wr("transitioncancel"),$m=Wr("transitionend"),Wm=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Pi(r,a){Wm.set(r,a),Yr(a,[r])}var zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},bi=[],qs=0,Jc=0;function Gl(){for(var r=qs,a=Jc=qs=0;a<r;){var u=bi[a];bi[a++]=null;var c=bi[a];bi[a++]=null;var m=bi[a];bi[a++]=null;var y=bi[a];if(bi[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Zm(u,m,y)}}function Hl(r,a,u,c){bi[qs++]=r,bi[qs++]=a,bi[qs++]=u,bi[qs++]=c,Jc|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function tf(r,a,u,c){return Hl(r,a,u,c),jl(r)}function Zr(r,a){return Hl(r,null,null,a),jl(r)}function Zm(r,a,u){r.lanes|=u;var c=r.alternate;c!==null&&(c.lanes|=u);for(var m=!1,y=r.return;y!==null;)y.childLanes|=u,c=y.alternate,c!==null&&(c.childLanes|=u),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&a!==null&&(m=31-$(u),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[a]:c.push(a),a.lane=u|536870912),y):null}function jl(r){if(50<Po)throw Po=0,hd=null,Error(n(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var $s={};function F7(r,a,u,c){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(r,a,u,c){return new F7(r,a,u,c)}function ef(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wn(r,a){var u=r.alternate;return u===null?(u=ai(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Km(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Xl(r,a,u,c,m,y){var T=0;if(c=r,typeof r=="function")ef(r)&&(T=1);else if(typeof r=="string")T=jx(r,u,V.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case J:return r=ai(31,u,a,m),r.elementType=J,r.lanes=y,r;case b:return Kr(u.children,m,y,a);case E:T=8,m|=24;break;case A:return r=ai(12,u,a,m|2),r.elementType=A,r.lanes=y,r;case R:return r=ai(13,u,a,m),r.elementType=R,r.lanes=y,r;case F:return r=ai(19,u,a,m),r.elementType=F,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:T=10;break t;case I:T=9;break t;case N:T=11;break t;case D:T=14;break t;case X:T=16,c=null;break t}T=29,u=Error(n(130,r===null?"null":typeof r,"")),c=null}return a=ai(T,u,a,m),a.elementType=r,a.type=c,a.lanes=y,a}function Kr(r,a,u,c){return r=ai(7,r,c,a),r.lanes=u,r}function nf(r,a,u){return r=ai(6,r,null,a),r.lanes=u,r}function Qm(r){var a=ai(18,null,null,0);return a.stateNode=r,a}function rf(r,a,u){return a=ai(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Jm=new WeakMap;function Ti(r,a){if(typeof r=="object"&&r!==null){var u=Jm.get(r);return u!==void 0?u:(a={value:r,source:a,stack:ce(a)},Jm.set(r,a),a)}return{value:r,source:a,stack:ce(a)}}var Ws=[],Zs=0,Vl=null,po=0,Ei=[],Ai=0,rr=null,tn=1,en="";function Cn(r,a){Ws[Zs++]=po,Ws[Zs++]=Vl,Vl=r,po=a}function tg(r,a,u){Ei[Ai++]=tn,Ei[Ai++]=en,Ei[Ai++]=rr,rr=r;var c=tn;r=en;var m=32-$(c)-1;c&=~(1<<m),u+=1;var y=32-$(a)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,tn=1<<32-$(a)+m|u<<m|c,en=y+r}else tn=1<<y|u<<m|c,en=r}function sf(r){r.return!==null&&(Cn(r,1),tg(r,1,0))}function af(r){for(;r===Vl;)Vl=Ws[--Zs],Ws[Zs]=null,po=Ws[--Zs],Ws[Zs]=null;for(;r===rr;)rr=Ei[--Ai],Ei[Ai]=null,en=Ei[--Ai],Ei[Ai]=null,tn=Ei[--Ai],Ei[Ai]=null}function eg(r,a){Ei[Ai++]=tn,Ei[Ai++]=en,Ei[Ai++]=rr,tn=a.id,en=a.overflow,rr=r}var Ie=null,se=null,Xt=!1,sr=null,Si=!1,of=Error(n(519));function ar(r){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mo(Ti(a,r)),of}function ig(r){var a=r.stateNode,u=r.type,c=r.memoizedProps;switch(a[pe]=r,a[Be]=c,u){case"dialog":zt("cancel",a),zt("close",a);break;case"iframe":case"object":case"embed":zt("load",a);break;case"video":case"audio":for(u=0;u<Uo.length;u++)zt(Uo[u],a);break;case"source":zt("error",a);break;case"img":case"image":case"link":zt("error",a),zt("load",a);break;case"details":zt("toggle",a);break;case"input":zt("invalid",a),mm(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":zt("invalid",a);break;case"textarea":zt("invalid",a),ym(a,c.value,c.defaultValue,c.children)}u=c.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||c.suppressHydrationWarning===!0||_y(a.textContent,u)?(c.popover!=null&&(zt("beforetoggle",a),zt("toggle",a)),c.onScroll!=null&&zt("scroll",a),c.onScrollEnd!=null&&zt("scrollend",a),c.onClick!=null&&(a.onclick=An),a=!0):a=!1,a||ar(r,!0)}function ng(r){for(Ie=r.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Ie=Ie.return}}function Ks(r){if(r!==Ie)return!1;if(!Xt)return ng(r),Xt=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Sd(r.type,r.memoizedProps)),u=!u),u&&se&&ar(r),ng(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));se=My(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));se=My(r)}else a===27?(a=se,xr(r.type)?(r=Dd,Dd=null,se=r):se=a):se=Ie?Ci(r.stateNode.nextSibling):null;return!0}function Qr(){se=Ie=null,Xt=!1}function lf(){var r=sr;return r!==null&&(Ke===null?Ke=r:Ke.push.apply(Ke,r),sr=null),r}function mo(r){sr===null?sr=[r]:sr.push(r)}var uf=w(null),Jr=null,Mn=null;function or(r,a,u){k(uf,a._currentValue),a._currentValue=u}function Rn(r){r._currentValue=uf.current,P(uf)}function hf(r,a,u){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===u)break;r=r.return}}function cf(r,a,u,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;t:for(;y!==null;){var B=y;y=m;for(var G=0;G<a.length;G++)if(B.context===a[G]){y.lanes|=u,B=y.alternate,B!==null&&(B.lanes|=u),hf(y.return,u,r),c||(T=null);break t}y=B.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(n(341));T.lanes|=u,y=T.alternate,y!==null&&(y.lanes|=u),hf(T,u,r),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===r){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Qs(r,a,u,c){r=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var B=m.type;si(m.pendingProps.value,T.value)||(r!==null?r.push(B):r=[B])}}else if(m===ut.current){if(T=m.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Ho):r=[Ho])}m=m.return}r!==null&&cf(a,r,u,c),a.flags|=262144}function Yl(r){for(r=r.firstContext;r!==null;){if(!si(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ts(r){Jr=r,Mn=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ne(r){return rg(Jr,r)}function ql(r,a){return Jr===null&&ts(r),rg(r,a)}function rg(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Mn===null){if(r===null)throw Error(n(308));Mn=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Mn=Mn.next=a;return u}var k7=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},z7=i.unstable_scheduleCallback,G7=i.unstable_NormalPriority,_e={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new k7,data:new Map,refCount:0}}function go(r){r.refCount--,r.refCount===0&&z7(G7,function(){r.controller.abort()})}var yo=null,df=0,Js=0,ta=null;function H7(r,a){if(yo===null){var u=yo=[];df=0,Js=gd(),ta={status:"pending",value:void 0,then:function(c){u.push(c)}}}return df++,a.then(sg,sg),a}function sg(){if(--df===0&&yo!==null){ta!==null&&(ta.status="fulfilled");var r=yo;yo=null,Js=0,ta=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function j7(r,a){var u=[],c={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),c}var ag=S.S;S.S=function(r,a){j2=ve(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&H7(r,a),ag!==null&&ag(r,a)};var es=w(null);function pf(){var r=es.current;return r!==null?r:ie.pooledCache}function $l(r,a){a===null?k(es,es.current):k(es,a.pool)}function og(){var r=pf();return r===null?null:{parent:_e._currentValue,pool:r}}var ea=Error(n(460)),mf=Error(n(474)),Wl=Error(n(542)),Zl={then:function(){}};function lg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ug(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(An,An),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,cg(r),r;default:if(typeof a.status=="string")a.then(An,An);else{if(r=ie,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,cg(r),r}throw ns=a,ea}}function is(r){try{var a=r._init;return a(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ns=u,ea):u}}var ns=null;function hg(){if(ns===null)throw Error(n(459));var r=ns;return ns=null,r}function cg(r){if(r===ea||r===Wl)throw Error(n(483))}var ia=null,vo=0;function Kl(r){var a=vo;return vo+=1,ia===null&&(ia=[]),ug(ia,r,a)}function _o(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ql(r,a){throw a.$$typeof===v?Error(n(525)):(r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function fg(r){function a(Y,j){if(r){var Z=Y.deletions;Z===null?(Y.deletions=[j],Y.flags|=16):Z.push(j)}}function u(Y,j){if(!r)return null;for(;j!==null;)a(Y,j),j=j.sibling;return null}function c(Y){for(var j=new Map;Y!==null;)Y.key!==null?j.set(Y.key,Y):j.set(Y.index,Y),Y=Y.sibling;return j}function m(Y,j){return Y=wn(Y,j),Y.index=0,Y.sibling=null,Y}function y(Y,j,Z){return Y.index=Z,r?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<j?(Y.flags|=67108866,j):Z):(Y.flags|=67108866,j)):(Y.flags|=1048576,j)}function T(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function B(Y,j,Z,at){return j===null||j.tag!==6?(j=nf(Z,Y.mode,at),j.return=Y,j):(j=m(j,Z),j.return=Y,j)}function G(Y,j,Z,at){var Ct=Z.type;return Ct===b?st(Y,j,Z.props.children,at,Z.key):j!==null&&(j.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===X&&is(Ct)===j.type)?(j=m(j,Z.props),_o(j,Z),j.return=Y,j):(j=Xl(Z.type,Z.key,Z.props,null,Y.mode,at),_o(j,Z),j.return=Y,j)}function K(Y,j,Z,at){return j===null||j.tag!==4||j.stateNode.containerInfo!==Z.containerInfo||j.stateNode.implementation!==Z.implementation?(j=rf(Z,Y.mode,at),j.return=Y,j):(j=m(j,Z.children||[]),j.return=Y,j)}function st(Y,j,Z,at,Ct){return j===null||j.tag!==7?(j=Kr(Z,Y.mode,at,Ct),j.return=Y,j):(j=m(j,Z),j.return=Y,j)}function lt(Y,j,Z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=nf(""+j,Y.mode,Z),j.return=Y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return Z=Xl(j.type,j.key,j.props,null,Y.mode,Z),_o(Z,j),Z.return=Y,Z;case x:return j=rf(j,Y.mode,Z),j.return=Y,j;case X:return j=is(j),lt(Y,j,Z)}if(nt(j)||H(j))return j=Kr(j,Y.mode,Z,null),j.return=Y,j;if(typeof j.then=="function")return lt(Y,Kl(j),Z);if(j.$$typeof===C)return lt(Y,ql(Y,j),Z);Ql(Y,j)}return null}function Q(Y,j,Z,at){var Ct=j!==null?j.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ct!==null?null:B(Y,j,""+Z,at);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===Ct?G(Y,j,Z,at):null;case x:return Z.key===Ct?K(Y,j,Z,at):null;case X:return Z=is(Z),Q(Y,j,Z,at)}if(nt(Z)||H(Z))return Ct!==null?null:st(Y,j,Z,at,null);if(typeof Z.then=="function")return Q(Y,j,Kl(Z),at);if(Z.$$typeof===C)return Q(Y,j,ql(Y,Z),at);Ql(Y,Z)}return null}function it(Y,j,Z,at,Ct){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Y=Y.get(Z)||null,B(j,Y,""+at,Ct);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _:return Y=Y.get(at.key===null?Z:at.key)||null,G(j,Y,at,Ct);case x:return Y=Y.get(at.key===null?Z:at.key)||null,K(j,Y,at,Ct);case X:return at=is(at),it(Y,j,Z,at,Ct)}if(nt(at)||H(at))return Y=Y.get(Z)||null,st(j,Y,at,Ct,null);if(typeof at.then=="function")return it(Y,j,Z,Kl(at),Ct);if(at.$$typeof===C)return it(Y,j,Z,ql(j,at),Ct);Ql(j,at)}return null}function vt(Y,j,Z,at){for(var Ct=null,Yt=null,Et=j,Ft=j=0,jt=null;Et!==null&&Ft<Z.length;Ft++){Et.index>Ft?(jt=Et,Et=null):jt=Et.sibling;var qt=Q(Y,Et,Z[Ft],at);if(qt===null){Et===null&&(Et=jt);break}r&&Et&&qt.alternate===null&&a(Y,Et),j=y(qt,j,Ft),Yt===null?Ct=qt:Yt.sibling=qt,Yt=qt,Et=jt}if(Ft===Z.length)return u(Y,Et),Xt&&Cn(Y,Ft),Ct;if(Et===null){for(;Ft<Z.length;Ft++)Et=lt(Y,Z[Ft],at),Et!==null&&(j=y(Et,j,Ft),Yt===null?Ct=Et:Yt.sibling=Et,Yt=Et);return Xt&&Cn(Y,Ft),Ct}for(Et=c(Et);Ft<Z.length;Ft++)jt=it(Et,Y,Ft,Z[Ft],at),jt!==null&&(r&&jt.alternate!==null&&Et.delete(jt.key===null?Ft:jt.key),j=y(jt,j,Ft),Yt===null?Ct=jt:Yt.sibling=jt,Yt=jt);return r&&Et.forEach(function(Sr){return a(Y,Sr)}),Xt&&Cn(Y,Ft),Ct}function Mt(Y,j,Z,at){if(Z==null)throw Error(n(151));for(var Ct=null,Yt=null,Et=j,Ft=j=0,jt=null,qt=Z.next();Et!==null&&!qt.done;Ft++,qt=Z.next()){Et.index>Ft?(jt=Et,Et=null):jt=Et.sibling;var Sr=Q(Y,Et,qt.value,at);if(Sr===null){Et===null&&(Et=jt);break}r&&Et&&Sr.alternate===null&&a(Y,Et),j=y(Sr,j,Ft),Yt===null?Ct=Sr:Yt.sibling=Sr,Yt=Sr,Et=jt}if(qt.done)return u(Y,Et),Xt&&Cn(Y,Ft),Ct;if(Et===null){for(;!qt.done;Ft++,qt=Z.next())qt=lt(Y,qt.value,at),qt!==null&&(j=y(qt,j,Ft),Yt===null?Ct=qt:Yt.sibling=qt,Yt=qt);return Xt&&Cn(Y,Ft),Ct}for(Et=c(Et);!qt.done;Ft++,qt=Z.next())qt=it(Et,Y,Ft,qt.value,at),qt!==null&&(r&&qt.alternate!==null&&Et.delete(qt.key===null?Ft:qt.key),j=y(qt,j,Ft),Yt===null?Ct=qt:Yt.sibling=qt,Yt=qt);return r&&Et.forEach(function(t8){return a(Y,t8)}),Xt&&Cn(Y,Ft),Ct}function ee(Y,j,Z,at){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:t:{for(var Ct=Z.key;j!==null;){if(j.key===Ct){if(Ct=Z.type,Ct===b){if(j.tag===7){u(Y,j.sibling),at=m(j,Z.props.children),at.return=Y,Y=at;break t}}else if(j.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===X&&is(Ct)===j.type){u(Y,j.sibling),at=m(j,Z.props),_o(at,Z),at.return=Y,Y=at;break t}u(Y,j);break}else a(Y,j);j=j.sibling}Z.type===b?(at=Kr(Z.props.children,Y.mode,at,Z.key),at.return=Y,Y=at):(at=Xl(Z.type,Z.key,Z.props,null,Y.mode,at),_o(at,Z),at.return=Y,Y=at)}return T(Y);case x:t:{for(Ct=Z.key;j!==null;){if(j.key===Ct)if(j.tag===4&&j.stateNode.containerInfo===Z.containerInfo&&j.stateNode.implementation===Z.implementation){u(Y,j.sibling),at=m(j,Z.children||[]),at.return=Y,Y=at;break t}else{u(Y,j);break}else a(Y,j);j=j.sibling}at=rf(Z,Y.mode,at),at.return=Y,Y=at}return T(Y);case X:return Z=is(Z),ee(Y,j,Z,at)}if(nt(Z))return vt(Y,j,Z,at);if(H(Z)){if(Ct=H(Z),typeof Ct!="function")throw Error(n(150));return Z=Ct.call(Z),Mt(Y,j,Z,at)}if(typeof Z.then=="function")return ee(Y,j,Kl(Z),at);if(Z.$$typeof===C)return ee(Y,j,ql(Y,Z),at);Ql(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,j!==null&&j.tag===6?(u(Y,j.sibling),at=m(j,Z),at.return=Y,Y=at):(u(Y,j),at=nf(Z,Y.mode,at),at.return=Y,Y=at),T(Y)):u(Y,j)}return function(Y,j,Z,at){try{vo=0;var Ct=ee(Y,j,Z,at);return ia=null,Ct}catch(Et){if(Et===ea||Et===Wl)throw Et;var Yt=ai(29,Et,null,Y.mode);return Yt.lanes=at,Yt.return=Y,Yt}finally{}}}var rs=fg(!0),dg=fg(!1),lr=!1;function gf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ur(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function hr(r,a,u){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=jl(r),Zm(r,null,u),a}return Hl(r,c,a,u),jl(r)}function xo(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,u|=c,a.lanes=u,er(r,u)}}function vf(r,a){var u=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,u=u.next}while(u!==null);y===null?m=y=a:y=y.next=a}else m=y=a;u={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var _f=!1;function bo(){if(_f){var r=ta;if(r!==null)throw r}}function To(r,a,u,c){_f=!1;var m=r.updateQueue;lr=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,B=m.shared.pending;if(B!==null){m.shared.pending=null;var G=B,K=G.next;G.next=null,T===null?y=K:T.next=K,T=G;var st=r.alternate;st!==null&&(st=st.updateQueue,B=st.lastBaseUpdate,B!==T&&(B===null?st.firstBaseUpdate=K:B.next=K,st.lastBaseUpdate=G))}if(y!==null){var lt=m.baseState;T=0,st=K=G=null,B=y;do{var Q=B.lane&-536870913,it=Q!==B.lane;if(it?(Ht&Q)===Q:(c&Q)===Q){Q!==0&&Q===Js&&(_f=!0),st!==null&&(st=st.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});t:{var vt=r,Mt=B;Q=a;var ee=u;switch(Mt.tag){case 1:if(vt=Mt.payload,typeof vt=="function"){lt=vt.call(ee,lt,Q);break t}lt=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Mt.payload,Q=typeof vt=="function"?vt.call(ee,lt,Q):vt,Q==null)break t;lt=g({},lt,Q);break t;case 2:lr=!0}}Q=B.callback,Q!==null&&(r.flags|=64,it&&(r.flags|=8192),it=m.callbacks,it===null?m.callbacks=[Q]:it.push(Q))}else it={lane:Q,tag:B.tag,payload:B.payload,callback:B.callback,next:null},st===null?(K=st=it,G=lt):st=st.next=it,T|=Q;if(B=B.next,B===null){if(B=m.shared.pending,B===null)break;it=B,B=it.next,it.next=null,m.lastBaseUpdate=it,m.shared.pending=null}}while(!0);st===null&&(G=lt),m.baseState=G,m.firstBaseUpdate=K,m.lastBaseUpdate=st,y===null&&(m.shared.lanes=0),mr|=T,r.lanes=T,r.memoizedState=lt}}function pg(r,a){if(typeof r!="function")throw Error(n(191,r));r.call(a)}function mg(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)pg(u[r],a)}var na=w(null),Jl=w(0);function gg(r,a){r=Fn,k(Jl,r),k(na,a),Fn=r|a.baseLanes}function xf(){k(Jl,Fn),k(na,na.current)}function bf(){Fn=Jl.current,P(na),P(Jl)}var oi=w(null),wi=null;function cr(r){var a=r.alternate;k(me,me.current&1),k(oi,r),wi===null&&(a===null||na.current!==null||a.memoizedState!==null)&&(wi=r)}function Tf(r){k(me,me.current),k(oi,r),wi===null&&(wi=r)}function yg(r){r.tag===22?(k(me,me.current),k(oi,r),wi===null&&(wi=r)):fr()}function fr(){k(me,me.current),k(oi,oi.current)}function li(r){P(oi),wi===r&&(wi=null),P(me)}var me=w(0);function tu(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Md(u)||Rd(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dn=0,Ut=null,Jt=null,xe=null,eu=!1,ra=!1,ss=!1,iu=0,Eo=0,sa=null,X7=0;function fe(){throw Error(n(321))}function Ef(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!si(r[u],a[u]))return!1;return!0}function Af(r,a,u,c,m,y){return Dn=y,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,S.H=r===null||r.memoizedState===null?t2:kf,ss=!1,y=u(c,m),ss=!1,ra&&(y=_g(a,u,c,m)),vg(r),y}function vg(r){S.H=wo;var a=Jt!==null&&Jt.next!==null;if(Dn=0,xe=Jt=Ut=null,eu=!1,Eo=0,sa=null,a)throw Error(n(300));r===null||be||(r=r.dependencies,r!==null&&Yl(r)&&(be=!0))}function _g(r,a,u,c){Ut=r;var m=0;do{if(ra&&(sa=null),Eo=0,ra=!1,25<=m)throw Error(n(301));if(m+=1,xe=Jt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}S.H=e2,y=a(u,c)}while(ra);return y}function V7(){var r=S.H,a=r.useState()[0];return a=typeof a.then=="function"?Ao(a):a,r=r.useState()[0],(Jt!==null?Jt.memoizedState:null)!==r&&(Ut.flags|=1024),a}function Sf(){var r=iu!==0;return iu=0,r}function wf(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function Cf(r){if(eu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}eu=!1}Dn=0,xe=Jt=Ut=null,ra=!1,Eo=iu=0,sa=null}function Xe(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ut.memoizedState=xe=r:xe=xe.next=r,xe}function ge(){if(Jt===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var a=xe===null?Ut.memoizedState:xe.next;if(a!==null)xe=a,Jt=r;else{if(r===null)throw Ut.alternate===null?Error(n(467)):Error(n(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},xe===null?Ut.memoizedState=xe=r:xe=xe.next=r}return xe}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(r){var a=Eo;return Eo+=1,sa===null&&(sa=[]),r=ug(sa,r,a),a=Ut,(xe===null?a.memoizedState:xe.next)===null&&(a=a.alternate,S.H=a===null||a.memoizedState===null?t2:kf),r}function ru(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ao(r);if(r.$$typeof===C)return Ne(r)}throw Error(n(438,String(r)))}function Mf(r){var a=null,u=Ut.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var c=Ut.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=nu(),Ut.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),c=0;c<r;c++)u[c]=rt;return a.index++,u}function On(r,a){return typeof a=="function"?a(r):a}function su(r){var a=ge();return Rf(a,Jt,r)}function Rf(r,a,u){var c=r.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=u;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}a.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var B=T=null,G=null,K=a,st=!1;do{var lt=K.lane&-536870913;if(lt!==K.lane?(Ht&lt)===lt:(Dn&lt)===lt){var Q=K.revertLane;if(Q===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),lt===Js&&(st=!0);else if((Dn&Q)===Q){K=K.next,Q===Js&&(st=!0);continue}else lt={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},G===null?(B=G=lt,T=y):G=G.next=lt,Ut.lanes|=Q,mr|=Q;lt=K.action,ss&&u(y,lt),y=K.hasEagerState?K.eagerState:u(y,lt)}else Q={lane:lt,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},G===null?(B=G=Q,T=y):G=G.next=Q,Ut.lanes|=lt,mr|=lt;K=K.next}while(K!==null&&K!==a);if(G===null?T=y:G.next=B,!si(y,r.memoizedState)&&(be=!0,st&&(u=ta,u!==null)))throw u;r.memoizedState=y,r.baseState=T,r.baseQueue=G,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Df(r){var a=ge(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var c=u.dispatch,m=u.pending,y=a.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);si(y,a.memoizedState)||(be=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,c]}function xg(r,a,u){var c=Ut,m=ge(),y=Xt;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=a();var T=!si((Jt||m).memoizedState,u);if(T&&(m.memoizedState=u,be=!0),m=m.queue,If(Eg.bind(null,c,m,r),[r]),m.getSnapshot!==a||T||xe!==null&&xe.memoizedState.tag&1){if(c.flags|=2048,aa(9,{destroy:void 0},Tg.bind(null,c,m,u,a),null),ie===null)throw Error(n(349));y||(Dn&127)!==0||bg(c,a,u)}return u}function bg(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Ut.updateQueue,a===null?(a=nu(),Ut.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Tg(r,a,u,c){a.value=u,a.getSnapshot=c,Ag(a)&&Sg(r)}function Eg(r,a,u){return u(function(){Ag(a)&&Sg(r)})}function Ag(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!si(r,u)}catch{return!0}}function Sg(r){var a=Zr(r,2);a!==null&&Qe(a,r,2)}function Of(r){var a=Xe();if(typeof r=="function"){var u=r;if(r=u(),ss){ni(!0);try{u()}finally{ni(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:r},a}function wg(r,a,u,c){return r.baseState=u,Rf(r,Jt,typeof c=="function"?c:On)}function Y7(r,a,u,c,m){if(lu(r))throw Error(n(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};S.T!==null?u(!0):y.isTransition=!1,c(y),u=a.pending,u===null?(y.next=a.pending=y,Cg(a,y)):(y.next=u.next,a.pending=u.next=y)}}function Cg(r,a){var u=a.action,c=a.payload,m=r.state;if(a.isTransition){var y=S.T,T={};S.T=T;try{var B=u(m,c),G=S.S;G!==null&&G(T,B),Mg(r,a,B)}catch(K){Bf(r,a,K)}finally{y!==null&&T.types!==null&&(y.types=T.types),S.T=y}}else try{y=u(m,c),Mg(r,a,y)}catch(K){Bf(r,a,K)}}function Mg(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(c){Rg(r,a,c)},function(c){return Bf(r,a,c)}):Rg(r,a,u)}function Rg(r,a,u){a.status="fulfilled",a.value=u,Dg(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,Cg(r,u)))}function Bf(r,a,u){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=u,Dg(a),a=a.next;while(a!==c)}r.action=null}function Dg(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Og(r,a){return a}function Bg(r,a){if(Xt){var u=ie.formState;if(u!==null){t:{var c=Ut;if(Xt){if(se){e:{for(var m=se,y=Si;m.nodeType!==8;){if(!y){m=null;break e}if(m=Ci(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){se=Ci(m.nextSibling),c=m.data==="F!";break t}}ar(c)}c=!1}c&&(a=u[0])}}return u=Xe(),u.memoizedState=u.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:a},u.queue=c,u=Kg.bind(null,Ut,c),c.dispatch=u,c=Of(!1),y=Ff.bind(null,Ut,!1,c.queue),c=Xe(),m={state:a,dispatch:null,action:r,pending:null},c.queue=m,u=Y7.bind(null,Ut,m,y,u),m.dispatch=u,c.memoizedState=r,[a,u,!1]}function Ig(r){var a=ge();return Ng(a,Jt,r)}function Ng(r,a,u){if(a=Rf(r,a,Og)[0],r=su(On)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ao(a)}catch(T){throw T===ea?Wl:T}else c=a;a=ge();var m=a.queue,y=m.dispatch;return u!==a.memoizedState&&(Ut.flags|=2048,aa(9,{destroy:void 0},q7.bind(null,m,u),null)),[c,y,r]}function q7(r,a){r.action=a}function Pg(r){var a=ge(),u=Jt;if(u!==null)return Ng(a,u,r);ge(),a=a.memoizedState,u=ge();var c=u.queue.dispatch;return u.memoizedState=r,[a,c,!1]}function aa(r,a,u,c){return r={tag:r,create:u,deps:c,inst:a,next:null},a=Ut.updateQueue,a===null&&(a=nu(),Ut.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(c=u.next,u.next=r,r.next=c,a.lastEffect=r),r}function Lg(){return ge().memoizedState}function au(r,a,u,c){var m=Xe();Ut.flags|=r,m.memoizedState=aa(1|a,{destroy:void 0},u,c===void 0?null:c)}function ou(r,a,u,c){var m=ge();c=c===void 0?null:c;var y=m.memoizedState.inst;Jt!==null&&c!==null&&Ef(c,Jt.memoizedState.deps)?m.memoizedState=aa(a,y,u,c):(Ut.flags|=r,m.memoizedState=aa(1|a,y,u,c))}function Ug(r,a){au(8390656,8,r,a)}function If(r,a){ou(2048,8,r,a)}function $7(r){Ut.flags|=4;var a=Ut.updateQueue;if(a===null)a=nu(),Ut.updateQueue=a,a.events=[r];else{var u=a.events;u===null?a.events=[r]:u.push(r)}}function Fg(r){var a=ge().memoizedState;return $7({ref:a,nextImpl:r}),function(){if(($t&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function kg(r,a){return ou(4,2,r,a)}function zg(r,a){return ou(4,4,r,a)}function Gg(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Hg(r,a,u){u=u!=null?u.concat([r]):null,ou(4,4,Gg.bind(null,a,r),u)}function Nf(){}function jg(r,a){var u=ge();a=a===void 0?null:a;var c=u.memoizedState;return a!==null&&Ef(a,c[1])?c[0]:(u.memoizedState=[r,a],r)}function Xg(r,a){var u=ge();a=a===void 0?null:a;var c=u.memoizedState;if(a!==null&&Ef(a,c[1]))return c[0];if(c=r(),ss){ni(!0);try{r()}finally{ni(!1)}}return u.memoizedState=[c,a],c}function Pf(r,a,u){return u===void 0||(Dn&1073741824)!==0&&(Ht&261930)===0?r.memoizedState=a:(r.memoizedState=u,r=V2(),Ut.lanes|=r,mr|=r,u)}function Vg(r,a,u,c){return si(u,a)?u:na.current!==null?(r=Pf(r,u,c),si(r,a)||(be=!0),r):(Dn&42)===0||(Dn&1073741824)!==0&&(Ht&261930)===0?(be=!0,r.memoizedState=u):(r=V2(),Ut.lanes|=r,mr|=r,a)}function Yg(r,a,u,c,m){var y=M.p;M.p=y!==0&&8>y?y:8;var T=S.T,B={};S.T=B,Ff(r,!1,a,u);try{var G=m(),K=S.S;if(K!==null&&K(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var st=j7(G,c);So(r,a,st,ci(r))}else So(r,a,c,ci(r))}catch(lt){So(r,a,{then:function(){},status:"rejected",reason:lt},ci())}finally{M.p=y,T!==null&&B.types!==null&&(T.types=B.types),S.T=T}}function W7(){}function Lf(r,a,u,c){if(r.tag!==5)throw Error(n(476));var m=qg(r).queue;Yg(r,m,a,O,u===null?W7:function(){return $g(r),u(c)})}function qg(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:O},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function $g(r){var a=qg(r);a.next===null&&(a=r.alternate.memoizedState),So(r,a.next.queue,{},ci())}function Uf(){return Ne(Ho)}function Wg(){return ge().memoizedState}function Zg(){return ge().memoizedState}function Z7(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=ci();r=ur(u);var c=hr(a,r,u);c!==null&&(Qe(c,a,u),xo(c,a,u)),a={cache:ff()},r.payload=a;return}a=a.return}}function K7(r,a,u){var c=ci();u={lane:c,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lu(r)?Qg(a,u):(u=tf(r,a,u,c),u!==null&&(Qe(u,r,c),Jg(u,a,c)))}function Kg(r,a,u){var c=ci();So(r,a,u,c)}function So(r,a,u,c){var m={lane:c,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(lu(r))Qg(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,B=y(T,u);if(m.hasEagerState=!0,m.eagerState=B,si(B,T))return Hl(r,a,m,0),ie===null&&Gl(),!1}catch{}finally{}if(u=tf(r,a,m,c),u!==null)return Qe(u,r,c),Jg(u,a,c),!0}return!1}function Ff(r,a,u,c){if(c={lane:2,revertLane:gd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},lu(r)){if(a)throw Error(n(479))}else a=tf(r,u,c,2),a!==null&&Qe(a,r,2)}function lu(r){var a=r.alternate;return r===Ut||a!==null&&a===Ut}function Qg(r,a){ra=eu=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function Jg(r,a,u){if((u&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,u|=c,a.lanes=u,er(r,u)}}var wo={readContext:Ne,use:ru,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};wo.useEffectEvent=fe;var t2={readContext:Ne,use:ru,useCallback:function(r,a){return Xe().memoizedState=[r,a===void 0?null:a],r},useContext:Ne,useEffect:Ug,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,au(4194308,4,Gg.bind(null,a,r),u)},useLayoutEffect:function(r,a){return au(4194308,4,r,a)},useInsertionEffect:function(r,a){au(4,2,r,a)},useMemo:function(r,a){var u=Xe();a=a===void 0?null:a;var c=r();if(ss){ni(!0);try{r()}finally{ni(!1)}}return u.memoizedState=[c,a],c},useReducer:function(r,a,u){var c=Xe();if(u!==void 0){var m=u(a);if(ss){ni(!0);try{u(a)}finally{ni(!1)}}}else m=a;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=K7.bind(null,Ut,r),[c.memoizedState,r]},useRef:function(r){var a=Xe();return r={current:r},a.memoizedState=r},useState:function(r){r=Of(r);var a=r.queue,u=Kg.bind(null,Ut,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:Nf,useDeferredValue:function(r,a){var u=Xe();return Pf(u,r,a)},useTransition:function(){var r=Of(!1);return r=Yg.bind(null,Ut,r.queue,!0,!1),Xe().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var c=Ut,m=Xe();if(Xt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),ie===null)throw Error(n(349));(Ht&127)!==0||bg(c,a,u)}m.memoizedState=u;var y={value:u,getSnapshot:a};return m.queue=y,Ug(Eg.bind(null,c,y,r),[r]),c.flags|=2048,aa(9,{destroy:void 0},Tg.bind(null,c,y,u,a),null),u},useId:function(){var r=Xe(),a=ie.identifierPrefix;if(Xt){var u=en,c=tn;u=(c&~(1<<32-$(c)-1)).toString(32)+u,a="_"+a+"R_"+u,u=iu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=X7++,a="_"+a+"r_"+u.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Uf,useFormState:Bg,useActionState:Bg,useOptimistic:function(r){var a=Xe();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Ff.bind(null,Ut,!0,u),u.dispatch=a,[r,a]},useMemoCache:Mf,useCacheRefresh:function(){return Xe().memoizedState=Z7.bind(null,Ut)},useEffectEvent:function(r){var a=Xe(),u={impl:r};return a.memoizedState=u,function(){if(($t&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},kf={readContext:Ne,use:ru,useCallback:jg,useContext:Ne,useEffect:If,useImperativeHandle:Hg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:Xg,useReducer:su,useRef:Lg,useState:function(){return su(On)},useDebugValue:Nf,useDeferredValue:function(r,a){var u=ge();return Vg(u,Jt.memoizedState,r,a)},useTransition:function(){var r=su(On)[0],a=ge().memoizedState;return[typeof r=="boolean"?r:Ao(r),a]},useSyncExternalStore:xg,useId:Wg,useHostTransitionStatus:Uf,useFormState:Ig,useActionState:Ig,useOptimistic:function(r,a){var u=ge();return wg(u,Jt,r,a)},useMemoCache:Mf,useCacheRefresh:Zg};kf.useEffectEvent=Fg;var e2={readContext:Ne,use:ru,useCallback:jg,useContext:Ne,useEffect:If,useImperativeHandle:Hg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:Xg,useReducer:Df,useRef:Lg,useState:function(){return Df(On)},useDebugValue:Nf,useDeferredValue:function(r,a){var u=ge();return Jt===null?Pf(u,r,a):Vg(u,Jt.memoizedState,r,a)},useTransition:function(){var r=Df(On)[0],a=ge().memoizedState;return[typeof r=="boolean"?r:Ao(r),a]},useSyncExternalStore:xg,useId:Wg,useHostTransitionStatus:Uf,useFormState:Pg,useActionState:Pg,useOptimistic:function(r,a){var u=ge();return Jt!==null?wg(u,Jt,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Zg};e2.useEffectEvent=Fg;function zf(r,a,u,c){a=r.memoizedState,u=u(c,a),u=u==null?a:g({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Gf={enqueueSetState:function(r,a,u){r=r._reactInternals;var c=ci(),m=ur(c);m.payload=a,u!=null&&(m.callback=u),a=hr(r,m,c),a!==null&&(Qe(a,r,c),xo(a,r,c))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var c=ci(),m=ur(c);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=hr(r,m,c),a!==null&&(Qe(a,r,c),xo(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=ci(),c=ur(u);c.tag=2,a!=null&&(c.callback=a),a=hr(r,c,u),a!==null&&(Qe(a,r,u),xo(a,r,u))}};function i2(r,a,u,c,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!co(u,c)||!co(m,y):!0}function n2(r,a,u,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,c),a.state!==r&&Gf.enqueueReplaceState(a,a.state,null)}function as(r,a){var u=a;if("ref"in a){u={};for(var c in a)c!=="ref"&&(u[c]=a[c])}if(r=r.defaultProps){u===a&&(u=g({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}function r2(r){zl(r)}function s2(r){console.error(r)}function a2(r){zl(r)}function uu(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function o2(r,a,u){try{var c=r.onCaughtError;c(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Hf(r,a,u){return u=ur(u),u.tag=3,u.payload={element:null},u.callback=function(){uu(r,a)},u}function l2(r){return r=ur(r),r.tag=3,r}function u2(r,a,u,c){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){o2(a,u,c)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){o2(a,u,c),typeof m!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})})}function Q7(r,a,u,c,m){if(u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=u.alternate,a!==null&&Qs(a,u,m,!0),u=oi.current,u!==null){switch(u.tag){case 31:case 13:return wi===null?bu():u.alternate===null&&de===0&&(de=3),u.flags&=-257,u.flags|=65536,u.lanes=m,c===Zl?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([c]):a.add(c),dd(r,c,m)),!1;case 22:return u.flags|=65536,c===Zl?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([c]):u.add(c)),dd(r,c,m)),!1}throw Error(n(435,u.tag))}return dd(r,c,m),bu(),!1}if(Xt)return a=oi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==of&&(r=Error(n(422),{cause:c}),mo(Ti(r,u)))):(c!==of&&(a=Error(n(423),{cause:c}),mo(Ti(a,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Ti(c,u),m=Hf(r.stateNode,c,m),vf(r,m),de!==4&&(de=2)),!1;var y=Error(n(520),{cause:c});if(y=Ti(y,u),No===null?No=[y]:No.push(y),de!==4&&(de=2),a===null)return!0;c=Ti(c,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=Hf(u.stateNode,c,r),vf(u,r),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=l2(m),u2(m,r,u,c),vf(u,m),!1}u=u.return}while(u!==null);return!1}var jf=Error(n(461)),be=!1;function Pe(r,a,u,c){a.child=r===null?dg(a,null,u,c):rs(a,r.child,u,c)}function h2(r,a,u,c,m){u=u.render;var y=a.ref;if("ref"in c){var T={};for(var B in c)B!=="ref"&&(T[B]=c[B])}else T=c;return ts(a),c=Af(r,a,u,T,y,m),B=Sf(),r!==null&&!be?(wf(r,a,m),Bn(r,a,m)):(Xt&&B&&sf(a),a.flags|=1,Pe(r,a,c,m),a.child)}function c2(r,a,u,c,m){if(r===null){var y=u.type;return typeof y=="function"&&!ef(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,f2(r,a,y,c,m)):(r=Xl(u.type,null,c,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Kf(r,m)){var T=y.memoizedProps;if(u=u.compare,u=u!==null?u:co,u(T,c)&&r.ref===a.ref)return Bn(r,a,m)}return a.flags|=1,r=wn(y,c),r.ref=a.ref,r.return=a,a.child=r}function f2(r,a,u,c,m){if(r!==null){var y=r.memoizedProps;if(co(y,c)&&r.ref===a.ref)if(be=!1,a.pendingProps=c=y,Kf(r,m))(r.flags&131072)!==0&&(be=!0);else return a.lanes=r.lanes,Bn(r,a,m)}return Xf(r,a,u,c,m)}function d2(r,a,u,c){var m=c.children,y=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,r!==null){for(c=a.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,a.child=null;return p2(r,a,y,u,c)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&$l(a,y!==null?y.cachePool:null),y!==null?gg(a,y):xf(),yg(a);else return c=a.lanes=536870912,p2(r,a,y!==null?y.baseLanes|u:u,u,c)}else y!==null?($l(a,y.cachePool),gg(a,y),fr(),a.memoizedState=null):(r!==null&&$l(a,null),xf(),fr());return Pe(r,a,m,u),a.child}function Co(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function p2(r,a,u,c,m){var y=pf();return y=y===null?null:{parent:_e._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},r!==null&&$l(a,null),xf(),yg(a),r!==null&&Qs(r,a,c,!0),a.childLanes=m,null}function hu(r,a){return a=fu({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function m2(r,a,u){return rs(a,r.child,null,u),r=hu(a,a.pendingProps),r.flags|=2,li(a),a.memoizedState=null,r}function J7(r,a,u){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Xt){if(c.mode==="hidden")return r=hu(a,c),a.lanes=536870912,Co(null,r);if(Tf(a),(r=se)?(r=Cy(r,Si),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:rr!==null?{id:tn,overflow:en}:null,retryLane:536870912,hydrationErrors:null},u=Qm(r),u.return=a,a.child=u,Ie=a,se=null)):r=null,r===null)throw ar(a);return a.lanes=536870912,null}return hu(a,c)}var y=r.memoizedState;if(y!==null){var T=y.dehydrated;if(Tf(a),m)if(a.flags&256)a.flags&=-257,a=m2(r,a,u);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(n(558));else if(be||Qs(r,a,u,!1),m=(u&r.childLanes)!==0,be||m){if(c=ie,c!==null&&(T=Ns(c,u),T!==0&&T!==y.retryLane))throw y.retryLane=T,Zr(r,T),Qe(c,r,T),jf;bu(),a=m2(r,a,u)}else r=y.treeContext,se=Ci(T.nextSibling),Ie=a,Xt=!0,sr=null,Si=!1,r!==null&&eg(a,r),a=hu(a,c),a.flags|=4096;return a}return r=wn(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function cu(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function Xf(r,a,u,c,m){return ts(a),u=Af(r,a,u,c,void 0,m),c=Sf(),r!==null&&!be?(wf(r,a,m),Bn(r,a,m)):(Xt&&c&&sf(a),a.flags|=1,Pe(r,a,u,m),a.child)}function g2(r,a,u,c,m,y){return ts(a),a.updateQueue=null,u=_g(a,c,u,m),vg(r),c=Sf(),r!==null&&!be?(wf(r,a,y),Bn(r,a,y)):(Xt&&c&&sf(a),a.flags|=1,Pe(r,a,u,y),a.child)}function y2(r,a,u,c,m){if(ts(a),a.stateNode===null){var y=$s,T=u.contextType;typeof T=="object"&&T!==null&&(y=Ne(T)),y=new u(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Gf,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},gf(a),T=u.contextType,y.context=typeof T=="object"&&T!==null?Ne(T):$s,y.state=a.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(zf(a,u,T,c),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Gf.enqueueReplaceState(y,y.state,null),To(a,c,y,m),bo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var B=a.memoizedProps,G=as(u,B);y.props=G;var K=y.context,st=u.contextType;T=$s,typeof st=="object"&&st!==null&&(T=Ne(st));var lt=u.getDerivedStateFromProps;st=typeof lt=="function"||typeof y.getSnapshotBeforeUpdate=="function",B=a.pendingProps!==B,st||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(B||K!==T)&&n2(a,y,c,T),lr=!1;var Q=a.memoizedState;y.state=Q,To(a,c,y,m),bo(),K=a.memoizedState,B||Q!==K||lr?(typeof lt=="function"&&(zf(a,u,lt,c),K=a.memoizedState),(G=lr||i2(a,u,G,c,Q,K,T))?(st||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=T,c=G):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,yf(r,a),T=a.memoizedProps,st=as(u,T),y.props=st,lt=a.pendingProps,Q=y.context,K=u.contextType,G=$s,typeof K=="object"&&K!==null&&(G=Ne(K)),B=u.getDerivedStateFromProps,(K=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==lt||Q!==G)&&n2(a,y,c,G),lr=!1,Q=a.memoizedState,y.state=Q,To(a,c,y,m),bo();var it=a.memoizedState;T!==lt||Q!==it||lr||r!==null&&r.dependencies!==null&&Yl(r.dependencies)?(typeof B=="function"&&(zf(a,u,B,c),it=a.memoizedState),(st=lr||i2(a,u,st,c,Q,it,G)||r!==null&&r.dependencies!==null&&Yl(r.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,it,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,it,G)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=it),y.props=c,y.state=it,y.context=G,c=st):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,cu(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,u=c&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=rs(a,r.child,null,m),a.child=rs(a,null,u,m)):Pe(r,a,u,m),a.memoizedState=y.state,r=a.child):r=Bn(r,a,m),r}function v2(r,a,u,c){return Qr(),a.flags|=256,Pe(r,a,u,c),a.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(r){return{baseLanes:r,cachePool:og()}}function qf(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=hi),r}function _2(r,a,u){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(me.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(Xt){if(m?cr(a):fr(),(r=se)?(r=Cy(r,Si),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:rr!==null?{id:tn,overflow:en}:null,retryLane:536870912,hydrationErrors:null},u=Qm(r),u.return=a,a.child=u,Ie=a,se=null)):r=null,r===null)throw ar(a);return Rd(r)?a.lanes=32:a.lanes=536870912,null}var B=c.children;return c=c.fallback,m?(fr(),m=a.mode,B=fu({mode:"hidden",children:B},m),c=Kr(c,m,u,null),B.return=a,c.return=a,B.sibling=c,a.child=B,c=a.child,c.memoizedState=Yf(u),c.childLanes=qf(r,T,u),a.memoizedState=Vf,Co(null,c)):(cr(a),$f(a,B))}var G=r.memoizedState;if(G!==null&&(B=G.dehydrated,B!==null)){if(y)a.flags&256?(cr(a),a.flags&=-257,a=Wf(r,a,u)):a.memoizedState!==null?(fr(),a.child=r.child,a.flags|=128,a=null):(fr(),B=c.fallback,m=a.mode,c=fu({mode:"visible",children:c.children},m),B=Kr(B,m,u,null),B.flags|=2,c.return=a,B.return=a,c.sibling=B,a.child=c,rs(a,r.child,null,u),c=a.child,c.memoizedState=Yf(u),c.childLanes=qf(r,T,u),a.memoizedState=Vf,a=Co(null,c));else if(cr(a),Rd(B)){if(T=B.nextSibling&&B.nextSibling.dataset,T)var K=T.dgst;T=K,c=Error(n(419)),c.stack="",c.digest=T,mo({value:c,source:null,stack:null}),a=Wf(r,a,u)}else if(be||Qs(r,a,u,!1),T=(u&r.childLanes)!==0,be||T){if(T=ie,T!==null&&(c=Ns(T,u),c!==0&&c!==G.retryLane))throw G.retryLane=c,Zr(r,c),Qe(T,r,c),jf;Md(B)||bu(),a=Wf(r,a,u)}else Md(B)?(a.flags|=192,a.child=r.child,a=null):(r=G.treeContext,se=Ci(B.nextSibling),Ie=a,Xt=!0,sr=null,Si=!1,r!==null&&eg(a,r),a=$f(a,c.children),a.flags|=4096);return a}return m?(fr(),B=c.fallback,m=a.mode,G=r.child,K=G.sibling,c=wn(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,K!==null?B=wn(K,B):(B=Kr(B,m,u,null),B.flags|=2),B.return=a,c.return=a,c.sibling=B,a.child=c,Co(null,c),c=a.child,B=r.child.memoizedState,B===null?B=Yf(u):(m=B.cachePool,m!==null?(G=_e._currentValue,m=m.parent!==G?{parent:G,pool:G}:m):m=og(),B={baseLanes:B.baseLanes|u,cachePool:m}),c.memoizedState=B,c.childLanes=qf(r,T,u),a.memoizedState=Vf,Co(r.child,c)):(cr(a),u=r.child,r=u.sibling,u=wn(u,{mode:"visible",children:c.children}),u.return=a,u.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=u,a.memoizedState=null,u)}function $f(r,a){return a=fu({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function fu(r,a){return r=ai(22,r,null,a),r.lanes=0,r}function Wf(r,a,u){return rs(a,r.child,null,u),r=$f(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function x2(r,a,u){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),hf(r.return,a,u)}function Zf(r,a,u,c,m,y){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:m,treeForkCount:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=u,T.tailMode=m,T.treeForkCount=y)}function b2(r,a,u){var c=a.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var T=me.current,B=(T&2)!==0;if(B?(T=T&1|2,a.flags|=128):T&=1,k(me,T),Pe(r,a,c,u),c=Xt?po:0,!B&&r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&x2(r,u,a);else if(r.tag===19)x2(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(u=a.child,m=null;u!==null;)r=u.alternate,r!==null&&tu(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),Zf(a,!1,m,u,y,c);break;case"backwards":case"unstable_legacy-backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&tu(r)===null){a.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}Zf(a,!0,u,null,y,c);break;case"together":Zf(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Bn(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),mr|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(Qs(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,u=wn(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=wn(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Kf(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Yl(r)))}function tx(r,a,u){switch(a.tag){case 3:ft(a,a.stateNode.containerInfo),or(a,_e,r.memoizedState.cache),Qr();break;case 27:case 5:ht(a);break;case 4:ft(a,a.stateNode.containerInfo);break;case 10:or(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Tf(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(a),a.flags|=128,null):(u&a.child.childLanes)!==0?_2(r,a,u):(cr(a),r=Bn(r,a,u),r!==null?r.sibling:null);cr(a);break;case 19:var m=(r.flags&128)!==0;if(c=(u&a.childLanes)!==0,c||(Qs(r,a,u,!1),c=(u&a.childLanes)!==0),m){if(c)return b2(r,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),k(me,me.current),c)break;return null;case 22:return a.lanes=0,d2(r,a,u,a.pendingProps);case 24:or(a,_e,r.memoizedState.cache)}return Bn(r,a,u)}function T2(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)be=!0;else{if(!Kf(r,u)&&(a.flags&128)===0)return be=!1,tx(r,a,u);be=(r.flags&131072)!==0}else be=!1,Xt&&(a.flags&1048576)!==0&&tg(a,po,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(r=is(a.elementType),a.type=r,typeof r=="function")ef(r)?(c=as(r,c),a.tag=1,a=y2(null,a,r,c,u)):(a.tag=0,a=Xf(null,a,r,c,u));else{if(r!=null){var m=r.$$typeof;if(m===N){a.tag=11,a=h2(null,a,r,c,u);break t}else if(m===D){a.tag=14,a=c2(null,a,r,c,u);break t}}throw a=L(r)||r,Error(n(306,a,""))}}return a;case 0:return Xf(r,a,a.type,a.pendingProps,u);case 1:return c=a.type,m=as(c,a.pendingProps),y2(r,a,c,m,u);case 3:t:{if(ft(a,a.stateNode.containerInfo),r===null)throw Error(n(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,yf(r,a),To(a,c,null,u);var T=a.memoizedState;if(c=T.cache,or(a,_e,c),c!==y.cache&&cf(a,[_e],u,!0),bo(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=v2(r,a,c,u);break t}else if(c!==m){m=Ti(Error(n(424)),a),mo(m),a=v2(r,a,c,u);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(se=Ci(r.firstChild),Ie=a,Xt=!0,sr=null,Si=!0,u=dg(a,null,c,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Qr(),c===m){a=Bn(r,a,u);break t}Pe(r,a,c,u)}a=a.child}return a;case 26:return cu(r,a),r===null?(u=Iy(a.type,null,a.pendingProps,null))?a.memoizedState=u:Xt||(u=a.type,r=a.pendingProps,c=Mu(ot.current).createElement(u),c[pe]=a,c[Be]=r,Le(c,u,r),Ce(c),a.stateNode=c):a.memoizedState=Iy(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return ht(a),r===null&&Xt&&(c=a.stateNode=Dy(a.type,a.pendingProps,ot.current),Ie=a,Si=!0,m=se,xr(a.type)?(Dd=m,se=Ci(c.firstChild)):se=m),Pe(r,a,a.pendingProps.children,u),cu(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Xt&&((m=c=se)&&(c=Dx(c,a.type,a.pendingProps,Si),c!==null?(a.stateNode=c,Ie=a,se=Ci(c.firstChild),Si=!1,m=!0):m=!1),m||ar(a)),ht(a),m=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,Sd(m,y)?c=null:T!==null&&Sd(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=Af(r,a,V7,null,null,u),Ho._currentValue=m),cu(r,a),Pe(r,a,c,u),a.child;case 6:return r===null&&Xt&&((r=u=se)&&(u=Ox(u,a.pendingProps,Si),u!==null?(a.stateNode=u,Ie=a,se=null,r=!0):r=!1),r||ar(a)),null;case 13:return _2(r,a,u);case 4:return ft(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=rs(a,null,c,u):Pe(r,a,c,u),a.child;case 11:return h2(r,a,a.type,a.pendingProps,u);case 7:return Pe(r,a,a.pendingProps,u),a.child;case 8:return Pe(r,a,a.pendingProps.children,u),a.child;case 12:return Pe(r,a,a.pendingProps.children,u),a.child;case 10:return c=a.pendingProps,or(a,a.type,c.value),Pe(r,a,c.children,u),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,ts(a),m=Ne(m),c=c(m),a.flags|=1,Pe(r,a,c,u),a.child;case 14:return c2(r,a,a.type,a.pendingProps,u);case 15:return f2(r,a,a.type,a.pendingProps,u);case 19:return b2(r,a,u);case 31:return J7(r,a,u);case 22:return d2(r,a,u,a.pendingProps);case 24:return ts(a),c=Ne(_e),r===null?(m=pf(),m===null&&(m=ie,y=ff(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),a.memoizedState={parent:c,cache:m},gf(a),or(a,_e,m)):((r.lanes&u)!==0&&(yf(r,a),To(a,null,null,u),bo()),m=r.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),or(a,_e,c)):(c=y.cache,or(a,_e,c),c!==m.cache&&cf(a,[_e],u,!0))),Pe(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function In(r){r.flags|=4}function Qf(r,a,u,c,m){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(W2())r.flags|=8192;else throw ns=Zl,mf}else r.flags&=-16777217}function E2(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Fy(a))if(W2())r.flags|=8192;else throw ns=Zl,mf}function du(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?xn():536870912,r.lanes|=a,ha|=a)}function Mo(r,a){if(!Xt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ae(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,c=0;if(a)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=u,a}function ex(r,a,u){var c=a.pendingProps;switch(af(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(a),null;case 1:return ae(a),null;case 3:return u=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Rn(_e),dt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Ks(a)?In(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lf())),ae(a),null;case 26:var m=a.type,y=a.memoizedState;return r===null?(In(a),y!==null?(ae(a),E2(a,y)):(ae(a),Qf(a,m,null,c,u))):y?y!==r.memoizedState?(In(a),ae(a),E2(a,y)):(ae(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&In(a),ae(a),Qf(a,m,r,c,u)),null;case 27:if(_t(a),u=ot.current,m=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&In(a);else{if(!c){if(a.stateNode===null)throw Error(n(166));return ae(a),null}r=V.current,Ks(a)?ig(a):(r=Dy(m,c,u),a.stateNode=r,In(a))}return ae(a),null;case 5:if(_t(a),m=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&In(a);else{if(!c){if(a.stateNode===null)throw Error(n(166));return ae(a),null}if(y=V.current,Ks(a))ig(a);else{var T=Mu(ot.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}y[pe]=a,y[Be]=c;t:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break t;for(;T.sibling===null;){if(T.return===null||T.return===a)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=y;t:switch(Le(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&In(a)}}return ae(a),Qf(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,u),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&In(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(n(166));if(r=ot.current,Ks(a)){if(r=a.stateNode,u=a.memoizedProps,c=null,m=Ie,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[pe]=a,r=!!(r.nodeValue===u||c!==null&&c.suppressHydrationWarning===!0||_y(r.nodeValue,u)),r||ar(a,!0)}else r=Mu(r).createTextNode(c),r[pe]=a,a.stateNode=r}return ae(a),null;case 31:if(u=a.memoizedState,r===null||r.memoizedState!==null){if(c=Ks(a),u!==null){if(r===null){if(!c)throw Error(n(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(557));r[pe]=a}else Qr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ae(a),r=!1}else u=lf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return a.flags&256?(li(a),a):(li(a),null);if((a.flags&128)!==0)throw Error(n(558))}return ae(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Ks(a),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[pe]=a}else Qr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ae(a),m=!1}else m=lf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(li(a),a):(li(a),null)}return li(a),(a.flags&128)!==0?(a.lanes=u,a):(u=c!==null,r=r!==null&&r.memoizedState!==null,u&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),u!==r&&u&&(a.child.flags|=8192),du(a,a.updateQueue),ae(a),null);case 4:return dt(),r===null&&xd(a.stateNode.containerInfo),ae(a),null;case 10:return Rn(a.type),ae(a),null;case 19:if(P(me),c=a.memoizedState,c===null)return ae(a),null;if(m=(a.flags&128)!==0,y=c.rendering,y===null)if(m)Mo(c,!1);else{if(de!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=tu(r),y!==null){for(a.flags|=128,Mo(c,!1),r=y.updateQueue,a.updateQueue=r,du(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)Km(u,r),u=u.sibling;return k(me,me.current&1|2),Xt&&Cn(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&ve()>vu&&(a.flags|=128,m=!0,Mo(c,!1),a.lanes=4194304)}else{if(!m)if(r=tu(y),r!==null){if(a.flags|=128,m=!0,r=r.updateQueue,a.updateQueue=r,du(a,r),Mo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Xt)return ae(a),null}else 2*ve()-c.renderingStartTime>vu&&u!==536870912&&(a.flags|=128,m=!0,Mo(c,!1),a.lanes=4194304);c.isBackwards?(y.sibling=a.child,a.child=y):(r=c.last,r!==null?r.sibling=y:a.child=y,c.last=y)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=ve(),r.sibling=null,u=me.current,k(me,m?u&1|2:u&1),Xt&&Cn(a,c.treeForkCount),r):(ae(a),null);case 22:case 23:return li(a),bf(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(u&536870912)!==0&&(a.flags&128)===0&&(ae(a),a.subtreeFlags&6&&(a.flags|=8192)):ae(a),u=a.updateQueue,u!==null&&du(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==u&&(a.flags|=2048),r!==null&&P(es),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Rn(_e),ae(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function ix(r,a){switch(af(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Rn(_e),dt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return _t(a),null;case 31:if(a.memoizedState!==null){if(li(a),a.alternate===null)throw Error(n(340));Qr()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(li(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Qr()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return P(me),null;case 4:return dt(),null;case 10:return Rn(a.type),null;case 22:case 23:return li(a),bf(),r!==null&&P(es),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Rn(_e),null;case 25:return null;default:return null}}function A2(r,a){switch(af(a),a.tag){case 3:Rn(_e),dt();break;case 26:case 27:case 5:_t(a);break;case 4:dt();break;case 31:a.memoizedState!==null&&li(a);break;case 13:li(a);break;case 19:P(me);break;case 10:Rn(a.type);break;case 22:case 23:li(a),bf(),r!==null&&P(es);break;case 24:Rn(_e)}}function Ro(r,a){try{var u=a.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var m=c.next;u=m;do{if((u.tag&r)===r){c=void 0;var y=u.create,T=u.inst;c=y(),T.destroy=c}u=u.next}while(u!==m)}}catch(B){Kt(a,a.return,B)}}function dr(r,a,u){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var T=c.inst,B=T.destroy;if(B!==void 0){T.destroy=void 0,m=a;var G=u,K=B;try{K()}catch(st){Kt(m,G,st)}}}c=c.next}while(c!==y)}}catch(st){Kt(a,a.return,st)}}function S2(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{mg(a,u)}catch(c){Kt(r,r.return,c)}}}function w2(r,a,u){u.props=as(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(c){Kt(r,a,c)}}function Do(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof u=="function"?r.refCleanup=u(c):u.current=c}}catch(m){Kt(r,a,m)}}function nn(r,a){var u=r.ref,c=r.refCleanup;if(u!==null)if(typeof c=="function")try{c()}catch(m){Kt(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Kt(r,a,m)}else u.current=null}function C2(r){var a=r.type,u=r.memoizedProps,c=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&c.focus();break t;case"img":u.src?c.src=u.src:u.srcSet&&(c.srcset=u.srcSet)}}catch(m){Kt(r,r.return,m)}}function Jf(r,a,u){try{var c=r.stateNode;Ax(c,r.type,u,a),c[Be]=a}catch(m){Kt(r,r.return,m)}}function M2(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xr(r.type)||r.tag===4}function td(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||M2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ed(r,a,u){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=An));else if(c!==4&&(c===27&&xr(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(ed(r,a,u),r=r.sibling;r!==null;)ed(r,a,u),r=r.sibling}function pu(r,a,u){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(c!==4&&(c===27&&xr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(pu(r,a,u),r=r.sibling;r!==null;)pu(r,a,u),r=r.sibling}function R2(r){var a=r.stateNode,u=r.memoizedProps;try{for(var c=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Le(a,c,u),a[pe]=r,a[Be]=u}catch(y){Kt(r,r.return,y)}}var Nn=!1,Te=!1,id=!1,D2=typeof WeakSet=="function"?WeakSet:Set,Me=null;function nx(r,a){if(r=r.containerInfo,Ed=Pu,r=Hm(r),$c(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var T=0,B=-1,G=-1,K=0,st=0,lt=r,Q=null;e:for(;;){for(var it;lt!==u||m!==0&&lt.nodeType!==3||(B=T+m),lt!==y||c!==0&&lt.nodeType!==3||(G=T+c),lt.nodeType===3&&(T+=lt.nodeValue.length),(it=lt.firstChild)!==null;)Q=lt,lt=it;for(;;){if(lt===r)break e;if(Q===u&&++K===m&&(B=T),Q===y&&++st===c&&(G=T),(it=lt.nextSibling)!==null)break;lt=Q,Q=lt.parentNode}lt=it}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ad={focusedElem:r,selectionRange:u},Pu=!1,Me=a;Me!==null;)if(a=Me,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Me=r;else for(;Me!==null;){switch(a=Me,y=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)m=r[u],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,u=a,m=y.memoizedProps,y=y.memoizedState,c=u.stateNode;try{var vt=as(u.type,m);r=c.getSnapshotBeforeUpdate(vt,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Mt){Kt(u,u.return,Mt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)Cd(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Cd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=a.sibling,r!==null){r.return=a.return,Me=r;break}Me=a.return}}function O2(r,a,u){var c=u.flags;switch(u.tag){case 0:case 11:case 15:Ln(r,u),c&4&&Ro(5,u);break;case 1:if(Ln(r,u),c&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(T){Kt(u,u.return,T)}else{var m=as(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Kt(u,u.return,T)}}c&64&&S2(u),c&512&&Do(u,u.return);break;case 3:if(Ln(r,u),c&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{mg(r,a)}catch(T){Kt(u,u.return,T)}}break;case 27:a===null&&c&4&&R2(u);case 26:case 5:Ln(r,u),a===null&&c&4&&C2(u),c&512&&Do(u,u.return);break;case 12:Ln(r,u);break;case 31:Ln(r,u),c&4&&N2(r,u);break;case 13:Ln(r,u),c&4&&P2(r,u),c&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=fx.bind(null,u),Bx(r,u))));break;case 22:if(c=u.memoizedState!==null||Nn,!c){a=a!==null&&a.memoizedState!==null||Te,m=Nn;var y=Te;Nn=c,(Te=a)&&!y?Un(r,u,(u.subtreeFlags&8772)!==0):Ln(r,u),Nn=m,Te=y}break;case 30:break;default:Ln(r,u)}}function B2(r){var a=r.alternate;a!==null&&(r.alternate=null,B2(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&io(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var le=null,$e=!1;function Pn(r,a,u){for(u=u.child;u!==null;)I2(r,a,u),u=u.sibling}function I2(r,a,u){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Xr,u)}catch{}switch(u.tag){case 26:Te||nn(u,a),Pn(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Te||nn(u,a);var c=le,m=$e;xr(u.type)&&(le=u.stateNode,$e=!1),Pn(r,a,u),ko(u.stateNode),le=c,$e=m;break;case 5:Te||nn(u,a);case 6:if(c=le,m=$e,le=null,Pn(r,a,u),le=c,$e=m,le!==null)if($e)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(u.stateNode)}catch(y){Kt(u,a,y)}else try{le.removeChild(u.stateNode)}catch(y){Kt(u,a,y)}break;case 18:le!==null&&($e?(r=le,Sy(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),va(r)):Sy(le,u.stateNode));break;case 4:c=le,m=$e,le=u.stateNode.containerInfo,$e=!0,Pn(r,a,u),le=c,$e=m;break;case 0:case 11:case 14:case 15:dr(2,u,a),Te||dr(4,u,a),Pn(r,a,u);break;case 1:Te||(nn(u,a),c=u.stateNode,typeof c.componentWillUnmount=="function"&&w2(u,a,c)),Pn(r,a,u);break;case 21:Pn(r,a,u);break;case 22:Te=(c=Te)||u.memoizedState!==null,Pn(r,a,u),Te=c;break;default:Pn(r,a,u)}}function N2(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{va(r)}catch(u){Kt(a,a.return,u)}}}function P2(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{va(r)}catch(u){Kt(a,a.return,u)}}function rx(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new D2),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new D2),a;default:throw Error(n(435,r.tag))}}function mu(r,a){var u=rx(r);a.forEach(function(c){if(!u.has(c)){u.add(c);var m=dx.bind(null,r,c);c.then(m,m)}})}function We(r,a){var u=a.deletions;if(u!==null)for(var c=0;c<u.length;c++){var m=u[c],y=r,T=a,B=T;t:for(;B!==null;){switch(B.tag){case 27:if(xr(B.type)){le=B.stateNode,$e=!1;break t}break;case 5:le=B.stateNode,$e=!1;break t;case 3:case 4:le=B.stateNode.containerInfo,$e=!0;break t}B=B.return}if(le===null)throw Error(n(160));I2(y,T,m),le=null,$e=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)L2(a,r),a=a.sibling}var Li=null;function L2(r,a){var u=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:We(a,r),Ze(r),c&4&&(dr(3,r,r.return),Ro(3,r),dr(5,r,r.return));break;case 1:We(a,r),Ze(r),c&512&&(Te||u===null||nn(u,u.return)),c&64&&Nn&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?c:u.concat(c))));break;case 26:var m=Li;if(We(a,r),Ze(r),c&512&&(Te||u===null||nn(u,u.return)),c&4){var y=u!==null?u.memoizedState:null;if(c=r.memoizedState,u===null)if(c===null)if(r.stateNode===null){t:{c=r.type,u=r.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ji]||y[pe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Le(y,c,u),y[pe]=r,Ce(y),c=y;break t;case"link":var T=Ly("link","href",m).get(c+(u.href||""));if(T){for(var B=0;B<T.length;B++)if(y=T[B],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(B,1);break e}}y=m.createElement(c),Le(y,c,u),m.head.appendChild(y);break;case"meta":if(T=Ly("meta","content",m).get(c+(u.content||""))){for(B=0;B<T.length;B++)if(y=T[B],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(B,1);break e}}y=m.createElement(c),Le(y,c,u),m.head.appendChild(y);break;default:throw Error(n(468,c))}y[pe]=r,Ce(y),c=y}r.stateNode=c}else Uy(m,r.type,r.stateNode);else r.stateNode=Py(m,c,r.memoizedProps);else y!==c?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,c===null?Uy(m,r.type,r.stateNode):Py(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Jf(r,r.memoizedProps,u.memoizedProps)}break;case 27:We(a,r),Ze(r),c&512&&(Te||u===null||nn(u,u.return)),u!==null&&c&4&&Jf(r,r.memoizedProps,u.memoizedProps);break;case 5:if(We(a,r),Ze(r),c&512&&(Te||u===null||nn(u,u.return)),r.flags&32){m=r.stateNode;try{Gs(m,"")}catch(vt){Kt(r,r.return,vt)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Jf(r,m,u!==null?u.memoizedProps:m)),c&1024&&(id=!0);break;case 6:if(We(a,r),Ze(r),c&4){if(r.stateNode===null)throw Error(n(162));c=r.memoizedProps,u=r.stateNode;try{u.nodeValue=c}catch(vt){Kt(r,r.return,vt)}}break;case 3:if(Ou=null,m=Li,Li=Ru(a.containerInfo),We(a,r),Li=m,Ze(r),c&4&&u!==null&&u.memoizedState.isDehydrated)try{va(a.containerInfo)}catch(vt){Kt(r,r.return,vt)}id&&(id=!1,U2(r));break;case 4:c=Li,Li=Ru(r.stateNode.containerInfo),We(a,r),Ze(r),Li=c;break;case 12:We(a,r),Ze(r);break;case 31:We(a,r),Ze(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,mu(r,c)));break;case 13:We(a,r),Ze(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(yu=ve()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,mu(r,c)));break;case 22:m=r.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,K=Nn,st=Te;if(Nn=K||m,Te=st||G,We(a,r),Te=st,Nn=K,Ze(r),c&8192)t:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(u===null||G||Nn||Te||os(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){G=u=a;try{if(y=G.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{B=G.stateNode;var lt=G.memoizedProps.style,Q=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;B.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(vt){Kt(G,G.return,vt)}}}else if(a.tag===6){if(u===null){G=a;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(vt){Kt(G,G.return,vt)}}}else if(a.tag===18){if(u===null){G=a;try{var it=G.stateNode;m?wy(it,!0):wy(G.stateNode,!1)}catch(vt){Kt(G,G.return,vt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(u=c.retryQueue,u!==null&&(c.retryQueue=null,mu(r,u))));break;case 19:We(a,r),Ze(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,mu(r,c)));break;case 30:break;case 21:break;default:We(a,r),Ze(r)}}function Ze(r){var a=r.flags;if(a&2){try{for(var u,c=r.return;c!==null;){if(M2(c)){u=c;break}c=c.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var m=u.stateNode,y=td(r);pu(r,y,m);break;case 5:var T=u.stateNode;u.flags&32&&(Gs(T,""),u.flags&=-33);var B=td(r);pu(r,B,T);break;case 3:case 4:var G=u.stateNode.containerInfo,K=td(r);ed(r,K,G);break;default:throw Error(n(161))}}catch(st){Kt(r,r.return,st)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function U2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;U2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ln(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)O2(r,a.alternate,a),a=a.sibling}function os(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:dr(4,a,a.return),os(a);break;case 1:nn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&w2(a,a.return,u),os(a);break;case 27:ko(a.stateNode);case 26:case 5:nn(a,a.return),os(a);break;case 22:a.memoizedState===null&&os(a);break;case 30:os(a);break;default:os(a)}r=r.sibling}}function Un(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Un(m,y,u),Ro(4,y);break;case 1:if(Un(m,y,u),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Kt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var B=c.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)pg(G[m],B)}catch(K){Kt(c,c.return,K)}}u&&T&64&&S2(y),Do(y,y.return);break;case 27:R2(y);case 26:case 5:Un(m,y,u),u&&c===null&&T&4&&C2(y),Do(y,y.return);break;case 12:Un(m,y,u);break;case 31:Un(m,y,u),u&&T&4&&N2(m,y);break;case 13:Un(m,y,u),u&&T&4&&P2(m,y);break;case 22:y.memoizedState===null&&Un(m,y,u),Do(y,y.return);break;case 30:break;default:Un(m,y,u)}a=a.sibling}}function nd(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&go(u))}function rd(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&go(r))}function Ui(r,a,u,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)F2(r,a,u,c),a=a.sibling}function F2(r,a,u,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(r,a,u,c),m&2048&&Ro(9,a);break;case 1:Ui(r,a,u,c);break;case 3:Ui(r,a,u,c),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&go(r)));break;case 12:if(m&2048){Ui(r,a,u,c),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,B=y.onPostCommit;typeof B=="function"&&B(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){Kt(a,a.return,G)}}else Ui(r,a,u,c);break;case 31:Ui(r,a,u,c);break;case 13:Ui(r,a,u,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Ui(r,a,u,c):Oo(r,a):y._visibility&2?Ui(r,a,u,c):(y._visibility|=2,oa(r,a,u,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&nd(T,a);break;case 24:Ui(r,a,u,c),m&2048&&rd(a.alternate,a);break;default:Ui(r,a,u,c)}}function oa(r,a,u,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=r,T=a,B=u,G=c,K=T.flags;switch(T.tag){case 0:case 11:case 15:oa(y,T,B,G,m),Ro(8,T);break;case 23:break;case 22:var st=T.stateNode;T.memoizedState!==null?st._visibility&2?oa(y,T,B,G,m):Oo(y,T):(st._visibility|=2,oa(y,T,B,G,m)),m&&K&2048&&nd(T.alternate,T);break;case 24:oa(y,T,B,G,m),m&&K&2048&&rd(T.alternate,T);break;default:oa(y,T,B,G,m)}a=a.sibling}}function Oo(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,c=a,m=c.flags;switch(c.tag){case 22:Oo(u,c),m&2048&&nd(c.alternate,c);break;case 24:Oo(u,c),m&2048&&rd(c.alternate,c);break;default:Oo(u,c)}a=a.sibling}}var Bo=8192;function la(r,a,u){if(r.subtreeFlags&Bo)for(r=r.child;r!==null;)k2(r,a,u),r=r.sibling}function k2(r,a,u){switch(r.tag){case 26:la(r,a,u),r.flags&Bo&&r.memoizedState!==null&&Xx(u,Li,r.memoizedState,r.memoizedProps);break;case 5:la(r,a,u);break;case 3:case 4:var c=Li;Li=Ru(r.stateNode.containerInfo),la(r,a,u),Li=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Bo,Bo=16777216,la(r,a,u),Bo=c):la(r,a,u));break;default:la(r,a,u)}}function z2(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Io(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var c=a[u];Me=c,H2(c,r)}z2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G2(r),r=r.sibling}function G2(r){switch(r.tag){case 0:case 11:case 15:Io(r),r.flags&2048&&dr(9,r,r.return);break;case 3:Io(r);break;case 12:Io(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,gu(r)):Io(r);break;default:Io(r)}}function gu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var c=a[u];Me=c,H2(c,r)}z2(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:dr(8,a,a.return),gu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,gu(a));break;default:gu(a)}r=r.sibling}}function H2(r,a){for(;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:dr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var c=u.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:go(u.memoizedState.cache)}if(c=u.child,c!==null)c.return=u,Me=c;else t:for(u=r;Me!==null;){c=Me;var m=c.sibling,y=c.return;if(B2(c),c===u){Me=null;break t}if(m!==null){m.return=y,Me=m;break t}Me=y}}}var sx={getCacheForType:function(r){var a=Ne(_e),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u},cacheSignal:function(){return Ne(_e).controller.signal}},ax=typeof WeakMap=="function"?WeakMap:Map,$t=0,ie=null,kt=null,Ht=0,Zt=0,ui=null,pr=!1,ua=!1,sd=!1,Fn=0,de=0,mr=0,ls=0,ad=0,hi=0,ha=0,No=null,Ke=null,od=!1,yu=0,j2=0,vu=1/0,_u=null,gr=null,Ae=0,yr=null,ca=null,kn=0,ld=0,ud=null,X2=null,Po=0,hd=null;function ci(){return($t&2)!==0&&Ht!==0?Ht&-Ht:S.T!==null?gd():Ps()}function V2(){if(hi===0)if((Ht&536870912)===0||Xt){var r=It;It<<=1,(It&3932160)===0&&(It=262144),hi=r}else hi=536870912;return r=oi.current,r!==null&&(r.flags|=32),hi}function Qe(r,a,u){(r===ie&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)&&(fa(r,0),vr(r,Ht,hi,!1)),tr(r,u),(($t&2)===0||r!==ie)&&(r===ie&&(($t&2)===0&&(ls|=u),de===4&&vr(r,Ht,hi,!1)),rn(r))}function Y2(r,a,u){if(($t&6)!==0)throw Error(n(327));var c=!u&&(a&127)===0&&(a&r.expiredLanes)===0||Ye(r,a),m=c?ux(r,a):fd(r,a,!0),y=c;do{if(m===0){ua&&!c&&vr(r,a,0,!1);break}else{if(u=r.current.alternate,y&&!ox(u)){m=fd(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var B=r;m=No;var G=B.current.memoizedState.isDehydrated;if(G&&(fa(B,T).flags|=256),T=fd(B,T,!1),T!==2){if(sd&&!G){B.errorRecoveryDisabledLanes|=y,ls|=y,m=4;break t}y=Ke,Ke=m,y!==null&&(Ke===null?Ke=y:Ke.push.apply(Ke,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){fa(r,0),vr(r,a,0,!0);break}t:{switch(c=r,y=m,y){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:vr(c,a,hi,!pr);break t;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(m=yu+300-ve(),10<m)){if(vr(c,a,hi,!pr),we(c,0,!0)!==0)break t;kn=a,c.timeoutHandle=Ey(q2.bind(null,c,u,Ke,_u,od,a,hi,ls,ha,pr,y,"Throttled",-0,0),m);break t}q2(c,u,Ke,_u,od,a,hi,ls,ha,pr,y,null,-0,0)}}break}while(!0);rn(r)}function q2(r,a,u,c,m,y,T,B,G,K,st,lt,Q,it){if(r.timeoutHandle=-1,lt=a.subtreeFlags,lt&8192||(lt&16785408)===16785408){lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},k2(a,y,lt);var vt=(y&62914560)===y?yu-ve():(y&4194048)===y?j2-ve():0;if(vt=Vx(lt,vt),vt!==null){kn=y,r.cancelPendingCommit=vt(ey.bind(null,r,a,y,u,c,m,T,B,G,st,lt,null,Q,it)),vr(r,y,T,!K);return}}ey(r,a,y,u,c,m,T,B,G)}function ox(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var c=0;c<u.length;c++){var m=u[c],y=m.getSnapshot;m=m.value;try{if(!si(y(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vr(r,a,u,c){a&=~ad,a&=~ls,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var m=a;0<m;){var y=31-$(m),T=1<<y;c[y]=-1,m&=~T}u!==0&&Ja(r,u,a)}function xu(){return($t&6)===0?(Lo(0),!1):!0}function cd(){if(kt!==null){if(Zt===0)var r=kt.return;else r=kt,Mn=Jr=null,Cf(r),ia=null,vo=0,r=kt;for(;r!==null;)A2(r.alternate,r),r=r.return;kt=null}}function fa(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Cx(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),kn=0,cd(),ie=r,kt=u=wn(r.current,null),Ht=a,Zt=0,ui=null,pr=!1,ua=Ye(r,a),sd=!1,ha=hi=ad=ls=mr=de=0,Ke=No=null,od=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var m=31-$(c),y=1<<m;a|=r[m],c&=~y}return Fn=a,Gl(),u}function $2(r,a){Ut=null,S.H=wo,a===ea||a===Wl?(a=hg(),Zt=3):a===mf?(a=hg(),Zt=4):Zt=a===jf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ui=a,kt===null&&(de=1,uu(r,Ti(a,r.current)))}function W2(){var r=oi.current;return r===null?!0:(Ht&4194048)===Ht?wi===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?r===wi:!1}function Z2(){var r=S.H;return S.H=wo,r===null?wo:r}function K2(){var r=S.A;return S.A=sx,r}function bu(){de=4,pr||(Ht&4194048)!==Ht&&oi.current!==null||(ua=!0),(mr&134217727)===0&&(ls&134217727)===0||ie===null||vr(ie,Ht,hi,!1)}function fd(r,a,u){var c=$t;$t|=2;var m=Z2(),y=K2();(ie!==r||Ht!==a)&&(_u=null,fa(r,a)),a=!1;var T=de;t:do try{if(Zt!==0&&kt!==null){var B=kt,G=ui;switch(Zt){case 8:cd(),T=6;break t;case 3:case 2:case 9:case 6:oi.current===null&&(a=!0);var K=Zt;if(Zt=0,ui=null,da(r,B,G,K),u&&ua){T=0;break t}break;default:K=Zt,Zt=0,ui=null,da(r,B,G,K)}}lx(),T=de;break}catch(st){$2(r,st)}while(!0);return a&&r.shellSuspendCounter++,Mn=Jr=null,$t=c,S.H=m,S.A=y,kt===null&&(ie=null,Ht=0,Gl()),T}function lx(){for(;kt!==null;)Q2(kt)}function ux(r,a){var u=$t;$t|=2;var c=Z2(),m=K2();ie!==r||Ht!==a?(_u=null,vu=ve()+500,fa(r,a)):ua=Ye(r,a);t:do try{if(Zt!==0&&kt!==null){a=kt;var y=ui;e:switch(Zt){case 1:Zt=0,ui=null,da(r,a,y,1);break;case 2:case 9:if(lg(y)){Zt=0,ui=null,J2(a);break}a=function(){Zt!==2&&Zt!==9||ie!==r||(Zt=7),rn(r)},y.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:lg(y)?(Zt=0,ui=null,J2(a)):(Zt=0,ui=null,da(r,a,y,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var B=kt;if(T?Fy(T):B.stateNode.complete){Zt=0,ui=null;var G=B.sibling;if(G!==null)kt=G;else{var K=B.return;K!==null?(kt=K,Tu(K)):kt=null}break e}}Zt=0,ui=null,da(r,a,y,5);break;case 6:Zt=0,ui=null,da(r,a,y,6);break;case 8:cd(),de=6;break t;default:throw Error(n(462))}}hx();break}catch(st){$2(r,st)}while(!0);return Mn=Jr=null,S.H=c,S.A=m,$t=u,kt!==null?0:(ie=null,Ht=0,Gl(),de)}function hx(){for(;kt!==null&&!Qn();)Q2(kt)}function Q2(r){var a=T2(r.alternate,r,Fn);r.memoizedProps=r.pendingProps,a===null?Tu(r):kt=a}function J2(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=g2(u,a,a.pendingProps,a.type,void 0,Ht);break;case 11:a=g2(u,a,a.pendingProps,a.type.render,a.ref,Ht);break;case 5:Cf(a);default:A2(u,a),a=kt=Km(a,Fn),a=T2(u,a,Fn)}r.memoizedProps=r.pendingProps,a===null?Tu(r):kt=a}function da(r,a,u,c){Mn=Jr=null,Cf(a),ia=null,vo=0;var m=a.return;try{if(Q7(r,m,a,u,Ht)){de=1,uu(r,Ti(u,r.current)),kt=null;return}}catch(y){if(m!==null)throw kt=m,y;de=1,uu(r,Ti(u,r.current)),kt=null;return}a.flags&32768?(Xt||c===1?r=!0:ua||(Ht&536870912)!==0?r=!1:(pr=r=!0,(c===2||c===9||c===3||c===6)&&(c=oi.current,c!==null&&c.tag===13&&(c.flags|=16384))),ty(a,r)):Tu(a)}function Tu(r){var a=r;do{if((a.flags&32768)!==0){ty(a,pr);return}r=a.return;var u=ex(a.alternate,a,Fn);if(u!==null){kt=u;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=r}while(a!==null);de===0&&(de=5)}function ty(r,a){do{var u=ix(r.alternate,r);if(u!==null){u.flags&=32767,kt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){kt=r;return}kt=r=u}while(r!==null);de=6,kt=null}function ey(r,a,u,c,m,y,T,B,G){r.cancelPendingCommit=null;do Eu();while(Ae!==0);if(($t&6)!==0)throw Error(n(327));if(a!==null){if(a===r.current)throw Error(n(177));if(y=a.lanes|a.childLanes,y|=Jc,Rl(r,u,y,T,B,G),r===ie&&(kt=ie=null,Ht=0),ca=a,yr=r,kn=u,ld=y,ud=m,X2=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,px(Bs,function(){return ay(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=S.T,S.T=null,m=M.p,M.p=2,T=$t,$t|=4;try{nx(r,a,u)}finally{$t=T,M.p=m,S.T=c}}Ae=1,iy(),ny(),ry()}}function iy(){if(Ae===1){Ae=0;var r=yr,a=ca,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=S.T,S.T=null;var c=M.p;M.p=2;var m=$t;$t|=4;try{L2(a,r);var y=Ad,T=Hm(r.containerInfo),B=y.focusedElem,G=y.selectionRange;if(T!==B&&B&&B.ownerDocument&&Gm(B.ownerDocument.documentElement,B)){if(G!==null&&$c(B)){var K=G.start,st=G.end;if(st===void 0&&(st=K),"selectionStart"in B)B.selectionStart=K,B.selectionEnd=Math.min(st,B.value.length);else{var lt=B.ownerDocument||document,Q=lt&&lt.defaultView||window;if(Q.getSelection){var it=Q.getSelection(),vt=B.textContent.length,Mt=Math.min(G.start,vt),ee=G.end===void 0?Mt:Math.min(G.end,vt);!it.extend&&Mt>ee&&(T=ee,ee=Mt,Mt=T);var Y=zm(B,Mt),j=zm(B,ee);if(Y&&j&&(it.rangeCount!==1||it.anchorNode!==Y.node||it.anchorOffset!==Y.offset||it.focusNode!==j.node||it.focusOffset!==j.offset)){var Z=lt.createRange();Z.setStart(Y.node,Y.offset),it.removeAllRanges(),Mt>ee?(it.addRange(Z),it.extend(j.node,j.offset)):(Z.setEnd(j.node,j.offset),it.addRange(Z))}}}}for(lt=[],it=B;it=it.parentNode;)it.nodeType===1&&lt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<lt.length;B++){var at=lt[B];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Pu=!!Ed,Ad=Ed=null}finally{$t=m,M.p=c,S.T=u}}r.current=a,Ae=2}}function ny(){if(Ae===2){Ae=0;var r=yr,a=ca,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=S.T,S.T=null;var c=M.p;M.p=2;var m=$t;$t|=4;try{O2(r,a.alternate,a)}finally{$t=m,M.p=c,S.T=u}}Ae=3}}function ry(){if(Ae===4||Ae===3){Ae=0,Jn();var r=yr,a=ca,u=kn,c=X2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ae=5:(Ae=0,ca=yr=null,sy(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(gr=null),Vr(u),a=a.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Xr,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=S.T,m=M.p,M.p=2,S.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var B=c[T];y(B.value,{componentStack:B.stack})}}finally{S.T=a,M.p=m}}(kn&3)!==0&&Eu(),rn(r),m=r.pendingLanes,(u&261930)!==0&&(m&42)!==0?r===hd?Po++:(Po=0,hd=r):Po=0,Lo(0)}}function sy(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,go(a)))}function Eu(){return iy(),ny(),ry(),ay()}function ay(){if(Ae!==5)return!1;var r=yr,a=ld;ld=0;var u=Vr(kn),c=S.T,m=M.p;try{M.p=32>u?32:u,S.T=null,u=ud,ud=null;var y=yr,T=kn;if(Ae=0,ca=yr=null,kn=0,($t&6)!==0)throw Error(n(331));var B=$t;if($t|=4,G2(y.current),F2(y,y.current,T,u),$t=B,Lo(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Xr,y)}catch{}return!0}finally{M.p=m,S.T=c,sy(r,a)}}function oy(r,a,u){a=Ti(u,a),a=Hf(r.stateNode,a,2),r=hr(r,a,2),r!==null&&(tr(r,2),rn(r))}function Kt(r,a,u){if(r.tag===3)oy(r,r,u);else for(;a!==null;){if(a.tag===3){oy(a,r,u);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){r=Ti(u,r),u=l2(2),c=hr(a,u,2),c!==null&&(u2(u,c,a,r),tr(c,2),rn(c));break}}a=a.return}}function dd(r,a,u){var c=r.pingCache;if(c===null){c=r.pingCache=new ax;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(u)||(sd=!0,m.add(u),r=cx.bind(null,r,a,u),a.then(r,r))}function cx(r,a,u){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ie===r&&(Ht&u)===u&&(de===4||de===3&&(Ht&62914560)===Ht&&300>ve()-yu?($t&2)===0&&fa(r,0):ad|=u,ha===Ht&&(ha=0)),rn(r)}function ly(r,a){a===0&&(a=xn()),r=Zr(r,a),r!==null&&(tr(r,a),rn(r))}function fx(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),ly(r,u)}function dx(r,a){var u=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(a),ly(r,u)}function px(r,a){return vi(r,a)}var Au=null,pa=null,pd=!1,Su=!1,md=!1,_r=0;function rn(r){r!==pa&&r.next===null&&(pa===null?Au=pa=r:pa=pa.next=r),Su=!0,pd||(pd=!0,gx())}function Lo(r,a){if(!md&&Su){md=!0;do for(var u=!1,c=Au;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,B=c.pingedLanes;y=(1<<31-$(42|r)+1)-1,y&=m&~(T&~B),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,fy(c,y))}else y=Ht,y=we(c,c===ie?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ye(c,y)||(u=!0,fy(c,y));c=c.next}while(u);md=!1}}function mx(){uy()}function uy(){Su=pd=!1;var r=0;_r!==0&&wx()&&(r=_r);for(var a=ve(),u=null,c=Au;c!==null;){var m=c.next,y=hy(c,a);y===0?(c.next=null,u===null?Au=m:u.next=m,m===null&&(pa=u)):(u=c,(r!==0||(y&3)!==0)&&(Su=!0)),c=m}Ae!==0&&Ae!==5||Lo(r),_r!==0&&(_r=0)}function hy(r,a){for(var u=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-$(y),B=1<<T,G=m[T];G===-1?((B&u)===0||(B&c)!==0)&&(m[T]=Qa(B,a)):G<=a&&(r.expiredLanes|=B),y&=~B}if(a=ie,u=Ht,u=we(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,u===0||r===a&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ge(c),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Ye(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(c!==null&&Ge(c),Vr(u)){case 2:case 8:u=Ka;break;case 32:u=Bs;break;case 268435456:u=Is;break;default:u=Bs}return c=cy.bind(null,r),u=vi(u,c),r.callbackPriority=a,r.callbackNode=u,a}return c!==null&&c!==null&&Ge(c),r.callbackPriority=2,r.callbackNode=null,2}function cy(r,a){if(Ae!==0&&Ae!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Eu()&&r.callbackNode!==u)return null;var c=Ht;return c=we(r,r===ie?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Y2(r,c,a),hy(r,ve()),r.callbackNode!=null&&r.callbackNode===u?cy.bind(null,r):null)}function fy(r,a){if(Eu())return null;Y2(r,a,!0)}function gx(){Mx(function(){($t&6)!==0?vi(Cl,mx):uy()})}function gd(){if(_r===0){var r=Js;r===0&&(r=Wt,Wt<<=1,(Wt&261888)===0&&(Wt=256)),_r=r}return _r}function dy(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Il(""+r)}function py(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function yx(r,a,u,c,m){if(a==="submit"&&u&&u.stateNode===m){var y=dy((m[Be]||null).action),T=c.submitter;T&&(a=(a=T[Be]||null)?dy(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var B=new Ul("action","action",null,c,m);r.push({event:B,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_r!==0){var G=T?py(m,T):new FormData(m);Lf(u,{pending:!0,data:G,method:m.method,action:y},null,G)}}else typeof y=="function"&&(B.preventDefault(),G=T?py(m,T):new FormData(m),Lf(u,{pending:!0,data:G,method:m.method,action:y},y,G))},currentTarget:m}]})}}for(var yd=0;yd<Qc.length;yd++){var vd=Qc[yd],vx=vd.toLowerCase(),_x=vd[0].toUpperCase()+vd.slice(1);Pi(vx,"on"+_x)}Pi(Vm,"onAnimationEnd"),Pi(Ym,"onAnimationIteration"),Pi(qm,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(P7,"onTransitionRun"),Pi(L7,"onTransitionStart"),Pi(U7,"onTransitionCancel"),Pi($m,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uo));function my(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var c=r[u],m=c.event;c=c.listeners;t:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var B=c[T],G=B.instance,K=B.currentTarget;if(B=B.listener,G!==y&&m.isPropagationStopped())break t;y=B,m.currentTarget=K;try{y(m)}catch(st){zl(st)}m.currentTarget=null,y=G}else for(T=0;T<c.length;T++){if(B=c[T],G=B.instance,K=B.currentTarget,B=B.listener,G!==y&&m.isPropagationStopped())break t;y=B,m.currentTarget=K;try{y(m)}catch(st){zl(st)}m.currentTarget=null,y=G}}}}function zt(r,a){var u=a[Ls];u===void 0&&(u=a[Ls]=new Set);var c=r+"__bubble";u.has(c)||(gy(a,r,2,!1),u.add(c))}function _d(r,a,u){var c=0;a&&(c|=4),gy(u,r,c,a)}var wu="_reactListening"+Math.random().toString(36).slice(2);function xd(r){if(!r[wu]){r[wu]=!0,um.forEach(function(u){u!=="selectionchange"&&(xx.has(u)||_d(u,!1,r),_d(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[wu]||(a[wu]=!0,_d("selectionchange",!1,a))}}function gy(r,a,u,c){switch(Vy(a)){case 2:var m=$x;break;case 8:m=Wx;break;default:m=Pd}u=m.bind(null,a,u,r),m=void 0,!kc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(a,u,{capture:!0,passive:m}):r.addEventListener(a,u,!0):m!==void 0?r.addEventListener(a,u,{passive:m}):r.addEventListener(a,u,!1)}function bd(r,a,u,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var B=c.stateNode.containerInfo;if(B===m)break;if(T===4)for(T=c.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;B!==null;){if(T=Tn(B),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){c=y=T;continue t}B=B.parentNode}}c=c.return}bm(function(){var K=y,st=Uc(u),lt=[];t:{var Q=Wm.get(r);if(Q!==void 0){var it=Ul,vt=r;switch(r){case"keypress":if(Pl(u)===0)break t;case"keydown":case"keyup":it=d7;break;case"focusin":vt="focus",it=jc;break;case"focusout":vt="blur",it=jc;break;case"beforeblur":case"afterblur":it=jc;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=e7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=g7;break;case Vm:case Ym:case qm:it=r7;break;case $m:it=v7;break;case"scroll":case"scrollend":it=J5;break;case"wheel":it=x7;break;case"copy":case"cut":case"paste":it=a7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=wm;break;case"toggle":case"beforetoggle":it=T7}var Mt=(a&4)!==0,ee=!Mt&&(r==="scroll"||r==="scrollend"),Y=Mt?Q!==null?Q+"Capture":null:Q;Mt=[];for(var j=K,Z;j!==null;){var at=j;if(Z=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Z===null||Y===null||(at=ro(j,Y),at!=null&&Mt.push(Fo(j,at,Z))),ee)break;j=j.return}0<Mt.length&&(Q=new it(Q,vt,null,u,st),lt.push({event:Q,listeners:Mt}))}}if((a&7)===0){t:{if(Q=r==="mouseover"||r==="pointerover",it=r==="mouseout"||r==="pointerout",Q&&u!==Lc&&(vt=u.relatedTarget||u.fromElement)&&(Tn(vt)||vt[Qi]))break t;if((it||Q)&&(Q=st.window===st?st:(Q=st.ownerDocument)?Q.defaultView||Q.parentWindow:window,it?(vt=u.relatedTarget||u.toElement,it=K,vt=vt?Tn(vt):null,vt!==null&&(ee=o(vt),Mt=vt.tag,vt!==ee||Mt!==5&&Mt!==27&&Mt!==6)&&(vt=null)):(it=null,vt=K),it!==vt)){if(Mt=Am,at="onMouseLeave",Y="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Mt=wm,at="onPointerLeave",Y="onPointerEnter",j="pointer"),ee=it==null?Q:no(it),Z=vt==null?Q:no(vt),Q=new Mt(at,j+"leave",it,u,st),Q.target=ee,Q.relatedTarget=Z,at=null,Tn(st)===K&&(Mt=new Mt(Y,j+"enter",vt,u,st),Mt.target=Z,Mt.relatedTarget=ee,at=Mt),ee=at,it&&vt)e:{for(Mt=bx,Y=it,j=vt,Z=0,at=Y;at;at=Mt(at))Z++;at=0;for(var Ct=j;Ct;Ct=Mt(Ct))at++;for(;0<Z-at;)Y=Mt(Y),Z--;for(;0<at-Z;)j=Mt(j),at--;for(;Z--;){if(Y===j||j!==null&&Y===j.alternate){Mt=Y;break e}Y=Mt(Y),j=Mt(j)}Mt=null}else Mt=null;it!==null&&yy(lt,Q,it,Mt,!1),vt!==null&&ee!==null&&yy(lt,ee,vt,Mt,!0)}}t:{if(Q=K?no(K):window,it=Q.nodeName&&Q.nodeName.toLowerCase(),it==="select"||it==="input"&&Q.type==="file")var Yt=Nm;else if(Bm(Q))if(Pm)Yt=B7;else{Yt=D7;var Et=R7}else it=Q.nodeName,!it||it.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Pc(K.elementType)&&(Yt=Nm):Yt=O7;if(Yt&&(Yt=Yt(r,K))){Im(lt,Yt,u,st);break t}Et&&Et(r,Q,K),r==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Nc(Q,"number",Q.value)}switch(Et=K?no(K):window,r){case"focusin":(Bm(Et)||Et.contentEditable==="true")&&(Vs=Et,Wc=K,fo=null);break;case"focusout":fo=Wc=Vs=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,jm(lt,u,st);break;case"selectionchange":if(N7)break;case"keydown":case"keyup":jm(lt,u,st)}var Ft;if(Vc)t:{switch(r){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Xs?Dm(r,u)&&(jt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(Cm&&u.locale!=="ko"&&(Xs||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Xs&&(Ft=Tm()):(nr=st,zc="value"in nr?nr.value:nr.textContent,Xs=!0)),Et=Cu(K,jt),0<Et.length&&(jt=new Sm(jt,r,null,u,st),lt.push({event:jt,listeners:Et}),Ft?jt.data=Ft:(Ft=Om(u),Ft!==null&&(jt.data=Ft)))),(Ft=A7?S7(r,u):w7(r,u))&&(jt=Cu(K,"onBeforeInput"),0<jt.length&&(Et=new Sm("onBeforeInput","beforeinput",null,u,st),lt.push({event:Et,listeners:jt}),Et.data=Ft)),yx(lt,r,K,u,st)}my(lt,a)})}function Fo(r,a,u){return{instance:r,listener:a,currentTarget:u}}function Cu(r,a){for(var u=a+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ro(r,u),m!=null&&c.unshift(Fo(r,m,y)),m=ro(r,a),m!=null&&c.push(Fo(r,m,y))),r.tag===3)return c;r=r.return}return[]}function bx(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function yy(r,a,u,c,m){for(var y=a._reactName,T=[];u!==null&&u!==c;){var B=u,G=B.alternate,K=B.stateNode;if(B=B.tag,G!==null&&G===c)break;B!==5&&B!==26&&B!==27||K===null||(G=K,m?(K=ro(u,y),K!=null&&T.unshift(Fo(u,K,G))):m||(K=ro(u,y),K!=null&&T.push(Fo(u,K,G)))),u=u.return}T.length!==0&&r.push({event:a,listeners:T})}var Tx=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function vy(r){return(typeof r=="string"?r:""+r).replace(Tx,`
`).replace(Ex,"")}function _y(r,a){return a=vy(a),vy(r)===a}function te(r,a,u,c,m,y){switch(u){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Gs(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Gs(r,""+c);break;case"className":Ol(r,"class",c);break;case"tabIndex":Ol(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(r,u,c);break;case"style":_m(r,c,y);break;case"data":if(a!=="object"){Ol(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(u);break}c=Il(""+c),r.setAttribute(u,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&te(r,a,"name",m.name,m,null),te(r,a,"formEncType",m.formEncType,m,null),te(r,a,"formMethod",m.formMethod,m,null),te(r,a,"formTarget",m.formTarget,m,null)):(te(r,a,"encType",m.encType,m,null),te(r,a,"method",m.method,m,null),te(r,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(u);break}c=Il(""+c),r.setAttribute(u,c);break;case"onClick":c!=null&&(r.onclick=An);break;case"onScroll":c!=null&&zt("scroll",r);break;case"onScrollEnd":c!=null&&zt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(u=c.__html,u!=null){if(m.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}u=Il(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(u,""+c):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":c===!0?r.setAttribute(u,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(u,c):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(u,c):r.removeAttribute(u);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(u):r.setAttribute(u,c);break;case"popover":zt("beforetoggle",r),zt("toggle",r),Dl(r,"popover",c);break;case"xlinkActuate":En(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":En(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":En(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":En(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":En(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":En(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":En(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":En(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":En(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Dl(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=K5.get(u)||u,Dl(r,u,c))}}function Td(r,a,u,c,m,y){switch(u){case"style":_m(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(u=c.__html,u!=null){if(m.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof c=="string"?Gs(r,c):(typeof c=="number"||typeof c=="bigint")&&Gs(r,""+c);break;case"onScroll":c!=null&&zt("scroll",r);break;case"onScrollEnd":c!=null&&zt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hm.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),y=r[Be]||null,y=y!=null?y[u]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,c,m);break t}u in r?r[u]=c:c===!0?r.setAttribute(u,""):Dl(r,u,c)}}}function Le(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",r),zt("load",r);var c=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var T=u[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:te(r,a,y,T,u,null)}}m&&te(r,a,"srcSet",u.srcSet,u,null),c&&te(r,a,"src",u.src,u,null);return;case"input":zt("invalid",r);var B=y=T=m=null,G=null,K=null;for(c in u)if(u.hasOwnProperty(c)){var st=u[c];if(st!=null)switch(c){case"name":m=st;break;case"type":T=st;break;case"checked":G=st;break;case"defaultChecked":K=st;break;case"value":y=st;break;case"defaultValue":B=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(n(137,a));break;default:te(r,a,c,st,u,null)}}mm(r,y,B,G,K,T,m,!1);return;case"select":zt("invalid",r),c=T=y=null;for(m in u)if(u.hasOwnProperty(m)&&(B=u[m],B!=null))switch(m){case"value":y=B;break;case"defaultValue":T=B;break;case"multiple":c=B;default:te(r,a,m,B,u,null)}a=y,u=T,r.multiple=!!c,a!=null?zs(r,!!c,a,!1):u!=null&&zs(r,!!c,u,!0);return;case"textarea":zt("invalid",r),y=m=c=null;for(T in u)if(u.hasOwnProperty(T)&&(B=u[T],B!=null))switch(T){case"value":c=B;break;case"defaultValue":m=B;break;case"children":y=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:te(r,a,T,B,u,null)}ym(r,c,m,y);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(c=u[G],c!=null))switch(G){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:te(r,a,G,c,u,null)}return;case"dialog":zt("beforetoggle",r),zt("toggle",r),zt("cancel",r),zt("close",r);break;case"iframe":case"object":zt("load",r);break;case"video":case"audio":for(c=0;c<Uo.length;c++)zt(Uo[c],r);break;case"image":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"embed":case"source":case"link":zt("error",r),zt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in u)if(u.hasOwnProperty(K)&&(c=u[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:te(r,a,K,c,u,null)}return;default:if(Pc(a)){for(st in u)u.hasOwnProperty(st)&&(c=u[st],c!==void 0&&Td(r,a,st,c,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(c=u[B],c!=null&&te(r,a,B,c,u,null))}function Ax(r,a,u,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,B=null,G=null,K=null,st=null;for(it in u){var lt=u[it];if(u.hasOwnProperty(it)&&lt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":G=lt;default:c.hasOwnProperty(it)||te(r,a,it,null,c,lt)}}for(var Q in c){var it=c[Q];if(lt=u[Q],c.hasOwnProperty(Q)&&(it!=null||lt!=null))switch(Q){case"type":y=it;break;case"name":m=it;break;case"checked":K=it;break;case"defaultChecked":st=it;break;case"value":T=it;break;case"defaultValue":B=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,a));break;default:it!==lt&&te(r,a,Q,it,c,lt)}}Ic(r,T,B,G,K,st,y,m);return;case"select":it=T=B=Q=null;for(y in u)if(G=u[y],u.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":it=G;default:c.hasOwnProperty(y)||te(r,a,y,null,c,G)}for(m in c)if(y=c[m],G=u[m],c.hasOwnProperty(m)&&(y!=null||G!=null))switch(m){case"value":Q=y;break;case"defaultValue":B=y;break;case"multiple":T=y;default:y!==G&&te(r,a,m,y,c,G)}a=B,u=T,c=it,Q!=null?zs(r,!!u,Q,!1):!!c!=!!u&&(a!=null?zs(r,!!u,a,!0):zs(r,!!u,u?[]:"",!1));return;case"textarea":it=Q=null;for(B in u)if(m=u[B],u.hasOwnProperty(B)&&m!=null&&!c.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:te(r,a,B,null,c,m)}for(T in c)if(m=c[T],y=u[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":Q=m;break;case"defaultValue":it=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&te(r,a,T,m,c,y)}gm(r,Q,it);return;case"option":for(var vt in u)if(Q=u[vt],u.hasOwnProperty(vt)&&Q!=null&&!c.hasOwnProperty(vt))switch(vt){case"selected":r.selected=!1;break;default:te(r,a,vt,null,c,Q)}for(G in c)if(Q=c[G],it=u[G],c.hasOwnProperty(G)&&Q!==it&&(Q!=null||it!=null))switch(G){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:te(r,a,G,Q,c,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in u)Q=u[Mt],u.hasOwnProperty(Mt)&&Q!=null&&!c.hasOwnProperty(Mt)&&te(r,a,Mt,null,c,Q);for(K in c)if(Q=c[K],it=u[K],c.hasOwnProperty(K)&&Q!==it&&(Q!=null||it!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,a));break;default:te(r,a,K,Q,c,it)}return;default:if(Pc(a)){for(var ee in u)Q=u[ee],u.hasOwnProperty(ee)&&Q!==void 0&&!c.hasOwnProperty(ee)&&Td(r,a,ee,void 0,c,Q);for(st in c)Q=c[st],it=u[st],!c.hasOwnProperty(st)||Q===it||Q===void 0&&it===void 0||Td(r,a,st,Q,c,it);return}}for(var Y in u)Q=u[Y],u.hasOwnProperty(Y)&&Q!=null&&!c.hasOwnProperty(Y)&&te(r,a,Y,null,c,Q);for(lt in c)Q=c[lt],it=u[lt],!c.hasOwnProperty(lt)||Q===it||Q==null&&it==null||te(r,a,lt,Q,c,it)}function xy(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,u=performance.getEntriesByType("resource"),c=0;c<u.length;c++){var m=u[c],y=m.transferSize,T=m.initiatorType,B=m.duration;if(y&&B&&xy(T)){for(T=0,B=m.responseEnd,c+=1;c<u.length;c++){var G=u[c],K=G.startTime;if(K>B)break;var st=G.transferSize,lt=G.initiatorType;st&&xy(lt)&&(G=G.responseEnd,T+=st*(G<B?1:(B-K)/(G-K)))}if(--c,a+=8*(y+T)/(m.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ed=null,Ad=null;function Mu(r){return r.nodeType===9?r:r.ownerDocument}function by(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Sd(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wd=null;function wx(){var r=window.event;return r&&r.type==="popstate"?r===wd?!1:(wd=r,!0):(wd=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,Mx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(r){return Ay.resolve(null).then(r).catch(Rx)}:Ey;function Rx(r){setTimeout(function(){throw r})}function xr(r){return r==="head"}function Sy(r,a){var u=a,c=0;do{var m=u.nextSibling;if(r.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"||u==="/&"){if(c===0){r.removeChild(m),va(a);return}c--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")c++;else if(u==="html")ko(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,ko(u);for(var y=u.firstChild;y;){var T=y.nextSibling,B=y.nodeName;y[Ji]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=T}}else u==="body"&&ko(r.ownerDocument.body);u=m}while(u);va(a)}function wy(r,a){var u=r;r=0;do{var c=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),c&&c.nodeType===8)if(u=c.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=c}while(u)}function Cd(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cd(u),io(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function Dx(r,a,u,c){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ji])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Ci(r.nextSibling),r===null)break}return null}function Ox(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Ci(r.nextSibling),r===null))return null;return r}function Cy(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ci(r.nextSibling),r===null))return null;return r}function Md(r){return r.data==="$?"||r.data==="$~"}function Rd(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Bx(r,a){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||u.readyState!=="loading")a();else{var c=function(){a(),u.removeEventListener("DOMContentLoaded",c)};u.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ci(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Dd=null;function My(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(a===0)return Ci(r.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}r=r.nextSibling}return null}function Ry(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return r;a--}else u!=="/$"&&u!=="/&"||a++}r=r.previousSibling}return null}function Dy(r,a,u){switch(a=Mu(u),r){case"html":if(r=a.documentElement,!r)throw Error(n(452));return r;case"head":if(r=a.head,!r)throw Error(n(453));return r;case"body":if(r=a.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function ko(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);io(r)}var Mi=new Map,Oy=new Set;function Ru(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zn=M.d;M.d={f:Ix,r:Nx,D:Px,C:Lx,L:Ux,m:Fx,X:zx,S:kx,M:Gx};function Ix(){var r=zn.f(),a=xu();return r||a}function Nx(r){var a=Us(r);a!==null&&a.tag===5&&a.type==="form"?$g(a):zn.r(r)}var ma=typeof document>"u"?null:document;function By(r,a,u){var c=ma;if(c&&typeof a=="string"&&a){var m=xi(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),Oy.has(m)||(Oy.add(m),r={rel:r,crossOrigin:u,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Le(a,"link",r),Ce(a),c.head.appendChild(a)))}}function Px(r){zn.D(r),By("dns-prefetch",r,null)}function Lx(r,a){zn.C(r,a),By("preconnect",r,a)}function Ux(r,a,u){zn.L(r,a,u);var c=ma;if(c&&r&&a){var m='link[rel="preload"][as="'+xi(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+xi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+xi(u.imageSizes)+'"]')):m+='[href="'+xi(r)+'"]';var y=m;switch(a){case"style":y=ga(r);break;case"script":y=ya(r)}Mi.has(y)||(r=g({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),Mi.set(y,r),c.querySelector(m)!==null||a==="style"&&c.querySelector(zo(y))||a==="script"&&c.querySelector(Go(y))||(a=c.createElement("link"),Le(a,"link",r),Ce(a),c.head.appendChild(a)))}}function Fx(r,a){zn.m(r,a);var u=ma;if(u&&r){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+xi(c)+'"][href="'+xi(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ya(r)}if(!Mi.has(y)&&(r=g({rel:"modulepreload",href:r},a),Mi.set(y,r),u.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Go(y)))return}c=u.createElement("link"),Le(c,"link",r),Ce(c),u.head.appendChild(c)}}}function kx(r,a,u){zn.S(r,a,u);var c=ma;if(c&&r){var m=Fs(c).hoistableStyles,y=ga(r);a=a||"default";var T=m.get(y);if(!T){var B={loading:0,preload:null};if(T=c.querySelector(zo(y)))B.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":a},u),(u=Mi.get(y))&&Od(r,u);var G=T=c.createElement("link");Ce(G),Le(G,"link",r),G._p=new Promise(function(K,st){G.onload=K,G.onerror=st}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Du(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:B},m.set(y,T)}}}function zx(r,a){zn.X(r,a);var u=ma;if(u&&r){var c=Fs(u).hoistableScripts,m=ya(r),y=c.get(m);y||(y=u.querySelector(Go(m)),y||(r=g({src:r,async:!0},a),(a=Mi.get(m))&&Bd(r,a),y=u.createElement("script"),Ce(y),Le(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Gx(r,a){zn.M(r,a);var u=ma;if(u&&r){var c=Fs(u).hoistableScripts,m=ya(r),y=c.get(m);y||(y=u.querySelector(Go(m)),y||(r=g({src:r,async:!0,type:"module"},a),(a=Mi.get(m))&&Bd(r,a),y=u.createElement("script"),Ce(y),Le(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Iy(r,a,u,c){var m=(m=ot.current)?Ru(m):null;if(!m)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=ga(u.href),u=Fs(m).hoistableStyles,c=u.get(a),c||(c={type:"style",instance:null,count:0,state:null},u.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=ga(u.href);var y=Fs(m).hoistableStyles,T=y.get(r);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=m.querySelector(zo(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Mi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Mi.set(r,u),y||Hx(m,r,u,T.state))),a&&c===null)throw Error(n(528,""));return T}if(a&&c!==null)throw Error(n(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ya(u),u=Fs(m).hoistableScripts,c=u.get(a),c||(c={type:"script",instance:null,count:0,state:null},u.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function ga(r){return'href="'+xi(r)+'"'}function zo(r){return'link[rel="stylesheet"]['+r+"]"}function Ny(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function Hx(r,a,u,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Le(a,"link",u),Ce(a),r.head.appendChild(a))}function ya(r){return'[src="'+xi(r)+'"]'}function Go(r){return"script[async]"+r}function Py(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+xi(u.href)+'"]');if(c)return a.instance=c,Ce(c),c;var m=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ce(c),Le(c,"style",m),Du(c,u.precedence,r),a.instance=c;case"stylesheet":m=ga(u.href);var y=r.querySelector(zo(m));if(y)return a.state.loading|=4,a.instance=y,Ce(y),y;c=Ny(u),(m=Mi.get(m))&&Od(c,m),y=(r.ownerDocument||r).createElement("link"),Ce(y);var T=y;return T._p=new Promise(function(B,G){T.onload=B,T.onerror=G}),Le(y,"link",c),a.state.loading|=4,Du(y,u.precedence,r),a.instance=y;case"script":return y=ya(u.src),(m=r.querySelector(Go(y)))?(a.instance=m,Ce(m),m):(c=u,(m=Mi.get(y))&&(c=g({},u),Bd(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Ce(m),Le(m,"link",c),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Du(c,u.precedence,r));return a.instance}function Du(r,a,u){for(var c=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var B=c[T];if(B.dataset.precedence===a)y=B;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function Od(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Bd(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Ou=null;function Ly(r,a,u){if(Ou===null){var c=new Map,m=Ou=new Map;m.set(u,c)}else m=Ou,c=m.get(u),c||(c=new Map,m.set(u,c));if(c.has(r))return c;for(c.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var y=u[m];if(!(y[Ji]||y[pe]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var B=c.get(T);B?B.push(y):c.set(T,[y])}}return c}function Uy(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function jx(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Fy(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Xx(r,a,u,c){if(u.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var m=ga(c.href),y=a.querySelector(zo(m));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Bu.bind(r),a.then(r,r)),u.state.loading|=4,u.instance=y,Ce(y);return}y=a.ownerDocument||a,c=Ny(c),(m=Mi.get(m))&&Od(c,m),y=y.createElement("link"),Ce(y);var T=y;T._p=new Promise(function(B,G){T.onload=B,T.onerror=G}),Le(y,"link",c),u.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Bu.bind(r),a.addEventListener("load",u),a.addEventListener("error",u))}}var Id=0;function Vx(r,a){return r.stylesheets&&r.count===0&&Nu(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var c=setTimeout(function(){if(r.stylesheets&&Nu(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+a);0<r.imgBytes&&Id===0&&(Id=62500*Sx());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Nu(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Id?50:800)+a);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Iu=null;function Nu(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Iu=new Map,a.forEach(Yx,r),Iu=null,Bu.call(r))}function Yx(r,a){if(!(a.state.loading&4)){var u=Iu.get(r);if(u)var c=u.get(null);else{u=new Map,Iu.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),c=T)}c&&u.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),y=u.get(T)||c,y===c&&u.set(null,m),u.set(T,m),this.count++,c=Bu.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Ho={$$typeof:C,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function qx(r,a,u,c,m,y,T,B,G){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function ky(r,a,u,c,m,y,T,B,G,K,st,lt){return r=new qx(r,a,u,T,G,K,st,lt,B),a=1,y===!0&&(a|=24),y=ai(3,null,null,a),r.current=y,y.stateNode=r,a=ff(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:u,cache:a},gf(y),r}function zy(r){return r?(r=$s,r):$s}function Gy(r,a,u,c,m,y){m=zy(m),c.context===null?c.context=m:c.pendingContext=m,c=ur(a),c.payload={element:u},y=y===void 0?null:y,y!==null&&(c.callback=y),u=hr(r,c,a),u!==null&&(Qe(u,r,a),xo(u,r,a))}function Hy(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Nd(r,a){Hy(r,a),(r=r.alternate)&&Hy(r,a)}function jy(r){if(r.tag===13||r.tag===31){var a=Zr(r,67108864);a!==null&&Qe(a,r,67108864),Nd(r,67108864)}}function Xy(r){if(r.tag===13||r.tag===31){var a=ci();a=ir(a);var u=Zr(r,a);u!==null&&Qe(u,r,a),Nd(r,a)}}var Pu=!0;function $x(r,a,u,c){var m=S.T;S.T=null;var y=M.p;try{M.p=2,Pd(r,a,u,c)}finally{M.p=y,S.T=m}}function Wx(r,a,u,c){var m=S.T;S.T=null;var y=M.p;try{M.p=8,Pd(r,a,u,c)}finally{M.p=y,S.T=m}}function Pd(r,a,u,c){if(Pu){var m=Ld(c);if(m===null)bd(r,a,c,Lu,u),Yy(r,c);else if(Kx(m,r,a,u,c))c.stopPropagation();else if(Yy(r,c),a&4&&-1<Zx.indexOf(r)){for(;m!==null;){var y=Us(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=He(y.pendingLanes);if(T!==0){var B=y;for(B.pendingLanes|=2,B.entangledLanes|=2;T;){var G=1<<31-$(T);B.entanglements[1]|=G,T&=~G}rn(y),($t&6)===0&&(vu=ve()+500,Lo(0))}}break;case 31:case 13:B=Zr(y,2),B!==null&&Qe(B,y,2),xu(),Nd(y,2)}if(y=Ld(c),y===null&&bd(r,a,c,Lu,u),y===m)break;m=y}m!==null&&c.stopPropagation()}else bd(r,a,c,null,u)}}function Ld(r){return r=Uc(r),Ud(r)}var Lu=null;function Ud(r){if(Lu=null,r=Tn(r),r!==null){var a=o(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=l(a),r!==null)return r;r=null}else if(u===31){if(r=h(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Lu=r,null}function Vy(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case Cl:return 2;case Ka:return 8;case Bs:case jr:return 32;case Is:return 268435456;default:return 32}default:return 32}}var Fd=!1,br=null,Tr=null,Er=null,jo=new Map,Xo=new Map,Ar=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(r,a){switch(r){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":jo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(a.pointerId)}}function Vo(r,a,u,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:u,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Us(a),a!==null&&jy(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function Kx(r,a,u,c,m){switch(a){case"focusin":return br=Vo(br,r,a,u,c,m),!0;case"dragenter":return Tr=Vo(Tr,r,a,u,c,m),!0;case"mouseover":return Er=Vo(Er,r,a,u,c,m),!0;case"pointerover":var y=m.pointerId;return jo.set(y,Vo(jo.get(y)||null,r,a,u,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Xo.set(y,Vo(Xo.get(y)||null,r,a,u,c,m)),!0}return!1}function qy(r){var a=Tn(r.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){r.blockedOn=a,to(r.priority,function(){Xy(u)});return}}else if(a===31){if(a=h(u),a!==null){r.blockedOn=a,to(r.priority,function(){Xy(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uu(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Ld(r.nativeEvent);if(u===null){u=r.nativeEvent;var c=new u.constructor(u.type,u);Lc=c,u.target.dispatchEvent(c),Lc=null}else return a=Us(u),a!==null&&jy(a),r.blockedOn=u,!1;a.shift()}return!0}function $y(r,a,u){Uu(r)&&u.delete(a)}function Qx(){Fd=!1,br!==null&&Uu(br)&&(br=null),Tr!==null&&Uu(Tr)&&(Tr=null),Er!==null&&Uu(Er)&&(Er=null),jo.forEach($y),Xo.forEach($y)}function Fu(r,a){r.blockedOn===a&&(r.blockedOn=null,Fd||(Fd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qx)))}var ku=null;function Wy(r){ku!==r&&(ku=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ku===r&&(ku=null);for(var a=0;a<r.length;a+=3){var u=r[a],c=r[a+1],m=r[a+2];if(typeof c!="function"){if(Ud(c||u)===null)continue;break}var y=Us(u);y!==null&&(r.splice(a,3),a-=3,Lf(y,{pending:!0,data:m,method:u.method,action:c},c,m))}}))}function va(r){function a(G){return Fu(G,r)}br!==null&&Fu(br,r),Tr!==null&&Fu(Tr,r),Er!==null&&Fu(Er,r),jo.forEach(a),Xo.forEach(a);for(var u=0;u<Ar.length;u++){var c=Ar[u];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ar.length&&(u=Ar[0],u.blockedOn===null);)qy(u),u.blockedOn===null&&Ar.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(c=0;c<u.length;c+=3){var m=u[c],y=u[c+1],T=m[Be]||null;if(typeof y=="function")T||Wy(u);else if(T){var B=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Be]||null)B=T.formAction;else if(Ud(m)!==null)continue}else B=T.action;typeof B=="function"?u[c+1]=B:(u.splice(c,3),c-=3),Wy(u)}}}function Zy(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(u,20)}function u(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function kd(r){this._internalRoot=r}zu.prototype.render=kd.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));var u=a.current,c=ci();Gy(u,c,r,a,null,null)},zu.prototype.unmount=kd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Gy(r.current,2,null,r,null,null),xu(),a[Qi]=null}};function zu(r){this._internalRoot=r}zu.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ps();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Ar.length&&a!==0&&a<Ar[u].priority;u++);Ar.splice(u,0,r),u===0&&qy(r)}};var Ky=t.version;if(Ky!=="19.2.1")throw Error(n(527,Ky,"19.2.1"));M.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=d(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Jx={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Xr=Gu.inject(Jx),Oe=Gu}catch{}}return qo.createRoot=function(r,a){if(!s(r))throw Error(n(299));var u=!1,c="",m=r2,y=s2,T=a2;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=ky(r,1,!1,null,null,u,c,null,m,y,T,Zy),r[Qi]=a.current,xd(r),new kd(a)},qo.hydrateRoot=function(r,a,u){if(!s(r))throw Error(n(299));var c=!1,m="",y=r2,T=s2,B=a2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(c=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),a=ky(r,1,!0,a,u??null,c,m,G,y,T,B,Zy),a.context=zy(null),u=a.current,c=ci(),c=ir(c),m=ur(c),m.callback=null,hr(u,m,c),u=c,a.current.lanes=u,tr(a,u),rn(a),r[Qi]=a.current,xd(r),new zu(a)},qo.version="19.2.1",qo}var ov;function h8(){if(ov)return Hd.exports;ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hd.exports=u8(),Hd.exports}var c8=h8(),Yd={exports:{}},qd={};var lv;function f8(){if(lv)return qd;lv=1;var i=uc().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return qd.c=function(t){return i.H.useMemoCache(t)},qd}var uv;function d8(){return uv||(uv=1,Yd.exports=f8()),Yd.exports}var l_=d8(),Ds=(i=>(i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i))(Ds||{}),D1=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i))(D1||{}),wp=(i=>(i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",i))(wp||{}),Rt=(i=>(i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",i))(Rt||{}),cn=(i=>(i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i))(cn||{}),ct=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(ct||{}),Ba=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))(Ba||{}),wt=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(wt||{}),gt=(i=>(i[i.FLOAT=0]="FLOAT",i[i.INT=1]="INT",i[i.UINT=2]="UINT",i))(gt||{}),fn=(i=>(i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",i))(fn||{}),mi=(i=>(i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i))(mi||{}),gn=(i=>(i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL",i))(gn||{}),ei=(i=>(i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",i))(ei||{}),hn=(i=>(i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",i))(hn||{}),O1=(i=>(i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i))(O1||{}),Oi=(i=>(i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",i))(Oi||{}),Se=(i=>(i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",i[i.COLOR=4]="COLOR",i))(Se||{}),Ee=(i=>(i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH",i))(Ee||{}),dn=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(dn||{});const p8={createCanvas:(i,t)=>{const e=document.createElement("canvas");return e.width=i,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,t)=>fetch(i,t),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")},yt={ADAPTER:p8,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var $d=/iPhone/i,hv=/iPod/i,cv=/iPad/i,fv=/\biOS-universal(?:.+)Mac\b/i,Wd=/\bAndroid(?:.+)Mobile\b/i,dv=/Android/i,_a=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Hu=/Silk/i,Gn=/Windows Phone/i,pv=/\bWindows(?:.+)ARM\b/i,mv=/BlackBerry/i,gv=/BB10/i,yv=/Opera Mini/i,vv=/\b(CriOS|Chrome)(?:.+)Mobile/i,_v=/Mobile(?:.+)Firefox\b/i,xv=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function m8(i){return function(t){return t.test(i)}}function bv(i){var t={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?t.userAgent=i:i&&i.userAgent&&(t={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var e=t.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var s=m8(e),o={apple:{phone:s($d)&&!s(Gn),ipod:s(hv),tablet:!s($d)&&(s(cv)||xv(t))&&!s(Gn),universal:s(fv),device:(s($d)||s(hv)||s(cv)||s(fv)||xv(t))&&!s(Gn)},amazon:{phone:s(_a),tablet:!s(_a)&&s(Hu),device:s(_a)||s(Hu)},android:{phone:!s(Gn)&&s(_a)||!s(Gn)&&s(Wd),tablet:!s(Gn)&&!s(_a)&&!s(Wd)&&(s(Hu)||s(dv)),device:!s(Gn)&&(s(_a)||s(Hu)||s(Wd)||s(dv))||s(/\bokhttp\b/i)},windows:{phone:s(Gn),tablet:s(pv),device:s(Gn)||s(pv)},other:{blackberry:s(mv),blackberry10:s(gv),opera:s(yv),firefox:s(_v),chrome:s(vv),device:s(mv)||s(gv)||s(yv)||s(_v)||s(vv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const g8=bv.default??bv,Vn=g8(globalThis.navigator);yt.RETINA_PREFIX=/@([0-9\.]+)x/;yt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Zd={exports:{}},Tv;function y8(){return Tv||(Tv=1,(function(i){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function o(f,d,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new s(p,g||f,v),x=e?e+d:d;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],_]:f._events[x].push(_):(f._events[x]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new n:delete f._events[d]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)t.call(p,g)&&d.push(e?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},h.prototype.listeners=function(d){var p=e?e+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,_=g.length,x=new Array(_);v<_;v++)x[v]=g[v].fn;return x},h.prototype.listenerCount=function(d){var p=e?e+d:d,g=this._events[p];return g?g.fn?1:g.length:0},h.prototype.emit=function(d,p,g,v,_,x){var b=e?e+d:d;if(!this._events[b])return!1;var E=this._events[b],A=arguments.length,I,C;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,v),!0;case 5:return E.fn.call(E.context,p,g,v,_),!0;case 6:return E.fn.call(E.context,p,g,v,_,x),!0}for(C=1,I=new Array(A-1);C<A;C++)I[C-1]=arguments[C];E.fn.apply(E.context,I)}else{var N=E.length,R;for(C=0;C<N;C++)switch(E[C].once&&this.removeListener(d,E[C].fn,void 0,!0),A){case 1:E[C].fn.call(E[C].context);break;case 2:E[C].fn.call(E[C].context,p);break;case 3:E[C].fn.call(E[C].context,p,g);break;case 4:E[C].fn.call(E[C].context,p,g,v);break;default:if(!I)for(R=1,I=new Array(A-1);R<A;R++)I[R-1]=arguments[R];E[C].fn.apply(E[C].context,I)}}return!0},h.prototype.on=function(d,p,g){return o(this,d,p,g,!1)},h.prototype.once=function(d,p,g){return o(this,d,p,g,!0)},h.prototype.removeListener=function(d,p,g,v){var _=e?e+d:d;if(!this._events[_])return this;if(!p)return l(this,_),this;var x=this._events[_];if(x.fn)x.fn===p&&(!v||x.once)&&(!g||x.context===g)&&l(this,_);else{for(var b=0,E=[],A=x.length;b<A;b++)(x[b].fn!==p||v&&!x[b].once||g&&x[b].context!==g)&&E.push(x[b]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},h.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,i.exports=h})(Zd)),Zd.exports}var v8=y8();const bl=o_(v8);var ju={exports:{}},Ev;function _8(){if(Ev)return ju.exports;Ev=1,ju.exports=i,ju.exports.default=i;function i(S,M,O){O=O||2;var z=M&&M.length,U=z?M[0]*O:S.length,w=t(S,0,U,O,!0),P=[];if(!w||w.next===w.prev)return P;var k,V,tt,ot,ut,ft,dt;if(z&&(w=f(S,M,w,O)),S.length>80*O){k=tt=S[0],V=ot=S[1];for(var ht=O;ht<U;ht+=O)ut=S[ht],ft=S[ht+1],ut<k&&(k=ut),ft<V&&(V=ft),ut>tt&&(tt=ut),ft>ot&&(ot=ft);dt=Math.max(tt-k,ot-V),dt=dt!==0?32767/dt:0}return n(w,P,O,k,V,dt,0),P}function t(S,M,O,z,U){var w,P;if(U===nt(S,M,O,z)>0)for(w=M;w<O;w+=z)P=H(w,S[w],S[w+1],P);else for(w=O-z;w>=M;w-=z)P=H(w,S[w],S[w+1],P);return P&&N(P,P.next)&&(W(P),P=P.next),P}function e(S,M){if(!S)return S;M||(M=S);var O=S,z;do if(z=!1,!O.steiner&&(N(O,O.next)||C(O.prev,O,O.next)===0)){if(W(O),O=M=O.prev,O===O.next)break;z=!0}else O=O.next;while(z||O!==M);return M}function n(S,M,O,z,U,w,P){if(S){!P&&w&&_(S,z,U,w);for(var k=S,V,tt;S.prev!==S.next;){if(V=S.prev,tt=S.next,w?o(S,z,U,w):s(S)){M.push(V.i/O|0),M.push(S.i/O|0),M.push(tt.i/O|0),W(S),S=tt.next,k=tt.next;continue}if(S=tt,S===k){P?P===1?(S=l(e(S),M,O),n(S,M,O,z,U,w,2)):P===2&&h(S,M,O,z,U,w):n(e(S),M,O,z,U,w,1);break}}}}function s(S){var M=S.prev,O=S,z=S.next;if(C(M,O,z)>=0)return!1;for(var U=M.x,w=O.x,P=z.x,k=M.y,V=O.y,tt=z.y,ot=U<w?U<P?U:P:w<P?w:P,ut=k<V?k<tt?k:tt:V<tt?V:tt,ft=U>w?U>P?U:P:w>P?w:P,dt=k>V?k>tt?k:tt:V>tt?V:tt,ht=z.next;ht!==M;){if(ht.x>=ot&&ht.x<=ft&&ht.y>=ut&&ht.y<=dt&&A(U,k,w,V,P,tt,ht.x,ht.y)&&C(ht.prev,ht,ht.next)>=0)return!1;ht=ht.next}return!0}function o(S,M,O,z){var U=S.prev,w=S,P=S.next;if(C(U,w,P)>=0)return!1;for(var k=U.x,V=w.x,tt=P.x,ot=U.y,ut=w.y,ft=P.y,dt=k<V?k<tt?k:tt:V<tt?V:tt,ht=ot<ut?ot<ft?ot:ft:ut<ft?ut:ft,_t=k>V?k>tt?k:tt:V>tt?V:tt,bt=ot>ut?ot>ft?ot:ft:ut>ft?ut:ft,Dt=b(dt,ht,M,O,z),Bt=b(_t,bt,M,O,z),xt=S.prevZ,Tt=S.nextZ;xt&&xt.z>=Dt&&Tt&&Tt.z<=Bt;){if(xt.x>=dt&&xt.x<=_t&&xt.y>=ht&&xt.y<=bt&&xt!==U&&xt!==P&&A(k,ot,V,ut,tt,ft,xt.x,xt.y)&&C(xt.prev,xt,xt.next)>=0||(xt=xt.prevZ,Tt.x>=dt&&Tt.x<=_t&&Tt.y>=ht&&Tt.y<=bt&&Tt!==U&&Tt!==P&&A(k,ot,V,ut,tt,ft,Tt.x,Tt.y)&&C(Tt.prev,Tt,Tt.next)>=0))return!1;Tt=Tt.nextZ}for(;xt&&xt.z>=Dt;){if(xt.x>=dt&&xt.x<=_t&&xt.y>=ht&&xt.y<=bt&&xt!==U&&xt!==P&&A(k,ot,V,ut,tt,ft,xt.x,xt.y)&&C(xt.prev,xt,xt.next)>=0)return!1;xt=xt.prevZ}for(;Tt&&Tt.z<=Bt;){if(Tt.x>=dt&&Tt.x<=_t&&Tt.y>=ht&&Tt.y<=bt&&Tt!==U&&Tt!==P&&A(k,ot,V,ut,tt,ft,Tt.x,Tt.y)&&C(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.nextZ}return!0}function l(S,M,O){var z=S;do{var U=z.prev,w=z.next.next;!N(U,w)&&R(U,z,z.next,w)&&J(U,w)&&J(w,U)&&(M.push(U.i/O|0),M.push(z.i/O|0),M.push(w.i/O|0),W(z),W(z.next),z=S=w),z=z.next}while(z!==S);return e(z)}function h(S,M,O,z,U,w){var P=S;do{for(var k=P.next.next;k!==P.prev;){if(P.i!==k.i&&I(P,k)){var V=q(P,k);P=e(P,P.next),V=e(V,V.next),n(P,M,O,z,U,w,0),n(V,M,O,z,U,w,0);return}k=k.next}P=P.next}while(P!==S)}function f(S,M,O,z){var U=[],w,P,k,V,tt;for(w=0,P=M.length;w<P;w++)k=M[w]*z,V=w<P-1?M[w+1]*z:S.length,tt=t(S,k,V,z,!1),tt===tt.next&&(tt.steiner=!0),U.push(E(tt));for(U.sort(d),w=0;w<U.length;w++)O=p(U[w],O);return O}function d(S,M){return S.x-M.x}function p(S,M){var O=g(S,M);if(!O)return M;var z=q(O,S);return e(z,z.next),e(O,O.next)}function g(S,M){var O=M,z=S.x,U=S.y,w=-1/0,P;do{if(U<=O.y&&U>=O.next.y&&O.next.y!==O.y){var k=O.x+(U-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(k<=z&&k>w&&(w=k,P=O.x<O.next.x?O:O.next,k===z))return P}O=O.next}while(O!==M);if(!P)return null;var V=P,tt=P.x,ot=P.y,ut=1/0,ft;O=P;do z>=O.x&&O.x>=tt&&z!==O.x&&A(U<ot?z:w,U,tt,ot,U<ot?w:z,U,O.x,O.y)&&(ft=Math.abs(U-O.y)/(z-O.x),J(O,S)&&(ft<ut||ft===ut&&(O.x>P.x||O.x===P.x&&v(P,O)))&&(P=O,ut=ft)),O=O.next;while(O!==V);return P}function v(S,M){return C(S.prev,S,M.prev)<0&&C(M.next,S,S.next)<0}function _(S,M,O,z){var U=S;do U.z===0&&(U.z=b(U.x,U.y,M,O,z)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==S);U.prevZ.nextZ=null,U.prevZ=null,x(U)}function x(S){var M,O,z,U,w,P,k,V,tt=1;do{for(O=S,S=null,w=null,P=0;O;){for(P++,z=O,k=0,M=0;M<tt&&(k++,z=z.nextZ,!!z);M++);for(V=tt;k>0||V>0&&z;)k!==0&&(V===0||!z||O.z<=z.z)?(U=O,O=O.nextZ,k--):(U=z,z=z.nextZ,V--),w?w.nextZ=U:S=U,U.prevZ=w,w=U;O=z}w.nextZ=null,tt*=2}while(P>1);return S}function b(S,M,O,z,U){return S=(S-O)*U|0,M=(M-z)*U|0,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,M=(M|M<<8)&16711935,M=(M|M<<4)&252645135,M=(M|M<<2)&858993459,M=(M|M<<1)&1431655765,S|M<<1}function E(S){var M=S,O=S;do(M.x<O.x||M.x===O.x&&M.y<O.y)&&(O=M),M=M.next;while(M!==S);return O}function A(S,M,O,z,U,w,P,k){return(U-P)*(M-k)>=(S-P)*(w-k)&&(S-P)*(z-k)>=(O-P)*(M-k)&&(O-P)*(w-k)>=(U-P)*(z-k)}function I(S,M){return S.next.i!==M.i&&S.prev.i!==M.i&&!X(S,M)&&(J(S,M)&&J(M,S)&&rt(S,M)&&(C(S.prev,S,M.prev)||C(S,M.prev,M))||N(S,M)&&C(S.prev,S,S.next)>0&&C(M.prev,M,M.next)>0)}function C(S,M,O){return(M.y-S.y)*(O.x-M.x)-(M.x-S.x)*(O.y-M.y)}function N(S,M){return S.x===M.x&&S.y===M.y}function R(S,M,O,z){var U=D(C(S,M,O)),w=D(C(S,M,z)),P=D(C(O,z,S)),k=D(C(O,z,M));return!!(U!==w&&P!==k||U===0&&F(S,O,M)||w===0&&F(S,z,M)||P===0&&F(O,S,z)||k===0&&F(O,M,z))}function F(S,M,O){return M.x<=Math.max(S.x,O.x)&&M.x>=Math.min(S.x,O.x)&&M.y<=Math.max(S.y,O.y)&&M.y>=Math.min(S.y,O.y)}function D(S){return S>0?1:S<0?-1:0}function X(S,M){var O=S;do{if(O.i!==S.i&&O.next.i!==S.i&&O.i!==M.i&&O.next.i!==M.i&&R(O,O.next,S,M))return!0;O=O.next}while(O!==S);return!1}function J(S,M){return C(S.prev,S,S.next)<0?C(S,M,S.next)>=0&&C(S,S.prev,M)>=0:C(S,M,S.prev)<0||C(S,S.next,M)<0}function rt(S,M){var O=S,z=!1,U=(S.x+M.x)/2,w=(S.y+M.y)/2;do O.y>w!=O.next.y>w&&O.next.y!==O.y&&U<(O.next.x-O.x)*(w-O.y)/(O.next.y-O.y)+O.x&&(z=!z),O=O.next;while(O!==S);return z}function q(S,M){var O=new L(S.i,S.x,S.y),z=new L(M.i,M.x,M.y),U=S.next,w=M.prev;return S.next=M,M.prev=S,O.next=U,U.prev=O,z.next=O,O.prev=z,w.next=z,z.prev=w,z}function H(S,M,O,z){var U=new L(S,M,O);return z?(U.next=z.next,U.prev=z,z.next.prev=U,z.next=U):(U.prev=U,U.next=U),U}function W(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function L(S,M,O){this.i=S,this.x=M,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(S,M,O,z){var U=M&&M.length,w=U?M[0]*O:S.length,P=Math.abs(nt(S,0,w,O));if(U)for(var k=0,V=M.length;k<V;k++){var tt=M[k]*O,ot=k<V-1?M[k+1]*O:S.length;P-=Math.abs(nt(S,tt,ot,O))}var ut=0;for(k=0;k<z.length;k+=3){var ft=z[k]*O,dt=z[k+1]*O,ht=z[k+2]*O;ut+=Math.abs((S[ft]-S[ht])*(S[dt+1]-S[ft+1])-(S[ft]-S[dt])*(S[ht+1]-S[ft+1]))}return P===0&&ut===0?0:Math.abs((ut-P)/P)};function nt(S,M,O,z){for(var U=0,w=M,P=O-z;w<O;w+=z)U+=(S[P]-S[w])*(S[w+1]+S[P+1]),P=w;return U}return i.flatten=function(S){for(var M=S[0][0].length,O={vertices:[],holes:[],dimensions:M},z=0,U=0;U<S.length;U++){for(var w=0;w<S[U].length;w++)for(var P=0;P<M;P++)O.vertices.push(S[U][w][P]);U>0&&(z+=S[U-1].length,O.holes.push(z))}return O},ju.exports}var x8=_8();const b8=o_(x8);var us={},nl={exports:{}};var T8=nl.exports,Av;function E8(){return Av||(Av=1,(function(i,t){(function(e){var n=t&&!t.nodeType&&t,s=i&&!i.nodeType&&i,o=typeof Nh=="object"&&Nh;(o.global===o||o.window===o||o.self===o)&&(e=o);var l,h=2147483647,f=36,d=1,p=26,g=38,v=700,_=72,x=128,b="-",E=/^xn--/,A=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=f-d,R=Math.floor,F=String.fromCharCode,D;function X(U){throw new RangeError(C[U])}function J(U,w){for(var P=U.length,k=[];P--;)k[P]=w(U[P]);return k}function rt(U,w){var P=U.split("@"),k="";P.length>1&&(k=P[0]+"@",U=P[1]),U=U.replace(I,".");var V=U.split("."),tt=J(V,w).join(".");return k+tt}function q(U){for(var w=[],P=0,k=U.length,V,tt;P<k;)V=U.charCodeAt(P++),V>=55296&&V<=56319&&P<k?(tt=U.charCodeAt(P++),(tt&64512)==56320?w.push(((V&1023)<<10)+(tt&1023)+65536):(w.push(V),P--)):w.push(V);return w}function H(U){return J(U,function(w){var P="";return w>65535&&(w-=65536,P+=F(w>>>10&1023|55296),w=56320|w&1023),P+=F(w),P}).join("")}function W(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:f}function L(U,w){return U+22+75*(U<26)-((w!=0)<<5)}function nt(U,w,P){var k=0;for(U=P?R(U/v):U>>1,U+=R(U/w);U>N*p>>1;k+=f)U=R(U/N);return R(k+(N+1)*U/(U+g))}function S(U){var w=[],P=U.length,k,V=0,tt=x,ot=_,ut,ft,dt,ht,_t,bt,Dt,Bt,xt;for(ut=U.lastIndexOf(b),ut<0&&(ut=0),ft=0;ft<ut;++ft)U.charCodeAt(ft)>=128&&X("not-basic"),w.push(U.charCodeAt(ft));for(dt=ut>0?ut+1:0;dt<P;){for(ht=V,_t=1,bt=f;dt>=P&&X("invalid-input"),Dt=W(U.charCodeAt(dt++)),(Dt>=f||Dt>R((h-V)/_t))&&X("overflow"),V+=Dt*_t,Bt=bt<=ot?d:bt>=ot+p?p:bt-ot,!(Dt<Bt);bt+=f)xt=f-Bt,_t>R(h/xt)&&X("overflow"),_t*=xt;k=w.length+1,ot=nt(V-ht,k,ht==0),R(V/k)>h-tt&&X("overflow"),tt+=R(V/k),V%=k,w.splice(V++,0,tt)}return H(w)}function M(U){var w,P,k,V,tt,ot,ut,ft,dt,ht,_t,bt=[],Dt,Bt,xt,Tt;for(U=q(U),Dt=U.length,w=x,P=0,tt=_,ot=0;ot<Dt;++ot)_t=U[ot],_t<128&&bt.push(F(_t));for(k=V=bt.length,V&&bt.push(b);k<Dt;){for(ut=h,ot=0;ot<Dt;++ot)_t=U[ot],_t>=w&&_t<ut&&(ut=_t);for(Bt=k+1,ut-w>R((h-P)/Bt)&&X("overflow"),P+=(ut-w)*Bt,w=ut,ot=0;ot<Dt;++ot)if(_t=U[ot],_t<w&&++P>h&&X("overflow"),_t==w){for(ft=P,dt=f;ht=dt<=tt?d:dt>=tt+p?p:dt-tt,!(ft<ht);dt+=f)Tt=ft-ht,xt=f-ht,bt.push(F(L(ht+Tt%xt,0))),ft=R(Tt/xt);bt.push(F(L(ft,0))),tt=nt(P,Bt,k==V),P=0,++k}++P,++w}return bt.join("")}function O(U){return rt(U,function(w){return E.test(w)?S(w.slice(4).toLowerCase()):w})}function z(U){return rt(U,function(w){return A.test(w)?"xn--"+M(w):w})}if(l={version:"1.4.1",ucs2:{decode:q,encode:H},decode:S,encode:M,toASCII:z,toUnicode:O},n&&s)if(i.exports==n)s.exports=l;else for(D in l)l.hasOwnProperty(D)&&(n[D]=l[D]);else e.punycode=l})(T8)})(nl,nl.exports)),nl.exports}var Kd,Sv;function $a(){return Sv||(Sv=1,Kd=TypeError),Kd}const A8={},S8=Object.freeze(Object.defineProperty({__proto__:null,default:A8},Symbol.toStringTag,{value:"Module"})),w8=e8(S8);var Qd,wv;function hc(){if(wv)return Qd;wv=1;var i=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=i&&t&&typeof t.get=="function"?t.get:null,n=i&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&o&&typeof o.get=="function"?o.get:null,h=s&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,d=f?WeakMap.prototype.has:null,p=typeof WeakSet=="function"&&WeakSet.prototype,g=p?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,_=v?WeakRef.prototype.deref:null,x=Boolean.prototype.valueOf,b=Object.prototype.toString,E=Function.prototype.toString,A=String.prototype.match,I=String.prototype.slice,C=String.prototype.replace,N=String.prototype.toUpperCase,R=String.prototype.toLowerCase,F=RegExp.prototype.test,D=Array.prototype.concat,X=Array.prototype.join,J=Array.prototype.slice,rt=Math.floor,q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,H=Object.getOwnPropertySymbols,W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||!0)?Symbol.toStringTag:null,S=Object.prototype.propertyIsEnumerable,M=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function($){return $.__proto__}:null);function O($,et){if($===1/0||$===-1/0||$!==$||$&&$>-1e3&&$<1e3||F.call(/e/,et))return et;var Vt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof $=="number"){var Qt=$<0?-rt(-$):rt($);if(Qt!==$){var Wt=String(Qt),It=I.call(et,Wt.length+1);return C.call(Wt,Vt,"$&_")+"."+C.call(C.call(It,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(et,Vt,"$&_")}var z=w8,U=z.custom,w=Bt(U)?U:null,P={__proto__:null,double:'"',single:"'"},k={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Qd=function $(et,Vt,Qt,Wt){var It=Vt||{};if(ue(It,"quoteStyle")&&!ue(P,It.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ue(It,"maxStringLength")&&(typeof It.maxStringLength=="number"?It.maxStringLength<0&&It.maxStringLength!==1/0:It.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ri=ue(It,"customInspect")?It.customInspect:!0;if(typeof ri!="boolean"&&ri!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ue(It,"indent")&&It.indent!==null&&It.indent!=="	"&&!(parseInt(It.indent,10)===It.indent&&It.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ue(It,"numericSeparator")&&typeof It.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var He=It.numericSeparator;if(typeof et>"u")return"undefined";if(et===null)return"null";if(typeof et=="boolean")return et?"true":"false";if(typeof et=="string")return Ka(et,It);if(typeof et=="number"){if(et===0)return 1/0/et>0?"0":"-0";var we=String(et);return He?O(et,we):we}if(typeof et=="bigint"){var Ye=String(et)+"n";return He?O(et,Ye):Ye}var Qa=typeof It.depth>"u"?5:It.depth;if(typeof Qt>"u"&&(Qt=0),Qt>=Qa&&Qa>0&&typeof et=="object")return ut(et)?"[Array]":"[Object]";var xn=Xr(It,Qt);if(typeof Wt>"u")Wt=[];else if(vi(Wt,et)>=0)return"[Circular]";function je(bn,Ji,io){if(Ji&&(Wt=J.call(Wt),Wt.push(Ji)),io){var Tn={depth:It.depth};return ue(It,"quoteStyle")&&(Tn.quoteStyle=It.quoteStyle),$(bn,Tn,Qt+1,Wt)}return $(bn,It,Qt+1,Wt)}if(typeof et=="function"&&!dt(et)){var tr=Ki(et),Rl=ni(et,je);return"[Function"+(tr?": "+tr:" (anonymous)")+"]"+(Rl.length>0?" { "+X.call(Rl,", ")+" }":"")}if(Bt(et)){var Ja=L?C.call(String(et),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(et);return typeof et=="object"&&!L?jr(Ja):Ja}if(Cl(et)){for(var er="<"+R.call(String(et.nodeName)),Ns=et.attributes||[],ir=0;ir<Ns.length;ir++)er+=" "+Ns[ir].name+"="+V(tt(Ns[ir].value),"double",It);return er+=">",et.childNodes&&et.childNodes.length&&(er+="..."),er+="</"+R.call(String(et.nodeName))+">",er}if(ut(et)){if(et.length===0)return"[]";var Vr=ni(et,je);return xn&&!Dc(Vr)?"["+Oe(Vr,xn)+"]":"[ "+X.call(Vr,", ")+" ]"}if(ht(et)){var Ps=ni(et,je);return!("cause"in Error.prototype)&&"cause"in et&&!S.call(et,"cause")?"{ ["+String(et)+"] "+X.call(D.call("[cause]: "+je(et.cause),Ps),", ")+" }":Ps.length===0?"["+String(et)+"]":"{ ["+String(et)+"] "+X.call(Ps,", ")+" }"}if(typeof et=="object"&&ri){if(w&&typeof et[w]=="function"&&z)return z(et,{depth:Qa-Qt});if(ri!=="symbol"&&typeof et.inspect=="function")return et.inspect()}if(Ge(et)){var to=[];return n&&n.call(et,function(bn,Ji){to.push(je(Ji,et,!0)+" => "+je(bn,et))}),Ml("Map",e.call(et),to,xn)}if(ve(et)){var Ni=[];return h&&h.call(et,function(bn){Ni.push(je(bn,et))}),Ml("Set",l.call(et),Ni,xn)}if(Qn(et))return Is("WeakMap");if(Rc(et))return Is("WeakSet");if(Jn(et))return Is("WeakRef");if(bt(et))return jr(je(Number(et)));if(xt(et))return jr(je(q.call(et)));if(Dt(et))return jr(x.call(et));if(_t(et))return jr(je(String(et)));if(typeof window<"u"&&et===window)return"{ [object Window] }";if(typeof globalThis<"u"&&et===globalThis||typeof Nh<"u"&&et===Nh)return"{ [object globalThis] }";if(!ft(et)&&!dt(et)){var pe=ni(et,je),Be=M?M(et)===Object.prototype:et instanceof Object||et.constructor===Object,Qi=et instanceof Object?"":"null prototype",Ls=!Be&&nt&&Object(et)===et&&nt in et?I.call(ce(et),8,-1):Qi?"Object":"",Oc=Be||typeof et.constructor!="function"?"":et.constructor.name?et.constructor.name+" ":"",eo=Oc+(Ls||Qi?"["+X.call(D.call([],Ls||[],Qi||[]),": ")+"] ":"");return pe.length===0?eo+"{}":xn?eo+"{"+Oe(pe,xn)+"}":eo+"{ "+X.call(pe,", ")+" }"}return String(et)};function V($,et,Vt){var Qt=Vt.quoteStyle||et,Wt=P[Qt];return Wt+$+Wt}function tt($){return C.call(String($),/"/g,"&quot;")}function ot($){return!nt||!(typeof $=="object"&&(nt in $||typeof $[nt]<"u"))}function ut($){return ce($)==="[object Array]"&&ot($)}function ft($){return ce($)==="[object Date]"&&ot($)}function dt($){return ce($)==="[object RegExp]"&&ot($)}function ht($){return ce($)==="[object Error]"&&ot($)}function _t($){return ce($)==="[object String]"&&ot($)}function bt($){return ce($)==="[object Number]"&&ot($)}function Dt($){return ce($)==="[object Boolean]"&&ot($)}function Bt($){if(L)return $&&typeof $=="object"&&$ instanceof Symbol;if(typeof $=="symbol")return!0;if(!$||typeof $!="object"||!W)return!1;try{return W.call($),!0}catch{}return!1}function xt($){if(!$||typeof $!="object"||!q)return!1;try{return q.call($),!0}catch{}return!1}var Tt=Object.prototype.hasOwnProperty||function($){return $ in this};function ue($,et){return Tt.call($,et)}function ce($){return b.call($)}function Ki($){if($.name)return $.name;var et=A.call(E.call($),/^function\s*([\w$]+)/);return et?et[1]:null}function vi($,et){if($.indexOf)return $.indexOf(et);for(var Vt=0,Qt=$.length;Vt<Qt;Vt++)if($[Vt]===et)return Vt;return-1}function Ge($){if(!e||!$||typeof $!="object")return!1;try{e.call($);try{l.call($)}catch{return!0}return $ instanceof Map}catch{}return!1}function Qn($){if(!d||!$||typeof $!="object")return!1;try{d.call($,d);try{g.call($,g)}catch{return!0}return $ instanceof WeakMap}catch{}return!1}function Jn($){if(!_||!$||typeof $!="object")return!1;try{return _.call($),!0}catch{}return!1}function ve($){if(!l||!$||typeof $!="object")return!1;try{l.call($);try{e.call($)}catch{return!0}return $ instanceof Set}catch{}return!1}function Rc($){if(!g||!$||typeof $!="object")return!1;try{g.call($,g);try{d.call($,d)}catch{return!0}return $ instanceof WeakSet}catch{}return!1}function Cl($){return!$||typeof $!="object"?!1:typeof HTMLElement<"u"&&$ instanceof HTMLElement?!0:typeof $.nodeName=="string"&&typeof $.getAttribute=="function"}function Ka($,et){if($.length>et.maxStringLength){var Vt=$.length-et.maxStringLength,Qt="... "+Vt+" more character"+(Vt>1?"s":"");return Ka(I.call($,0,et.maxStringLength),et)+Qt}var Wt=k[et.quoteStyle||"single"];Wt.lastIndex=0;var It=C.call(C.call($,Wt,"\\$1"),/[\x00-\x1f]/g,Bs);return V(It,"single",et)}function Bs($){var et=$.charCodeAt(0),Vt={8:"b",9:"t",10:"n",12:"f",13:"r"}[et];return Vt?"\\"+Vt:"\\x"+(et<16?"0":"")+N.call(et.toString(16))}function jr($){return"Object("+$+")"}function Is($){return $+" { ? }"}function Ml($,et,Vt,Qt){var Wt=Qt?Oe(Vt,Qt):X.call(Vt,", ");return $+" ("+et+") {"+Wt+"}"}function Dc($){for(var et=0;et<$.length;et++)if(vi($[et],`
`)>=0)return!1;return!0}function Xr($,et){var Vt;if($.indent==="	")Vt="	";else if(typeof $.indent=="number"&&$.indent>0)Vt=X.call(Array($.indent+1)," ");else return null;return{base:Vt,prev:X.call(Array(et+1),Vt)}}function Oe($,et){if($.length===0)return"";var Vt=`
`+et.prev+et.base;return Vt+X.call($,","+Vt)+`
`+et.prev}function ni($,et){var Vt=ut($),Qt=[];if(Vt){Qt.length=$.length;for(var Wt=0;Wt<$.length;Wt++)Qt[Wt]=ue($,Wt)?et($[Wt],$):""}var It=typeof H=="function"?H($):[],ri;if(L){ri={};for(var He=0;He<It.length;He++)ri["$"+It[He]]=It[He]}for(var we in $)ue($,we)&&(Vt&&String(Number(we))===we&&we<$.length||L&&ri["$"+we]instanceof Symbol||(F.call(/[^\w$]/,we)?Qt.push(et(we,$)+": "+et($[we],$)):Qt.push(we+": "+et($[we],$))));if(typeof H=="function")for(var Ye=0;Ye<It.length;Ye++)S.call($,It[Ye])&&Qt.push("["+et(It[Ye])+"]: "+et($[It[Ye]],$));return Qt}return Qd}var Jd,Cv;function C8(){if(Cv)return Jd;Cv=1;var i=hc(),t=$a(),e=function(h,f,d){for(var p=h,g;(g=p.next)!=null;p=g)if(g.key===f)return p.next=g.next,d||(g.next=h.next,h.next=g),g},n=function(h,f){if(h){var d=e(h,f);return d&&d.value}},s=function(h,f,d){var p=e(h,f);p?p.value=d:h.next={key:f,next:h.next,value:d}},o=function(h,f){return h?!!e(h,f):!1},l=function(h,f){if(h)return e(h,f,!0)};return Jd=function(){var f,d={assert:function(p){if(!d.has(p))throw new t("Side channel does not contain "+i(p))},delete:function(p){var g=f&&f.next,v=l(f,p);return v&&g&&g===v&&(f=void 0),!!v},get:function(p){return n(f,p)},has:function(p){return o(f,p)},set:function(p,g){f||(f={next:void 0}),s(f,p,g)}};return d},Jd}var t0,Mv;function u_(){return Mv||(Mv=1,t0=Object),t0}var e0,Rv;function M8(){return Rv||(Rv=1,e0=Error),e0}var i0,Dv;function R8(){return Dv||(Dv=1,i0=EvalError),i0}var n0,Ov;function D8(){return Ov||(Ov=1,n0=RangeError),n0}var r0,Bv;function O8(){return Bv||(Bv=1,r0=ReferenceError),r0}var s0,Iv;function B8(){return Iv||(Iv=1,s0=SyntaxError),s0}var a0,Nv;function I8(){return Nv||(Nv=1,a0=URIError),a0}var o0,Pv;function N8(){return Pv||(Pv=1,o0=Math.abs),o0}var l0,Lv;function P8(){return Lv||(Lv=1,l0=Math.floor),l0}var u0,Uv;function L8(){return Uv||(Uv=1,u0=Math.max),u0}var h0,Fv;function U8(){return Fv||(Fv=1,h0=Math.min),h0}var c0,kv;function F8(){return kv||(kv=1,c0=Math.pow),c0}var f0,zv;function k8(){return zv||(zv=1,f0=Math.round),f0}var d0,Gv;function z8(){return Gv||(Gv=1,d0=Number.isNaN||function(t){return t!==t}),d0}var p0,Hv;function G8(){if(Hv)return p0;Hv=1;var i=z8();return p0=function(e){return i(e)||e===0?e:e<0?-1:1},p0}var m0,jv;function H8(){return jv||(jv=1,m0=Object.getOwnPropertyDescriptor),m0}var g0,Xv;function h_(){if(Xv)return g0;Xv=1;var i=H8();if(i)try{i([],"length")}catch{i=null}return g0=i,g0}var y0,Vv;function j8(){if(Vv)return y0;Vv=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return y0=i,y0}var v0,Yv;function X8(){return Yv||(Yv=1,v0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[e]=s;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,e);if(h.value!==s||h.enumerable!==!0)return!1}return!0}),v0}var _0,qv;function V8(){if(qv)return _0;qv=1;var i=typeof Symbol<"u"&&Symbol,t=X8();return _0=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},_0}var x0,$v;function c_(){return $v||($v=1,x0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),x0}var b0,Wv;function f_(){if(Wv)return b0;Wv=1;var i=u_();return b0=i.getPrototypeOf||null,b0}var T0,Zv;function Y8(){if(Zv)return T0;Zv=1;var i="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,n="[object Function]",s=function(f,d){for(var p=[],g=0;g<f.length;g+=1)p[g]=f[g];for(var v=0;v<d.length;v+=1)p[v+f.length]=d[v];return p},o=function(f,d){for(var p=[],g=d,v=0;g<f.length;g+=1,v+=1)p[v]=f[g];return p},l=function(h,f){for(var d="",p=0;p<h.length;p+=1)d+=h[p],p+1<h.length&&(d+=f);return d};return T0=function(f){var d=this;if(typeof d!="function"||t.apply(d)!==n)throw new TypeError(i+d);for(var p=o(arguments,1),g,v=function(){if(this instanceof g){var A=d.apply(this,s(p,arguments));return Object(A)===A?A:this}return d.apply(f,s(p,arguments))},_=e(0,d.length-p.length),x=[],b=0;b<_;b++)x[b]="$"+b;if(g=Function("binder","return function ("+l(x,",")+"){ return binder.apply(this,arguments); }")(v),d.prototype){var E=function(){};E.prototype=d.prototype,g.prototype=new E,E.prototype=null}return g},T0}var E0,Kv;function cc(){if(Kv)return E0;Kv=1;var i=Y8();return E0=Function.prototype.bind||i,E0}var A0,Qv;function B1(){return Qv||(Qv=1,A0=Function.prototype.call),A0}var S0,Jv;function d_(){return Jv||(Jv=1,S0=Function.prototype.apply),S0}var w0,t4;function q8(){return t4||(t4=1,w0=typeof Reflect<"u"&&Reflect&&Reflect.apply),w0}var C0,e4;function $8(){if(e4)return C0;e4=1;var i=cc(),t=d_(),e=B1(),n=q8();return C0=n||i.call(e,t),C0}var M0,i4;function p_(){if(i4)return M0;i4=1;var i=cc(),t=$a(),e=B1(),n=$8();return M0=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return n(i,e,o)},M0}var R0,n4;function W8(){if(n4)return R0;n4=1;var i=p_(),t=h_(),e;try{e=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!e&&t&&t(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return R0=n&&typeof n.get=="function"?i([n.get]):typeof o=="function"?function(h){return o(h==null?h:s(h))}:!1,R0}var D0,r4;function Z8(){if(r4)return D0;r4=1;var i=c_(),t=f_(),e=W8();return D0=i?function(s){return i(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:e?function(s){return e(s)}:null,D0}var O0,s4;function K8(){if(s4)return O0;s4=1;var i=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=cc();return O0=e.call(i,t),O0}var B0,a4;function I1(){if(a4)return B0;a4=1;var i,t=u_(),e=M8(),n=R8(),s=D8(),o=O8(),l=B8(),h=$a(),f=I8(),d=N8(),p=P8(),g=L8(),v=U8(),_=F8(),x=k8(),b=G8(),E=Function,A=function(dt){try{return E('"use strict"; return ('+dt+").constructor;")()}catch{}},I=h_(),C=j8(),N=function(){throw new h},R=I?(function(){try{return arguments.callee,N}catch{try{return I(arguments,"callee").get}catch{return N}}})():N,F=V8()(),D=Z8(),X=f_(),J=c_(),rt=d_(),q=B1(),H={},W=typeof Uint8Array>"u"||!D?i:D(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":F&&D?D([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?i:Float16Array,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":F&&D?D(D([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!F||!D?i:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!F||!D?i:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":F&&D?D(""[Symbol.iterator]()):i,"%Symbol%":F?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":R,"%TypedArray%":W,"%TypeError%":h,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":q,"%Function.prototype.apply%":rt,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":X,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":g,"%Math.min%":v,"%Math.pow%":_,"%Math.round%":x,"%Math.sign%":b,"%Reflect.getPrototypeOf%":J};if(D)try{null.error}catch(dt){var nt=D(D(dt));L["%Error.prototype%"]=nt}var S=function dt(ht){var _t;if(ht==="%AsyncFunction%")_t=A("async function () {}");else if(ht==="%GeneratorFunction%")_t=A("function* () {}");else if(ht==="%AsyncGeneratorFunction%")_t=A("async function* () {}");else if(ht==="%AsyncGenerator%"){var bt=dt("%AsyncGeneratorFunction%");bt&&(_t=bt.prototype)}else if(ht==="%AsyncIteratorPrototype%"){var Dt=dt("%AsyncGenerator%");Dt&&D&&(_t=D(Dt.prototype))}return L[ht]=_t,_t},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=cc(),z=K8(),U=O.call(q,Array.prototype.concat),w=O.call(rt,Array.prototype.splice),P=O.call(q,String.prototype.replace),k=O.call(q,String.prototype.slice),V=O.call(q,RegExp.prototype.exec),tt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ot=/\\(\\)?/g,ut=function(ht){var _t=k(ht,0,1),bt=k(ht,-1);if(_t==="%"&&bt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(bt==="%"&&_t!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var Dt=[];return P(ht,tt,function(Bt,xt,Tt,ue){Dt[Dt.length]=Tt?P(ue,ot,"$1"):xt||Bt}),Dt},ft=function(ht,_t){var bt=ht,Dt;if(z(M,bt)&&(Dt=M[bt],bt="%"+Dt[0]+"%"),z(L,bt)){var Bt=L[bt];if(Bt===H&&(Bt=S(bt)),typeof Bt>"u"&&!_t)throw new h("intrinsic "+ht+" exists, but is not available. Please file an issue!");return{alias:Dt,name:bt,value:Bt}}throw new l("intrinsic "+ht+" does not exist!")};return B0=function(ht,_t){if(typeof ht!="string"||ht.length===0)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _t!="boolean")throw new h('"allowMissing" argument must be a boolean');if(V(/^%?[^%]*%?$/,ht)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var bt=ut(ht),Dt=bt.length>0?bt[0]:"",Bt=ft("%"+Dt+"%",_t),xt=Bt.name,Tt=Bt.value,ue=!1,ce=Bt.alias;ce&&(Dt=ce[0],w(bt,U([0,1],ce)));for(var Ki=1,vi=!0;Ki<bt.length;Ki+=1){var Ge=bt[Ki],Qn=k(Ge,0,1),Jn=k(Ge,-1);if((Qn==='"'||Qn==="'"||Qn==="`"||Jn==='"'||Jn==="'"||Jn==="`")&&Qn!==Jn)throw new l("property names with quotes must have matching quotes");if((Ge==="constructor"||!vi)&&(ue=!0),Dt+="."+Ge,xt="%"+Dt+"%",z(L,xt))Tt=L[xt];else if(Tt!=null){if(!(Ge in Tt)){if(!_t)throw new h("base intrinsic for "+ht+" exists, but the property is not available.");return}if(I&&Ki+1>=bt.length){var ve=I(Tt,Ge);vi=!!ve,vi&&"get"in ve&&!("originalValue"in ve.get)?Tt=ve.get:Tt=Tt[Ge]}else vi=z(Tt,Ge),Tt=Tt[Ge];vi&&!ue&&(L[xt]=Tt)}}return Tt},B0}var I0,o4;function m_(){if(o4)return I0;o4=1;var i=I1(),t=p_(),e=t([i("%String.prototype.indexOf%")]);return I0=function(s,o){var l=i(s,!!o);return typeof l=="function"&&e(s,".prototype.")>-1?t([l]):l},I0}var N0,l4;function g_(){if(l4)return N0;l4=1;var i=I1(),t=m_(),e=hc(),n=$a(),s=i("%Map%",!0),o=t("Map.prototype.get",!0),l=t("Map.prototype.set",!0),h=t("Map.prototype.has",!0),f=t("Map.prototype.delete",!0),d=t("Map.prototype.size",!0);return N0=!!s&&function(){var g,v={assert:function(_){if(!v.has(_))throw new n("Side channel does not contain "+e(_))},delete:function(_){if(g){var x=f(g,_);return d(g)===0&&(g=void 0),x}return!1},get:function(_){if(g)return o(g,_)},has:function(_){return g?h(g,_):!1},set:function(_,x){g||(g=new s),l(g,_,x)}};return v},N0}var P0,u4;function Q8(){if(u4)return P0;u4=1;var i=I1(),t=m_(),e=hc(),n=g_(),s=$a(),o=i("%WeakMap%",!0),l=t("WeakMap.prototype.get",!0),h=t("WeakMap.prototype.set",!0),f=t("WeakMap.prototype.has",!0),d=t("WeakMap.prototype.delete",!0);return P0=o?function(){var g,v,_={assert:function(x){if(!_.has(x))throw new s("Side channel does not contain "+e(x))},delete:function(x){if(o&&x&&(typeof x=="object"||typeof x=="function")){if(g)return d(g,x)}else if(n&&v)return v.delete(x);return!1},get:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&g?l(g,x):v&&v.get(x)},has:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&g?f(g,x):!!v&&v.has(x)},set:function(x,b){o&&x&&(typeof x=="object"||typeof x=="function")?(g||(g=new o),h(g,x,b)):n&&(v||(v=n()),v.set(x,b))}};return _}:n,P0}var L0,h4;function J8(){if(h4)return L0;h4=1;var i=$a(),t=hc(),e=C8(),n=g_(),s=Q8(),o=s||n||e;return L0=function(){var h,f={assert:function(d){if(!f.has(d))throw new i("Side channel does not contain "+t(d))},delete:function(d){return!!h&&h.delete(d)},get:function(d){return h&&h.get(d)},has:function(d){return!!h&&h.has(d)},set:function(d,p){h||(h=o()),h.set(d,p)}};return f},L0}var U0,c4;function N1(){if(c4)return U0;c4=1;var i=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return U0={default:e.RFC3986,formatters:{RFC1738:function(n){return i.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},U0}var F0,f4;function y_(){if(f4)return F0;f4=1;var i=N1(),t=Object.prototype.hasOwnProperty,e=Array.isArray,n=(function(){for(var E=[],A=0;A<256;++A)E.push("%"+((A<16?"0":"")+A.toString(16)).toUpperCase());return E})(),s=function(A){for(;A.length>1;){var I=A.pop(),C=I.obj[I.prop];if(e(C)){for(var N=[],R=0;R<C.length;++R)typeof C[R]<"u"&&N.push(C[R]);I.obj[I.prop]=N}}},o=function(A,I){for(var C=I&&I.plainObjects?{__proto__:null}:{},N=0;N<A.length;++N)typeof A[N]<"u"&&(C[N]=A[N]);return C},l=function E(A,I,C){if(!I)return A;if(typeof I!="object"&&typeof I!="function"){if(e(A))A.push(I);else if(A&&typeof A=="object")(C&&(C.plainObjects||C.allowPrototypes)||!t.call(Object.prototype,I))&&(A[I]=!0);else return[A,I];return A}if(!A||typeof A!="object")return[A].concat(I);var N=A;return e(A)&&!e(I)&&(N=o(A,C)),e(A)&&e(I)?(I.forEach(function(R,F){if(t.call(A,F)){var D=A[F];D&&typeof D=="object"&&R&&typeof R=="object"?A[F]=E(D,R,C):A.push(R)}else A[F]=R}),A):Object.keys(I).reduce(function(R,F){var D=I[F];return t.call(R,F)?R[F]=E(R[F],D,C):R[F]=D,R},N)},h=function(A,I){return Object.keys(I).reduce(function(C,N){return C[N]=I[N],C},A)},f=function(E,A,I){var C=E.replace(/\+/g," ");if(I==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch{return C}},d=1024,p=function(A,I,C,N,R){if(A.length===0)return A;var F=A;if(typeof A=="symbol"?F=Symbol.prototype.toString.call(A):typeof A!="string"&&(F=String(A)),C==="iso-8859-1")return escape(F).replace(/%u[0-9a-f]{4}/gi,function(W){return"%26%23"+parseInt(W.slice(2),16)+"%3B"});for(var D="",X=0;X<F.length;X+=d){for(var J=F.length>=d?F.slice(X,X+d):F,rt=[],q=0;q<J.length;++q){var H=J.charCodeAt(q);if(H===45||H===46||H===95||H===126||H>=48&&H<=57||H>=65&&H<=90||H>=97&&H<=122||R===i.RFC1738&&(H===40||H===41)){rt[rt.length]=J.charAt(q);continue}if(H<128){rt[rt.length]=n[H];continue}if(H<2048){rt[rt.length]=n[192|H>>6]+n[128|H&63];continue}if(H<55296||H>=57344){rt[rt.length]=n[224|H>>12]+n[128|H>>6&63]+n[128|H&63];continue}q+=1,H=65536+((H&1023)<<10|J.charCodeAt(q)&1023),rt[rt.length]=n[240|H>>18]+n[128|H>>12&63]+n[128|H>>6&63]+n[128|H&63]}D+=rt.join("")}return D},g=function(A){for(var I=[{obj:{o:A},prop:"o"}],C=[],N=0;N<I.length;++N)for(var R=I[N],F=R.obj[R.prop],D=Object.keys(F),X=0;X<D.length;++X){var J=D[X],rt=F[J];typeof rt=="object"&&rt!==null&&C.indexOf(rt)===-1&&(I.push({obj:F,prop:J}),C.push(rt))}return s(I),A},v=function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},_=function(A){return!A||typeof A!="object"?!1:!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},x=function(A,I){return[].concat(A,I)},b=function(A,I){if(e(A)){for(var C=[],N=0;N<A.length;N+=1)C.push(I(A[N]));return C}return I(A)};return F0={arrayToObject:o,assign:h,combine:x,compact:g,decode:f,encode:p,isBuffer:_,isRegExp:v,maybeMap:b,merge:l},F0}var k0,d4;function t9(){if(d4)return k0;d4=1;var i=J8(),t=y_(),e=N1(),n=Object.prototype.hasOwnProperty,s={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,A){return E+"["+A+"]"},repeat:function(E){return E}},o=Array.isArray,l=Array.prototype.push,h=function(b,E){l.apply(b,o(E)?E:[E])},f=Date.prototype.toISOString,d=e.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:e.formatters[d],indices:!1,serializeDate:function(E){return f.call(E)},skipNulls:!1,strictNullHandling:!1},g=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},v={},_=function b(E,A,I,C,N,R,F,D,X,J,rt,q,H,W,L,nt,S,M){for(var O=E,z=M,U=0,w=!1;(z=z.get(v))!==void 0&&!w;){var P=z.get(E);if(U+=1,typeof P<"u"){if(P===U)throw new RangeError("Cyclic object value");w=!0}typeof z.get(v)>"u"&&(U=0)}if(typeof J=="function"?O=J(A,O):O instanceof Date?O=H(O):I==="comma"&&o(O)&&(O=t.maybeMap(O,function(xt){return xt instanceof Date?H(xt):xt})),O===null){if(R)return X&&!nt?X(A,p.encoder,S,"key",W):A;O=""}if(g(O)||t.isBuffer(O)){if(X){var k=nt?A:X(A,p.encoder,S,"key",W);return[L(k)+"="+L(X(O,p.encoder,S,"value",W))]}return[L(A)+"="+L(String(O))]}var V=[];if(typeof O>"u")return V;var tt;if(I==="comma"&&o(O))nt&&X&&(O=t.maybeMap(O,X)),tt=[{value:O.length>0?O.join(",")||null:void 0}];else if(o(J))tt=J;else{var ot=Object.keys(O);tt=rt?ot.sort(rt):ot}var ut=D?String(A).replace(/\./g,"%2E"):String(A),ft=C&&o(O)&&O.length===1?ut+"[]":ut;if(N&&o(O)&&O.length===0)return ft+"[]";for(var dt=0;dt<tt.length;++dt){var ht=tt[dt],_t=typeof ht=="object"&&ht&&typeof ht.value<"u"?ht.value:O[ht];if(!(F&&_t===null)){var bt=q&&D?String(ht).replace(/\./g,"%2E"):String(ht),Dt=o(O)?typeof I=="function"?I(ft,bt):ft:ft+(q?"."+bt:"["+bt+"]");M.set(E,U);var Bt=i();Bt.set(v,M),h(V,b(_t,Dt,I,C,N,R,F,D,I==="comma"&&nt&&o(O)?null:X,J,rt,q,H,W,L,nt,S,Bt))}}return V},x=function(E){if(!E)return p;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var A=E.charset||p.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var I=e.default;if(typeof E.format<"u"){if(!n.call(e.formatters,E.format))throw new TypeError("Unknown format option provided.");I=E.format}var C=e.formatters[I],N=p.filter;(typeof E.filter=="function"||o(E.filter))&&(N=E.filter);var R;if(E.arrayFormat in s?R=E.arrayFormat:"indices"in E?R=E.indices?"indices":"repeat":R=p.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var F=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:p.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:p.addQueryPrefix,allowDots:F,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:R,charset:A,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:p.charsetSentinel,commaRoundTrip:!!E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?p.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:p.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:p.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:p.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:p.encodeValuesOnly,filter:N,format:I,formatter:C,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:p.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:p.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:p.strictNullHandling}};return k0=function(b,E){var A=b,I=x(E),C,N;typeof I.filter=="function"?(N=I.filter,A=N("",A)):o(I.filter)&&(N=I.filter,C=N);var R=[];if(typeof A!="object"||A===null)return"";var F=s[I.arrayFormat],D=F==="comma"&&I.commaRoundTrip;C||(C=Object.keys(A)),I.sort&&C.sort(I.sort);for(var X=i(),J=0;J<C.length;++J){var rt=C[J],q=A[rt];I.skipNulls&&q===null||h(R,_(q,rt,F,D,I.allowEmptyArrays,I.strictNullHandling,I.skipNulls,I.encodeDotInKeys,I.encode?I.encoder:null,I.filter,I.sort,I.allowDots,I.serializeDate,I.format,I.formatter,I.encodeValuesOnly,I.charset,X))}var H=R.join(I.delimiter),W=I.addQueryPrefix===!0?"?":"";return I.charsetSentinel&&(I.charset==="iso-8859-1"?W+="utf8=%26%2310003%3B&":W+="utf8=%E2%9C%93&"),H.length>0?W+H:""},k0}var z0,p4;function e9(){if(p4)return z0;p4=1;var i=y_(),t=Object.prototype.hasOwnProperty,e=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(v){return v.replace(/&#(\d+);/g,function(_,x){return String.fromCharCode(parseInt(x,10))})},o=function(v,_,x){if(v&&typeof v=="string"&&_.comma&&v.indexOf(",")>-1)return v.split(",");if(_.throwOnLimitExceeded&&x>=_.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_.arrayLimit+" element"+(_.arrayLimit===1?"":"s")+" allowed in an array.");return v},l="utf8=%26%2310003%3B",h="utf8=%E2%9C%93",f=function(_,x){var b={__proto__:null},E=x.ignoreQueryPrefix?_.replace(/^\?/,""):_;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var A=x.parameterLimit===1/0?void 0:x.parameterLimit,I=E.split(x.delimiter,x.throwOnLimitExceeded?A+1:A);if(x.throwOnLimitExceeded&&I.length>A)throw new RangeError("Parameter limit exceeded. Only "+A+" parameter"+(A===1?"":"s")+" allowed.");var C=-1,N,R=x.charset;if(x.charsetSentinel)for(N=0;N<I.length;++N)I[N].indexOf("utf8=")===0&&(I[N]===h?R="utf-8":I[N]===l&&(R="iso-8859-1"),C=N,N=I.length);for(N=0;N<I.length;++N)if(N!==C){var F=I[N],D=F.indexOf("]="),X=D===-1?F.indexOf("="):D+1,J,rt;X===-1?(J=x.decoder(F,n.decoder,R,"key"),rt=x.strictNullHandling?null:""):(J=x.decoder(F.slice(0,X),n.decoder,R,"key"),rt=i.maybeMap(o(F.slice(X+1),x,e(b[J])?b[J].length:0),function(H){return x.decoder(H,n.decoder,R,"value")})),rt&&x.interpretNumericEntities&&R==="iso-8859-1"&&(rt=s(String(rt))),F.indexOf("[]=")>-1&&(rt=e(rt)?[rt]:rt);var q=t.call(b,J);q&&x.duplicates==="combine"?b[J]=i.combine(b[J],rt):(!q||x.duplicates==="last")&&(b[J]=rt)}return b},d=function(v,_,x,b){var E=0;if(v.length>0&&v[v.length-1]==="[]"){var A=v.slice(0,-1).join("");E=Array.isArray(_)&&_[A]?_[A].length:0}for(var I=b?_:o(_,x,E),C=v.length-1;C>=0;--C){var N,R=v[C];if(R==="[]"&&x.parseArrays)N=x.allowEmptyArrays&&(I===""||x.strictNullHandling&&I===null)?[]:i.combine([],I);else{N=x.plainObjects?{__proto__:null}:{};var F=R.charAt(0)==="["&&R.charAt(R.length-1)==="]"?R.slice(1,-1):R,D=x.decodeDotInKeys?F.replace(/%2E/g,"."):F,X=parseInt(D,10);!x.parseArrays&&D===""?N={0:I}:!isNaN(X)&&R!==D&&String(X)===D&&X>=0&&x.parseArrays&&X<=x.arrayLimit?(N=[],N[X]=I):D!=="__proto__"&&(N[D]=I)}I=N}return I},p=function(_,x,b,E){if(_){var A=b.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,I=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,N=b.depth>0&&I.exec(A),R=N?A.slice(0,N.index):A,F=[];if(R){if(!b.plainObjects&&t.call(Object.prototype,R)&&!b.allowPrototypes)return;F.push(R)}for(var D=0;b.depth>0&&(N=C.exec(A))!==null&&D<b.depth;){if(D+=1,!b.plainObjects&&t.call(Object.prototype,N[1].slice(1,-1))&&!b.allowPrototypes)return;F.push(N[1])}if(N){if(b.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+b.depth+" and strictDepth is true");F.push("["+A.slice(N.index)+"]")}return d(F,x,b,E)}},g=function(_){if(!_)return n;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _.throwOnLimitExceeded<"u"&&typeof _.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var x=typeof _.charset>"u"?n.charset:_.charset,b=typeof _.duplicates>"u"?n.duplicates:_.duplicates;if(b!=="combine"&&b!=="first"&&b!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:n.allowDots:!!_.allowDots;return{allowDots:E,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:n.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:n.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:n.arrayLimit,charset:x,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:n.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:n.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:n.decoder,delimiter:typeof _.delimiter=="string"||i.isRegExp(_.delimiter)?_.delimiter:n.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:n.depth,duplicates:b,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:n.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:n.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:n.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof _.throwOnLimitExceeded=="boolean"?_.throwOnLimitExceeded:!1}};return z0=function(v,_){var x=g(_);if(v===""||v===null||typeof v>"u")return x.plainObjects?{__proto__:null}:{};for(var b=typeof v=="string"?f(v,x):v,E=x.plainObjects?{__proto__:null}:{},A=Object.keys(b),I=0;I<A.length;++I){var C=A[I],N=p(C,b[C],x,typeof v=="string");E=i.merge(E,N,x)}return x.allowSparse===!0?E:i.compact(E)},z0}var G0,m4;function i9(){if(m4)return G0;m4=1;var i=t9(),t=e9(),e=N1();return G0={formats:e,parse:t,stringify:i},G0}var g4;function n9(){if(g4)return us;g4=1;var i=E8();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(o),h=["'"].concat(l),f=["%","/","?",";","#"].concat(h),d=["/","?","#"],p=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=i9();function A(R,F,D){if(R&&typeof R=="object"&&R instanceof t)return R;var X=new t;return X.parse(R,F,D),X}t.prototype.parse=function(R,F,D){if(typeof R!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var X=R.indexOf("?"),J=X!==-1&&X<R.indexOf("#")?"?":"#",rt=R.split(J),q=/\\/g;rt[0]=rt[0].replace(q,"/"),R=rt.join(J);var H=R;if(H=H.trim(),!D&&R.split("#").length===1){var W=s.exec(H);if(W)return this.path=H,this.href=H,this.pathname=W[1],W[2]?(this.search=W[2],F?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):F&&(this.search="",this.query={}),this}var L=e.exec(H);if(L){L=L[0];var nt=L.toLowerCase();this.protocol=nt,H=H.substr(L.length)}if(D||L||H.match(/^\/\/[^@/]+@[^@/]+/)){var S=H.substr(0,2)==="//";S&&!(L&&x[L])&&(H=H.substr(2),this.slashes=!0)}if(!x[L]&&(S||L&&!b[L])){for(var M=-1,O=0;O<d.length;O++){var z=H.indexOf(d[O]);z!==-1&&(M===-1||z<M)&&(M=z)}var U,w;M===-1?w=H.lastIndexOf("@"):w=H.lastIndexOf("@",M),w!==-1&&(U=H.slice(0,w),H=H.slice(w+1),this.auth=decodeURIComponent(U)),M=-1;for(var O=0;O<f.length;O++){var z=H.indexOf(f[O]);z!==-1&&(M===-1||z<M)&&(M=z)}M===-1&&(M=H.length),this.host=H.slice(0,M),H=H.slice(M),this.parseHost(),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P)for(var k=this.hostname.split(/\./),O=0,V=k.length;O<V;O++){var tt=k[O];if(tt&&!tt.match(g)){for(var ot="",ut=0,ft=tt.length;ut<ft;ut++)tt.charCodeAt(ut)>127?ot+="x":ot+=tt[ut];if(!ot.match(g)){var dt=k.slice(0,O),ht=k.slice(O+1),_t=tt.match(v);_t&&(dt.push(_t[1]),ht.unshift(_t[2])),ht.length&&(H="/"+ht.join(".")+H),this.hostname=dt.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=i.toASCII(this.hostname));var bt=this.port?":"+this.port:"",Dt=this.hostname||"";this.host=Dt+bt,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),H[0]!=="/"&&(H="/"+H))}if(!_[nt])for(var O=0,V=h.length;O<V;O++){var Bt=h[O];if(H.indexOf(Bt)!==-1){var xt=encodeURIComponent(Bt);xt===Bt&&(xt=escape(Bt)),H=H.split(Bt).join(xt)}}var Tt=H.indexOf("#");Tt!==-1&&(this.hash=H.substr(Tt),H=H.slice(0,Tt));var ue=H.indexOf("?");if(ue!==-1?(this.search=H.substr(ue),this.query=H.substr(ue+1),F&&(this.query=E.parse(this.query)),H=H.slice(0,ue)):F&&(this.search="",this.query={}),H&&(this.pathname=H),b[nt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var bt=this.pathname||"",ce=this.search||"";this.path=bt+ce}return this.href=this.format(),this};function I(R){return typeof R=="string"&&(R=A(R)),R instanceof t?R.format():t.prototype.format.call(R)}t.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var F=this.protocol||"",D=this.pathname||"",X=this.hash||"",J=!1,rt="";this.host?J=R+this.host:this.hostname&&(J=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(J+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(rt=E.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var q=this.search||rt&&"?"+rt||"";return F&&F.substr(-1)!==":"&&(F+=":"),this.slashes||(!F||b[F])&&J!==!1?(J="//"+(J||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):J||(J=""),X&&X.charAt(0)!=="#"&&(X="#"+X),q&&q.charAt(0)!=="?"&&(q="?"+q),D=D.replace(/[?#]/g,function(H){return encodeURIComponent(H)}),q=q.replace("#","%23"),F+J+D+q+X};function C(R,F){return A(R,!1,!0).resolve(F)}t.prototype.resolve=function(R){return this.resolveObject(A(R,!1,!0)).format()};function N(R,F){return R?A(R,!1,!0).resolveObject(F):F}return t.prototype.resolveObject=function(R){if(typeof R=="string"){var F=new t;F.parse(R,!1,!0),R=F}for(var D=new t,X=Object.keys(this),J=0;J<X.length;J++){var rt=X[J];D[rt]=this[rt]}if(D.hash=R.hash,R.href==="")return D.href=D.format(),D;if(R.slashes&&!R.protocol){for(var q=Object.keys(R),H=0;H<q.length;H++){var W=q[H];W!=="protocol"&&(D[W]=R[W])}return b[D.protocol]&&D.hostname&&!D.pathname&&(D.pathname="/",D.path=D.pathname),D.href=D.format(),D}if(R.protocol&&R.protocol!==D.protocol){if(!b[R.protocol]){for(var L=Object.keys(R),nt=0;nt<L.length;nt++){var S=L[nt];D[S]=R[S]}return D.href=D.format(),D}if(D.protocol=R.protocol,!R.host&&!x[R.protocol]){for(var V=(R.pathname||"").split("/");V.length&&!(R.host=V.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),D.pathname=V.join("/")}else D.pathname=R.pathname;if(D.search=R.search,D.query=R.query,D.host=R.host||"",D.auth=R.auth,D.hostname=R.hostname||R.host,D.port=R.port,D.pathname||D.search){var M=D.pathname||"",O=D.search||"";D.path=M+O}return D.slashes=D.slashes||R.slashes,D.href=D.format(),D}var z=D.pathname&&D.pathname.charAt(0)==="/",U=R.host||R.pathname&&R.pathname.charAt(0)==="/",w=U||z||D.host&&R.pathname,P=w,k=D.pathname&&D.pathname.split("/")||[],V=R.pathname&&R.pathname.split("/")||[],tt=D.protocol&&!b[D.protocol];if(tt&&(D.hostname="",D.port=null,D.host&&(k[0]===""?k[0]=D.host:k.unshift(D.host)),D.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(V[0]===""?V[0]=R.host:V.unshift(R.host)),R.host=null),w=w&&(V[0]===""||k[0]==="")),U)D.host=R.host||R.host===""?R.host:D.host,D.hostname=R.hostname||R.hostname===""?R.hostname:D.hostname,D.search=R.search,D.query=R.query,k=V;else if(V.length)k||(k=[]),k.pop(),k=k.concat(V),D.search=R.search,D.query=R.query;else if(R.search!=null){if(tt){D.host=k.shift(),D.hostname=D.host;var ot=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;ot&&(D.auth=ot.shift(),D.hostname=ot.shift(),D.host=D.hostname)}return D.search=R.search,D.query=R.query,(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!k.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var ut=k.slice(-1)[0],ft=(D.host||R.host||k.length>1)&&(ut==="."||ut==="..")||ut==="",dt=0,ht=k.length;ht>=0;ht--)ut=k[ht],ut==="."?k.splice(ht,1):ut===".."?(k.splice(ht,1),dt++):dt&&(k.splice(ht,1),dt--);if(!w&&!P)for(;dt--;dt)k.unshift("..");w&&k[0]!==""&&(!k[0]||k[0].charAt(0)!=="/")&&k.unshift(""),ft&&k.join("/").substr(-1)!=="/"&&k.push("");var _t=k[0]===""||k[0]&&k[0].charAt(0)==="/";if(tt){D.hostname=_t?"":k.length?k.shift():"",D.host=D.hostname;var ot=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;ot&&(D.auth=ot.shift(),D.hostname=ot.shift(),D.host=D.hostname)}return w=w||D.host&&k.length,w&&!_t&&k.unshift(""),k.length>0?D.pathname=k.join("/"):(D.pathname=null,D.path=null),(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=R.auth||D.auth,D.slashes=D.slashes||R.slashes,D.href=D.format(),D},t.prototype.parseHost=function(){var R=this.host,F=n.exec(R);F&&(F=F[0],F!==":"&&(this.port=F.substr(1)),R=R.substr(0,R.length-F.length)),R&&(this.hostname=R)},us.parse=A,us.resolve=C,us.resolveObject=N,us.format=I,us.Url=t,us}n9();const y4={};function Gt(i,t,e=3){if(y4[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${i}`):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${i}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${i}`),console.warn(n))),y4[t]=!0}function Fi(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function $o(i){return i.split("?")[0].split("#")[0]}function r9(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s9(i,t,e){return i.replace(new RegExp(r9(t),"g"),e)}function a9(i,t){let e="",n=0,s=-1,o=0,l=-1;for(let h=0;h<=i.length;++h){if(h<i.length)l=i.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(s===h-1||o===1))if(s!==h-1&&o===2){if(e.length<2||n!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const f=e.lastIndexOf("/");if(f!==e.length-1){f===-1?(e="",n=0):(e=e.slice(0,f),n=e.length-1-e.lastIndexOf("/")),s=h,o=0;continue}}else if(e.length===2||e.length===1){e="",n=0,s=h,o=0;continue}}}else e.length>0?e+=`/${i.slice(s+1,h)}`:e=i.slice(s+1,h),n=h-s-1;s=h,o=0}else l===46&&o!==-1?++o:o=-1}return e}const De={toPosix(i){return s9(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Fi(i),i=this.toPosix(i);const t=/^file:\/\/\//.exec(i);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(i);return e?e[0]:""},toAbsolute(i,t,e){if(Fi(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const n=$o(this.toPosix(t??yt.ADAPTER.getBaseUrl())),s=$o(this.toPosix(e??this.rootname(n)));return i=this.toPosix(i),i.startsWith("/")?De.join(s,i.slice(1)):this.isAbsolute(i)?i:this.join(n,i)},normalize(i){if(Fi(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let t="";const e=i.startsWith("/");this.hasProtocol(i)&&(t=this.rootname(i),i=i.slice(t.length));const n=i.endsWith("/");return i=a9(i),i.length>0&&n&&(i+="/"),e?`/${i}`:t+i},isAbsolute(i){return Fi(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let t;for(let e=0;e<i.length;++e){const n=i[e];if(Fi(n),n.length>0)if(t===void 0)t=n;else{const s=i[e-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(i){if(Fi(i),i.length===0)return".";i=this.toPosix(i);let t=i.charCodeAt(0);const e=t===47;let n=-1,s=!0;const o=this.getProtocol(i),l=i;i=i.slice(o.length);for(let h=i.length-1;h>=1;--h)if(t=i.charCodeAt(h),t===47){if(!s){n=h;break}}else s=!1;return n===-1?e?"/":this.isUrl(l)?o+i:o:e&&n===1?"//":o+i.slice(0,n)},rootname(i){Fi(i),i=this.toPosix(i);let t="";if(i.startsWith("/")?t="/":t=this.getProtocol(i),this.isUrl(i)){const e=i.indexOf("/",t.length);e!==-1?t=i.slice(0,e):t=i,t.endsWith("/")||(t+="/")}return t},basename(i,t){Fi(i),t&&Fi(t),i=$o(this.toPosix(i));let e=0,n=-1,s=!0,o;if(t!==void 0&&t.length>0&&t.length<=i.length){if(t.length===i.length&&t===i)return"";let l=t.length-1,h=-1;for(o=i.length-1;o>=0;--o){const f=i.charCodeAt(o);if(f===47){if(!s){e=o+1;break}}else h===-1&&(s=!1,h=o+1),l>=0&&(f===t.charCodeAt(l)?--l===-1&&(n=o):(l=-1,n=h))}return e===n?n=h:n===-1&&(n=i.length),i.slice(e,n)}for(o=i.length-1;o>=0;--o)if(i.charCodeAt(o)===47){if(!s){e=o+1;break}}else n===-1&&(s=!1,n=o+1);return n===-1?"":i.slice(e,n)},extname(i){Fi(i),i=$o(this.toPosix(i));let t=-1,e=0,n=-1,s=!0,o=0;for(let l=i.length-1;l>=0;--l){const h=i.charCodeAt(l);if(h===47){if(!s){e=l+1;break}continue}n===-1&&(s=!1,n=l+1),h===46?t===-1?t=l:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===e+1?"":i.slice(t,n)},parse(i){Fi(i);const t={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return t;i=$o(this.toPosix(i));let e=i.charCodeAt(0);const n=this.isAbsolute(i);let s;t.root=this.rootname(i),n||this.hasProtocol(i)?s=1:s=0;let o=-1,l=0,h=-1,f=!0,d=i.length-1,p=0;for(;d>=s;--d){if(e=i.charCodeAt(d),e===47){if(!f){l=d+1;break}continue}h===-1&&(f=!1,h=d+1),e===46?o===-1?o=d:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||h===-1||p===0||p===1&&o===h-1&&o===l+1?h!==-1&&(l===0&&n?t.base=t.name=i.slice(1,h):t.base=t.name=i.slice(l,h)):(l===0&&n?(t.name=i.slice(1,o),t.base=i.slice(1,h)):(t.name=i.slice(l,o),t.base=i.slice(l,h)),t.ext=i.slice(o,h)),t.dir=this.dirname(i),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let H0;async function o9(){return H0??(H0=(async()=>{const i=document.createElement("canvas").getContext("webgl");if(!i)return ei.UNPACK;const t=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!t)return ei.UNPACK;const e=i.createTexture();i.bindTexture(i.TEXTURE_2D,e);const n=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,n),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t);const s=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,s),i.deleteFramebuffer(n),i.deleteTexture(e),i.getExtension("WEBGL_lose_context")?.loseContext(),s[0]<=s[3]?ei.PMA:ei.UNPACK})()),H0}let j0;function l9(){return typeof j0>"u"&&(j0=(function(){const i={stencil:!0,failIfMajorPerformanceCaveat:yt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!yt.ADAPTER.getWebGLRenderingContext())return!1;const t=yt.ADAPTER.createCanvas();let e=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);const n=!!e?.getContextAttributes()?.stencil;if(e){const s=e.getExtension("WEBGL_lose_context");s&&s.loseContext()}return e=null,n}catch{return!1}})()),j0}var u9={grad:.9,turn:360,rad:360/(2*Math.PI)},Hn=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Re=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*i)/e+0},Bi=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),i>e?e:i>t?i:t},v_=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},v4=function(i){return{r:Bi(i.r,0,255),g:Bi(i.g,0,255),b:Bi(i.b,0,255),a:Bi(i.a)}},X0=function(i){return{r:Re(i.r),g:Re(i.g),b:Re(i.b),a:Re(i.a,3)}},h9=/^#([0-9a-f]{3,8})$/i,Xu=function(i){var t=i.toString(16);return t.length<2?"0"+t:t},__=function(i){var t=i.r,e=i.g,n=i.b,s=i.a,o=Math.max(t,e,n),l=o-Math.min(t,e,n),h=l?o===t?(e-n)/l:o===e?2+(n-t)/l:4+(t-e)/l:0;return{h:60*(h<0?h+6:h),s:o?l/o*100:0,v:o/255*100,a:s}},x_=function(i){var t=i.h,e=i.s,n=i.v,s=i.a;t=t/360*6,e/=100,n/=100;var o=Math.floor(t),l=n*(1-e),h=n*(1-(t-o)*e),f=n*(1-(1-t+o)*e),d=o%6;return{r:255*[n,h,l,l,f,n][d],g:255*[f,n,n,h,l,l][d],b:255*[l,l,f,n,n,h][d],a:s}},_4=function(i){return{h:v_(i.h),s:Bi(i.s,0,100),l:Bi(i.l,0,100),a:Bi(i.a)}},x4=function(i){return{h:Re(i.h),s:Re(i.s),l:Re(i.l),a:Re(i.a,3)}},b4=function(i){return x_((e=(t=i).s,{h:t.h,s:(e*=((n=t.l)<50?n:100-n)/100)>0?2*e/(n+e)*100:0,v:n+e,a:t.a}));var t,e,n},pl=function(i){return{h:(t=__(i)).h,s:(s=(200-(e=t.s))*(n=t.v)/100)>0&&s<200?e*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:t.a};var t,e,n,s},c9=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,f9=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,d9=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p9=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cp={string:[[function(i){var t=h9.exec(i);return t?(i=t[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Re(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Re(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var t=d9.exec(i)||p9.exec(i);return t?t[2]!==t[4]||t[4]!==t[6]?null:v4({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(i){var t=c9.exec(i)||f9.exec(i);if(!t)return null;var e,n,s=_4({h:(e=t[1],n=t[2],n===void 0&&(n="deg"),Number(e)*(u9[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return b4(s)},"hsl"]],object:[[function(i){var t=i.r,e=i.g,n=i.b,s=i.a,o=s===void 0?1:s;return Hn(t)&&Hn(e)&&Hn(n)?v4({r:Number(t),g:Number(e),b:Number(n),a:Number(o)}):null},"rgb"],[function(i){var t=i.h,e=i.s,n=i.l,s=i.a,o=s===void 0?1:s;if(!Hn(t)||!Hn(e)||!Hn(n))return null;var l=_4({h:Number(t),s:Number(e),l:Number(n),a:Number(o)});return b4(l)},"hsl"],[function(i){var t=i.h,e=i.s,n=i.v,s=i.a,o=s===void 0?1:s;if(!Hn(t)||!Hn(e)||!Hn(n))return null;var l=(function(h){return{h:v_(h.h),s:Bi(h.s,0,100),v:Bi(h.v,0,100),a:Bi(h.a)}})({h:Number(t),s:Number(e),v:Number(n),a:Number(o)});return x_(l)},"hsv"]]},T4=function(i,t){for(var e=0;e<t.length;e++){var n=t[e][0](i);if(n)return[n,t[e][1]]}return[null,void 0]},m9=function(i){return typeof i=="string"?T4(i.trim(),Cp.string):typeof i=="object"&&i!==null?T4(i,Cp.object):[null,void 0]},V0=function(i,t){var e=pl(i);return{h:e.h,s:Bi(e.s+100*t,0,100),l:e.l,a:e.a}},Y0=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},E4=function(i,t){var e=pl(i);return{h:e.h,s:e.s,l:Bi(e.l+100*t,0,100),a:e.a}},Mp=(function(){function i(t){this.parsed=m9(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Re(Y0(this.rgba),2)},i.prototype.isDark=function(){return Y0(this.rgba)<.5},i.prototype.isLight=function(){return Y0(this.rgba)>=.5},i.prototype.toHex=function(){return t=X0(this.rgba),e=t.r,n=t.g,s=t.b,l=(o=t.a)<1?Xu(Re(255*o)):"","#"+Xu(e)+Xu(n)+Xu(s)+l;var t,e,n,s,o,l},i.prototype.toRgb=function(){return X0(this.rgba)},i.prototype.toRgbString=function(){return t=X0(this.rgba),e=t.r,n=t.g,s=t.b,(o=t.a)<1?"rgba("+e+", "+n+", "+s+", "+o+")":"rgb("+e+", "+n+", "+s+")";var t,e,n,s,o},i.prototype.toHsl=function(){return x4(pl(this.rgba))},i.prototype.toHslString=function(){return t=x4(pl(this.rgba)),e=t.h,n=t.s,s=t.l,(o=t.a)<1?"hsla("+e+", "+n+"%, "+s+"%, "+o+")":"hsl("+e+", "+n+"%, "+s+"%)";var t,e,n,s,o},i.prototype.toHsv=function(){return t=__(this.rgba),{h:Re(t.h),s:Re(t.s),v:Re(t.v),a:Re(t.a,3)};var t},i.prototype.invert=function(){return sn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},i.prototype.saturate=function(t){return t===void 0&&(t=.1),sn(V0(this.rgba,t))},i.prototype.desaturate=function(t){return t===void 0&&(t=.1),sn(V0(this.rgba,-t))},i.prototype.grayscale=function(){return sn(V0(this.rgba,-1))},i.prototype.lighten=function(t){return t===void 0&&(t=.1),sn(E4(this.rgba,t))},i.prototype.darken=function(t){return t===void 0&&(t=.1),sn(E4(this.rgba,-t))},i.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},i.prototype.alpha=function(t){return typeof t=="number"?sn({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Re(this.rgba.a,3);var e},i.prototype.hue=function(t){var e=pl(this.rgba);return typeof t=="number"?sn({h:t,s:e.s,l:e.l,a:e.a}):Re(e.h)},i.prototype.isEqual=function(t){return this.toHex()===sn(t).toHex()},i})(),sn=function(i){return i instanceof Mp?i:new Mp(i)},A4=[],g9=function(i){i.forEach(function(t){A4.indexOf(t)<0&&(t(Mp,Cp),A4.push(t))})};function y9(i,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in e)n[e[s]]=s;var o={};i.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,d=n[this.toHex()];if(d)return d;if(l?.closest){var p=this.toRgb(),g=1/0,v="black";if(!o.length)for(var _ in e)o[_]=new i(e[_]).toRgb();for(var x in e){var b=(h=p,f=o[x],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));b<g&&(g=b,v=x)}return v}},t.string.push([function(l){var h=l.toLowerCase(),f=h==="transparent"?"#0000":e[h];return f?new i(f).toRgb():null},"name"])}g9([y9]);const Ta=class yh{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof yh)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const n=typeof t;if(n!==typeof e)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((s,o)=>s===e[o]);if(t!==null&&e!==null){const s=Object.keys(t),o=Object.keys(e);return s.length!==o.length?!1:s.every(l=>t[l]===e[l])}return t===e}toRgba(){const[t,e,n,s]=this._components;return{r:t,g:e,b:n,a:s}}toRgb(){const[t,e,n]=this._components;return{r:t,g:e,b:n}}toRgbaString(){const[t,e,n]=this.toUint8RgbArray();return`rgba(${t},${e},${n},${this.alpha})`}toUint8RgbArray(t){const[e,n,s]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(n*255),t[2]=Math.round(s*255),t}toRgbArray(t){t=t??[];const[e,n,s]=this._components;return t[0]=e,t[1]=n,t[2]=s,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,n,s,o]=yh.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=n,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return e&&(n=n*t+.5|0,s=s*t+.5|0,o=o*t+.5|0),(t*255<<24)+(n<<16)+(s<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,n,s]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(s*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,n,s,o]=this._components;return t[0]=e,t[1]=n,t[2]=s,t[3]=o,t}normalize(t){let e,n,s,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const l=t;e=(l>>16&255)/255,n=(l>>8&255)/255,s=(l&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,n,s,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,n,s,o=255]=t,e/=255,n/=255,s/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const h=yh.HEX_PATTERN.exec(t);h&&(t=`#${h[2]}`)}const l=sn(t);l.isValid()&&({r:e,g:n,b:s,a:o}=l.rgba,e/=255,n/=255,s/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=n,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,n]=this._components;this._int=(t*255<<16)+(e*255<<8)+(n*255|0)}_clamp(t,e=0,n=1){return typeof t=="number"?Math.min(Math.max(t,e),n):(t.forEach((s,o)=>{t[o]=Math.min(Math.max(s,e),n)}),t)}};Ta.shared=new Ta,Ta.temp=new Ta,Ta.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let oe=Ta;function v9(i){return Gt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),oe.shared.setValue(i).toHex()}function _9(i){return Gt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),oe.shared.setValue(i).toNumber()}function x9(){const i=[],t=[];for(let n=0;n<32;n++)i[n]=n,t[n]=n;i[Rt.NORMAL_NPM]=Rt.NORMAL,i[Rt.ADD_NPM]=Rt.ADD,i[Rt.SCREEN_NPM]=Rt.SCREEN,t[Rt.NORMAL]=Rt.NORMAL_NPM,t[Rt.ADD]=Rt.ADD_NPM,t[Rt.SCREEN]=Rt.SCREEN_NPM;const e=[];return e.push(t),e.push(i),e}const b_=x9();function T_(i,t){return b_[t?1:0][i]}function b9(i,t=null){const e=i*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let n=0,s=0;n<e;n+=6,s+=4)t[n+0]=s+0,t[n+1]=s+1,t[n+2]=s+2,t[n+3]=s+0,t[n+4]=s+2,t[n+5]=s+3;return t}function E_(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}function Ph(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function S4(i){return!(i&i-1)&&!!i}function w4(i){let t=(i>65535?1:0)<<4;i>>>=t;let e=(i>255?1:0)<<3;return i>>>=e,t|=e,e=(i>15?1:0)<<2,i>>>=e,t|=e,e=(i>3?1:0)<<1,i>>>=e,t|=e,t|i>>1}function Ia(i,t,e){const n=i.length;let s;if(t>=n||e===0)return;e=t+e>n?n-t:e;const o=n-e;for(s=t;s<o;++s)i[s]=i[s+e];i.length=o}function Ir(i){return i===0?0:i<0?-1:1}let T9=0;function Cs(){return++T9}const Rp=class{constructor(i,t,e,n){this.left=i,this.top=t,this.right=e,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Rp.EMPTY=new Rp(0,0,0,0);let C4=Rp;const M4={},an=Object.create(null),wr=Object.create(null);class E9{constructor(t,e,n){this._canvas=yt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||yt.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function R4(i,t,e){for(let n=0,s=4*e*t;n<t;++n,s+=4)if(i[s+3]!==0)return!1;return!0}function D4(i,t,e,n,s){const o=4*t;for(let l=n,h=n*o+4*e;l<=s;++l,h+=o)if(i[h+3]!==0)return!1;return!0}function A9(i){const{width:t,height:e}=i,n=i.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,t,e).data;let o=0,l=0,h=t-1,f=e-1;for(;l<e&&R4(s,t,l);)++l;if(l===e)return C4.EMPTY;for(;R4(s,t,f);)--f;for(;D4(s,t,o,l,f);)++o;for(;D4(s,t,h,l,f);)--h;return++h,++f,new C4(o,l,h,f)}function S9(i){const t=A9(i),{width:e,height:n}=t;let s=null;if(!t.isEmpty()){const o=i.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(t.left,t.top,e,n)}return{width:e,height:n,data:s}}function w9(i,t=globalThis.location){if(i.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(i,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Wn(i,t=1){const e=yt.RETINA_PREFIX?.exec(i);return e?parseFloat(e[1]):t}var mt=(i=>(i.Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i))(mt||{});const Dp=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},O4=(i,t)=>Dp(i).priority??t,At={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Dp).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...i){return i.map(Dp).forEach(t=>{t.type.forEach(e=>{const n=this._addHandlers,s=this._queue;n[e]?n[e]?.(t):(s[e]=s[e]||[],s[e]?.push(t))})}),this},handle(i,t,e){const n=this._addHandlers,s=this._removeHandlers;if(n[i]||s[i])throw new Error(`Extension type ${i} already has a handler`);n[i]=t,s[i]=e;const o=this._queue;return o[i]&&(o[i]?.forEach(l=>t(l)),delete o[i]),this},handleByMap(i,t){return this.handle(i,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(i,t,e=-1){return this.handle(i,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((s,o)=>O4(o,e)-O4(s,e)))},n=>{const s=t.indexOf(n.ref);s!==-1&&t.splice(s,1)})}};class Op{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const C9=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function M9(i){let t="";for(let e=0;e<i;++e)e>0&&(t+=`
else `),e<i-1&&(t+=`if(test == ${e}.0){}`);return t}function R9(i,t){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=C9.replace(/%forloop%/gi,M9(i));if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))i=i/2|0;else break}return i}const q0=0,$0=1,W0=2,Z0=3,K0=4,Q0=5;class vn{constructor(){this.data=0,this.blendMode=Rt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<q0)}set blend(t){!!(this.data&1<<q0)!==t&&(this.data^=1<<q0)}get offsets(){return!!(this.data&1<<$0)}set offsets(t){!!(this.data&1<<$0)!==t&&(this.data^=1<<$0)}get culling(){return!!(this.data&1<<W0)}set culling(t){!!(this.data&1<<W0)!==t&&(this.data^=1<<W0)}get depthTest(){return!!(this.data&1<<Z0)}set depthTest(t){!!(this.data&1<<Z0)!==t&&(this.data^=1<<Z0)}get depthMask(){return!!(this.data&1<<Q0)}set depthMask(t){!!(this.data&1<<Q0)!==t&&(this.data^=1<<Q0)}get clockwiseFrontFace(){return!!(this.data&1<<K0)}set clockwiseFrontFace(t){!!(this.data&1<<K0)!==t&&(this.data^=1<<K0)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Rt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new vn;return t.depthTest=!1,t.blend=!0,t}}vn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Bp=[];function A_(i,t){if(!i)return null;let e="";if(typeof i=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);n&&(e=n[1].toLowerCase())}for(let n=Bp.length-1;n>=0;--n){const s=Bp[n];if(s.test&&s.test(i,e))return new s(i,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class qi{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,n,s,o,l,h,f){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:p}=this;this._aliasCount++;for(let g=0,v=p.length;g<v;g++)p[g][d](t,e,n,s,o,l,h,f);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(qi.prototype,{dispatch:{value:qi.prototype.emit},run:{value:qi.prototype.emit}});class gl{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new qi("setRealSize"),this.onUpdate=new qi("update"),this.onError=new qi("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class fc extends gl{constructor(t,e){const{width:n,height:s}=e||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=t,this.unpackAlignment=e.unpackAlignment??4}upload(t,e,n){const s=t.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ei.UNPACK);const o=e.realWidth,l=e.realHeight;return n.width===o&&n.height===l?s.texSubImage2D(e.target,0,0,0,o,l,e.format,n.type,this.data):(n.width=o,n.height=l,s.texImage2D(e.target,0,n.internalFormat,o,l,0,e.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const D9={scaleMode:fn.NEAREST,alphaMode:ei.NPM},Ip=class Ea extends bl{constructor(t=null,e=null){super(),e=Object.assign({},Ea.defaultOptions,e);const{alphaMode:n,mipmap:s,anisotropicLevel:o,scaleMode:l,width:h,height:f,wrapMode:d,format:p,type:g,target:v,resolution:_,resourceOptions:x}=e;t&&!(t instanceof gl)&&(t=A_(t,x),t.internal=!0),this.resolution=_||yt.RESOLUTION,this.width=Math.round((h||0)*this.resolution)/this.resolution,this.height=Math.round((f||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=d,this._scaleMode=l,this.format=p,this.type=g,this.target=v,this.alphaMode=n,this.uid=Cs(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=h>0&&f>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=S4(this.realWidth)&&S4(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete wr[this.cacheId],delete an[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ea.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=yt.STRICT_TEXTURE_CACHE){const s=typeof t=="string";let o=null;if(s)o=t;else{if(!t._pixiId){const h=e?.pixiIdPrefix||"pixiid";t._pixiId=`${h}_${Cs()}`}o=t._pixiId}let l=wr[o];if(s&&n&&!l)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return l||(l=new Ea(t,e),l.cacheId=o,Ea.addToCache(l,o)),l}static fromBuffer(t,e,n,s){t=t||new Float32Array(e*n*4);const o=new fc(t,{width:e,height:n,...s?.resourceOptions});let l,h;return t instanceof Float32Array?(l=ct.RGBA,h=wt.FLOAT):t instanceof Int32Array?(l=ct.RGBA_INTEGER,h=wt.INT):t instanceof Uint32Array?(l=ct.RGBA_INTEGER,h=wt.UNSIGNED_INT):t instanceof Int16Array?(l=ct.RGBA_INTEGER,h=wt.SHORT):t instanceof Uint16Array?(l=ct.RGBA_INTEGER,h=wt.UNSIGNED_SHORT):t instanceof Int8Array?(l=ct.RGBA,h=wt.BYTE):(l=ct.RGBA,h=wt.UNSIGNED_BYTE),o.internal=!0,new Ea(o,Object.assign({},D9,{type:h,format:l},s))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),wr[e]&&wr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),wr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=wr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete wr[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete wr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};Ip.defaultOptions={mipmap:gn.POW2,anisotropicLevel:0,scaleMode:fn.LINEAR,wrapMode:mi.CLAMP,alphaMode:ei.UNPACK,target:Ba.TEXTURE_2D,format:ct.RGBA,type:wt.UNSIGNED_BYTE},Ip._globalBatch=0;let Pt=Ip;class Np{constructor(){this.texArray=null,this.blend=0,this.type=cn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let O9=0;class ye{constructor(t,e=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=O9++,this.disposeRunner=new qi("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?dn.ELEMENT_ARRAY_BUFFER:dn.ARRAY_BUFFER}get index(){return this.type===dn.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new ye(t)}}class Lh{constructor(t,e=0,n=!1,s=wt.FLOAT,o,l,h,f=1){this.buffer=t,this.size=e,this.normalized=n,this.type=s,this.stride=o,this.start=l,this.instance=h,this.divisor=f}destroy(){this.buffer=null}static from(t,e,n,s,o){return new Lh(t,e,n,s,o)}}const B9={Float32Array,Uint32Array,Int32Array,Uint8Array};function I9(i,t){let e=0,n=0;const s={};for(let f=0;f<i.length;f++)n+=t[f],e+=i[f].length;const o=new ArrayBuffer(e*4);let l=null,h=0;for(let f=0;f<i.length;f++){const d=t[f],p=i[f],g=E_(p);s[g]||(s[g]=new B9[g](o)),l=s[g];for(let v=0;v<p.length;v++){const _=(v/d|0)*n+h,x=v%d;l[_+x]=p[v]}h+=d}return new Float32Array(o)}const B4={5126:4,5123:2,5121:1};let N9=0;const P9={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Pr{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=N9++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new qi("disposeGeometry"),this.refCount=0}addAttribute(t,e,n=0,s=!1,o,l,h,f=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ye||(e instanceof Array&&(e=new Float32Array(e)),e=new ye(e));const d=t.split("|");if(d.length>1){for(let g=0;g<d.length;g++)this.addAttribute(d[g],e,n,s,o);return this}let p=this.buffers.indexOf(e);return p===-1&&(this.buffers.push(e),p=this.buffers.length-1),this.attributes[t]=new Lh(p,n,s,o,l,h,f),this.instanced=this.instanced||f,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof ye||(t instanceof Array&&(t=new Uint16Array(t)),t=new ye(t)),t.type=dn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],e=[],n=new ye;let s;for(s in this.attributes){const o=this.attributes[s],l=this.buffers[o.buffer];t.push(l.data),e.push(o.size*B4[o.type]/4),o.buffer=0}for(n.data=I9(t,e),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new Pr;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new ye(this.buffers[e].data.slice(0));for(const e in this.attributes){const n=this.attributes[e];t.attributes[e]=new Lh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=dn.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new Pr,n=[],s=[],o=[];let l;for(let h=0;h<t.length;h++){l=t[h];for(let f=0;f<l.buffers.length;f++)s[f]=s[f]||0,s[f]+=l.buffers[f].data.length,o[f]=0}for(let h=0;h<l.buffers.length;h++)n[h]=new P9[E_(l.buffers[h].data)](s[h]),e.buffers[h]=new ye(n[h]);for(let h=0;h<t.length;h++){l=t[h];for(let f=0;f<l.buffers.length;f++)n[f].set(l.buffers[f].data,o[f]),o[f]+=l.buffers[f].data.length}if(e.attributes=l.attributes,l.indexBuffer){e.indexBuffer=e.buffers[l.buffers.indexOf(l.indexBuffer)],e.indexBuffer.type=dn.ELEMENT_ARRAY_BUFFER;let h=0,f=0,d=0,p=0;for(let g=0;g<l.buffers.length;g++)if(l.buffers[g]!==l.indexBuffer){p=g;break}for(const g in l.attributes){const v=l.attributes[g];(v.buffer|0)===p&&(f+=v.size*B4[v.type]/4)}for(let g=0;g<t.length;g++){const v=t[g].indexBuffer.data;for(let _=0;_<v.length;_++)e.indexBuffer.data[_+d]+=h;h+=t[g].buffers[p].data.length/f,d+=v.length}}return e}}class S_ extends Pr{constructor(t=!1){super(),this._buffer=new ye(null,t,!1),this._indexBuffer=new ye(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,wt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,wt.FLOAT).addAttribute("aColor",this._buffer,4,!0,wt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,wt.FLOAT).addIndex(this._indexBuffer)}}const Uh=Math.PI*2,L9=180/Math.PI,U9=Math.PI/180;var ke=(i=>(i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i))(ke||{});class Lt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new Lt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}}Lt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Vu=[new Lt,new Lt,new Lt,new Lt];class Ot{constructor(t=0,e=0,n=0,s=0){this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(s),this.type=ke.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ot(0,0,0,0)}clone(){return new Ot(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}intersects(t,e){if(!e){const X=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=X)return!1;const J=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>J}const n=this.left,s=this.right,o=this.top,l=this.bottom;if(s<=n||l<=o)return!1;const h=Vu[0].set(t.left,t.top),f=Vu[1].set(t.left,t.bottom),d=Vu[2].set(t.right,t.top),p=Vu[3].set(t.right,t.bottom);if(d.x<=h.x||f.y<=h.y)return!1;const g=Math.sign(e.a*e.d-e.b*e.c);if(g===0||(e.apply(h,h),e.apply(f,f),e.apply(d,d),e.apply(p,p),Math.max(h.x,f.x,d.x,p.x)<=n||Math.min(h.x,f.x,d.x,p.x)>=s||Math.max(h.y,f.y,d.y,p.y)<=o||Math.min(h.y,f.y,d.y,p.y)>=l))return!1;const v=g*(f.y-h.y),_=g*(h.x-f.x),x=v*n+_*o,b=v*s+_*o,E=v*n+_*l,A=v*s+_*l;if(Math.max(x,b,E,A)<=v*h.x+_*h.y||Math.min(x,b,E,A)>=v*p.x+_*p.y)return!1;const I=g*(h.y-d.y),C=g*(d.x-h.x),N=I*n+C*o,R=I*s+C*o,F=I*n+C*l,D=I*s+C*l;return!(Math.max(N,R,F,D)<=I*h.x+C*h.y||Math.min(N,R,F,D)>=I*p.x+C*p.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(t=1,e=.001){const n=Math.ceil((this.x+this.width-e)*t)/t,s=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=s-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=s,this.height=o-s,this}}Ot.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class dc{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.radius=n,this.type=ke.CIRC}clone(){return new dc(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-t,o=this.y-e;return s*=s,o*=o,s+o<=n}getBounds(){return new Ot(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}dc.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class pc{constructor(t=0,e=0,n=0,s=0){this.x=t,this.y=e,this.width=n,this.height=s,this.type=ke.ELIP}clone(){return new pc(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,s=(e-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new Ot(this.x-this.width,this.y-this.height,this.width,this.height)}}pc.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class As{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const n=[];for(let s=0,o=e.length;s<o;s++)n.push(e[s].x,e[s].y);e=n}this.points=e,this.type=ke.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new As(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let n=!1;const s=this.points.length/2;for(let o=0,l=s-1;o<s;l=o++){const h=this.points[o*2],f=this.points[o*2+1],d=this.points[l*2],p=this.points[l*2+1];f>e!=p>e&&t<(d-h)*((e-f)/(p-f))+h&&(n=!n)}return n}}As.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((i,t)=>`${i}, ${t}`,"")}]`};class mc{constructor(t=0,e=0,n=0,s=0,o=20){this.x=t,this.y=e,this.width=n,this.height=s,this.radius=o,this.type=ke.RREC}clone(){return new mc(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+n&&e<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let s=t-(this.x+n),o=e-(this.y+n);const l=n*n;if(s*s+o*o<=l||(s=t-(this.x+this.width-n),s*s+o*o<=l)||(o=e-(this.y+this.height-n),s*s+o*o<=l)||(s=t-(this.x+n),s*s+o*o<=l))return!0}return!1}}mc.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class re{constructor(t=1,e=0,n=0,s=1,o=0,l=0){this.array=null,this.a=t,this.b=e,this.c=n,this.d=s,this.tx=o,this.ty=l}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,n,s,o,l){return this.a=t,this.b=e,this.c=n,this.d=s,this.tx=o,this.ty=l,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,e){e=e||new Lt;const n=t.x,s=t.y;return e.x=this.a*n+this.c*s+this.tx,e.y=this.b*n+this.d*s+this.ty,e}applyInverse(t,e){e=e||new Lt;const n=1/(this.a*this.d+this.c*-this.b),s=t.x,o=t.y;return e.x=this.d*n*s+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*o+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),s=this.a,o=this.c,l=this.tx;return this.a=s*e-this.b*n,this.b=s*n+this.b*e,this.c=o*e-this.d*n,this.d=o*n+this.d*e,this.tx=l*e-this.ty*n,this.ty=l*n+this.ty*e,this}append(t){const e=this.a,n=this.b,s=this.c,o=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*n+t.b*o,this.c=t.c*e+t.d*s,this.d=t.c*n+t.d*o,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this}setTransform(t,e,n,s,o,l,h,f,d){return this.a=Math.cos(h+d)*o,this.b=Math.sin(h+d)*o,this.c=-Math.sin(h-f)*l,this.d=Math.cos(h-f)*l,this.tx=t-(n*this.a+s*this.c),this.ty=e-(n*this.b+s*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,s=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=s*t.a+this.d*t.c,this.d=s*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,n=this.b,s=this.c,o=this.d,l=t.pivot,h=-Math.atan2(-s,o),f=Math.atan2(n,e),d=Math.abs(h+f);return d<1e-5||Math.abs(Uh-d)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=h,t.skew.y=f),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(s*s+o*o),t.position.x=this.tx+(l.x*e+l.y*s),t.position.y=this.ty+(l.x*n+l.y*o),t}invert(){const t=this.a,e=this.b,n=this.c,s=this.d,o=this.tx,l=t*s-e*n;return this.a=s/l,this.b=-e/l,this.c=-n/l,this.d=t/l,this.tx=(n*this.ty-s*o)/l,this.ty=-(t*this.ty-e*o)/l,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new re;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new re}static get TEMP_MATRIX(){return new re}}re.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ds=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ps=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ms=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],gs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Pp=[],w_=[],Yu=Math.sign;function F9(){for(let i=0;i<16;i++){const t=[];Pp.push(t);for(let e=0;e<16;e++){const n=Yu(ds[i]*ds[e]+ms[i]*ps[e]),s=Yu(ps[i]*ds[e]+gs[i]*ps[e]),o=Yu(ds[i]*ms[e]+ms[i]*gs[e]),l=Yu(ps[i]*ms[e]+gs[i]*gs[e]);for(let h=0;h<16;h++)if(ds[h]===n&&ps[h]===s&&ms[h]===o&&gs[h]===l){t.push(h);break}}}for(let i=0;i<16;i++){const t=new re;t.set(ds[i],ps[i],ms[i],gs[i],0,0),w_.push(t)}}F9();const ne={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>ds[i],uY:i=>ps[i],vX:i=>ms[i],vY:i=>gs[i],inv:i=>i&8?i&15:-i&7,add:(i,t)=>Pp[i][t],sub:(i,t)=>Pp[i][ne.inv(t)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,t)=>Math.abs(i)*2<=Math.abs(t)?t>=0?ne.S:ne.N:Math.abs(t)*2<=Math.abs(i)?i>0?ne.E:ne.W:t>0?i>0?ne.SE:ne.SW:i>0?ne.NE:ne.NW,matrixAppendRotationInv:(i,t,e=0,n=0)=>{const s=w_[ne.inv(t)];s.tx=e,s.ty=n,i.append(s)}};class Yn{constructor(t,e,n=0,s=0){this._x=n,this._y=s,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new Yn(t,e,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}Yn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Lp=class{constructor(){this.worldTransform=new re,this.localTransform=new re,this.position=new Yn(this.onChange,this,0,0),this.scale=new Yn(this.onChange,this,1,1),this.pivot=new Yn(this.onChange,this,0,0),this.skew=new Yn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(i){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){const e=i.worldTransform,n=this.worldTransform;n.a=t.a*e.a+t.b*e.c,n.b=t.a*e.b+t.b*e.d,n.c=t.c*e.a+t.d*e.c,n.d=t.c*e.b+t.d*e.d,n.tx=t.tx*e.a+t.ty*e.c+e.tx,n.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=i._worldID,this._worldID++}}setFromMatrix(i){i.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())}};Lp.IDENTITY=new Lp;let P1=Lp;P1.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var k9=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,z9=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function I4(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}function J0(i){const t=new Array(i);for(let e=0;e<t.length;e++)t[e]=!1;return t}function C_(i,t){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return J0(2*t);case"bvec3":return J0(3*t);case"bvec4":return J0(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Na=[{test:i=>i.type==="float"&&i.size===1&&!i.isArray,code:i=>`
            if(uv["${i}"] !== ud["${i}"].value)
            {
                ud["${i}"].value = uv["${i}"]
                gl.uniform1f(ud["${i}"].location, uv["${i}"])
            }
            `},{test:(i,t)=>(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray&&(t==null||t.castToBaseTexture!==void 0),code:i=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${i}"], t);

            if(ud["${i}"].value !== t)
            {
                ud["${i}"].value = t;
                gl.uniform1i(ud["${i}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(i,t)=>i.type==="mat3"&&i.size===1&&!i.isArray&&t.a!==void 0,code:i=>`
            gl.uniformMatrix3fv(ud["${i}"].location, false, uv["${i}"].toArray(true));
            `,codeUbo:i=>`
                var ${i}_matrix = uv.${i}.toArray(true);

                data[offset] = ${i}_matrix[0];
                data[offset+1] = ${i}_matrix[1];
                data[offset+2] = ${i}_matrix[2];
        
                data[offset + 4] = ${i}_matrix[3];
                data[offset + 5] = ${i}_matrix[4];
                data[offset + 6] = ${i}_matrix[5];
        
                data[offset + 8] = ${i}_matrix[6];
                data[offset + 9] = ${i}_matrix[7];
                data[offset + 10] = ${i}_matrix[8];
            `},{test:(i,t)=>i.type==="vec2"&&i.size===1&&!i.isArray&&t.x!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${i}"].location, v.x, v.y);
                }`,codeUbo:i=>`
                v = uv.${i};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:i=>i.type==="vec2"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${i}"].location, v[0], v[1]);
                }
            `},{test:(i,t)=>i.type==="vec4"&&i.size===1&&!i.isArray&&t.width!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${i}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(i,t)=>i.type==="vec4"&&i.size===1&&!i.isArray&&t.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${i}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(i,t)=>i.type==="vec3"&&i.size===1&&!i.isArray&&t.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${i}"].location, v.red, v.green, v.blue)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:i=>i.type==="vec4"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${i}"].location, v[0], v[1], v[2], v[3])
                }`}],G9={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},H9={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function j9(i,t){const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in i.uniforms){const s=t[n];if(!s){i.uniforms[n]?.group===!0&&(i.uniforms[n].ubo?e.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):e.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=i.uniforms[n];let l=!1;for(let h=0;h<Na.length;h++)if(Na[h].test(s,o)){e.push(Na[h].code(n,o)),l=!0;break}if(!l){const h=(s.size===1&&!s.isArray?G9:H9)[s.type].replace("location",`ud["${n}"].location`);e.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}const M_={};let qu=M_;function X9(){if(qu===M_||qu?.isContextLost()){const i=yt.ADAPTER.createCanvas();let t;yt.PREFER_ENV>=Ds.WEBGL2&&(t=i.getContext("webgl2",{})),t||(t=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),qu=t}return qu}let $u;function V9(){if(!$u){$u=Oi.MEDIUM;const i=X9();if(i&&i.getShaderPrecisionFormat){const t=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);t&&($u=t.precision?Oi.HIGH:Oi.MEDIUM)}}return $u}function N4(i,t){const e=i.getShaderSource(t).split(`
`).map((d,p)=>`${p}: ${d}`),n=i.getShaderInfoLog(t),s=n.split(`
`),o={},l=s.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!o[d]?(o[d]=!0,!0):!1),h=[""];l.forEach(d=>{e[d-1]=`%c${e[d-1]}%c`,h.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const f=e.join(`
`);h[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...h),console.groupEnd()}function Y9(i,t,e,n){i.getProgramParameter(t,i.LINK_STATUS)||(i.getShaderParameter(e,i.COMPILE_STATUS)||N4(i,e),i.getShaderParameter(n,i.COMPILE_STATUS)||N4(i,n),console.error("PixiJS Error: Could not initialize shader."),i.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(t)))}const q9={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function R_(i){return q9[i]}let Wu=null;const P4={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function D_(i,t){if(!Wu){const e=Object.keys(P4);Wu={};for(let n=0;n<e.length;++n){const s=e[n];Wu[i[s]]=P4[s]}}return Wu[t]}function L4(i,t,e){if(i.substring(0,9)!=="precision"){let n=t;return t===Oi.HIGH&&e!==Oi.HIGH&&(n=Oi.MEDIUM),`precision ${n} float;
${i}`}else if(e!==Oi.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}let Wo;function $9(){if(typeof Wo=="boolean")return Wo;try{Wo=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Wo=!1}return Wo}let W9=0;const Zu={},Up=class Aa{constructor(t,e,n="pixi-shader",s={}){this.extra={},this.id=W9++,this.vertexSrc=t||Aa.defaultVertexSrc,this.fragmentSrc=e||Aa.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Zu[n]?(Zu[n]++,n+=`-${Zu[n]}`):Zu[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=L4(this.vertexSrc,Aa.defaultVertexPrecision,Oi.HIGH),this.fragmentSrc=L4(this.fragmentSrc,Aa.defaultFragmentPrecision,V9())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return z9}static get defaultFragmentSrc(){return k9}static from(t,e,n){const s=t+e;let o=M4[s];return o||(M4[s]=o=new Aa(t,e,n)),o}};Up.defaultVertexPrecision=Oi.HIGH,Up.defaultFragmentPrecision=Vn.apple.device?Oi.HIGH:Oi.MEDIUM;let qn=Up,Z9=0;class $i{constructor(t,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Z9++,this.static=!!e,this.ubo=!!n,t instanceof ye?(this.buffer=t,this.buffer.type=dn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ye(new Float32Array(1)),this.buffer.type=dn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,n){if(!this.ubo)this.uniforms[t]=new $i(e,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,e,n){return new $i(t,e,n)}static uboFrom(t,e){return new $i(t,e??!0,!0)}}class pn{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof $i?this.uniformGroup=e:this.uniformGroup=new $i(e):this.uniformGroup=new $i({}),this.disposeRunner=new qi("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const n in e.uniforms){const s=e.uniforms[n];if(s.group===!0&&this.checkUniformExists(t,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,n){const s=qn.from(t,e);return new pn(s,n)}}class K9{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let o=0;o<t;o++)n[o]=o;this.defaultGroupCache[t]=$i.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${t}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new qn(this.vertexSrc,s)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new re,default:this.defaultGroupCache[t]};return new pn(this.programCache[t],e)}generateSampleSrc(t){let e="";e+=`
`,e+=`
`;for(let n=0;n<t;n++)n>0&&(e+=`
else `),n<t-1&&(e+=`if(vTextureId < ${n}.5)`),e+=`
{`,e+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,e+=`
}`;return e+=`
`,e+=`
`,e}}class Fp{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function Q9(){return!Vn.apple.device}function J9(i){let t=!0;const e=yt.ADAPTER.getNavigator();if(Vn.tablet||Vn.phone){if(Vn.apple.device){const n=e.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(Vn.android.device){const n=e.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?i:4}class gc{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var tb=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,eb=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const rl=class Hi extends gc{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=S_,this.vertexSize=6,this.state=vn.for2d(),this.size=Hi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??J9(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Q9(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Gt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return eb}static get defaultFragmentTemplate(){return tb}setShaderGenerator({vertex:t=Hi.defaultVertexSrc,fragment:e=Hi.defaultFragmentTemplate}={}){this.shaderGenerator=new K9(t,e)}contextChange(){const t=this.renderer.gl;yt.PREFER_ENV===Ds.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Hi.defaultMaxTextures),this.maxTextures=R9(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Hi,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Np);for(;e.length<s;)e.push(new Fp);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Hi._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,l=this.renderer.textureGC.count;let h=++Pt._globalBatch,f=0,d=n[0],p=0;s.copyBoundTextures(o,e);for(let g=0;g<this._bufferSize;++g){const v=t[g];t[g]=null,v._batchEnabled!==h&&(d.count>=e&&(s.boundArray(d,o,h,e),this.buildDrawCalls(d,p,g),p=g,d=n[++f],++h),v._batchEnabled=h,v.touched=l,d.elements[d.count++]=v)}d.count>0&&(s.boundArray(d,o,h,e),this.buildDrawCalls(d,p,this._bufferSize),++f,++h);for(let g=0;g<o.length;g++)o[g]=null;Pt._globalBatch=h}buildDrawCalls(t,e,n){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:l,vertexSize:h}=this,f=Hi._drawCallPool;let d=this._dcIndex,p=this._aIndex,g=this._iIndex,v=f[d];v.start=this._iIndex,v.texArray=t;for(let _=e;_<n;++_){const x=s[_],b=x._texture.baseTexture,E=b_[b.alphaMode?1:0][x.blendMode];s[_]=null,e<_&&v.blend!==E&&(v.size=g-v.start,e=_,v=f[++d],v.texArray=t,v.start=g),this.packInterleavedGeometry(x,o,l,p,g),p+=x.vertexData.length/2*h,g+=x.indices.length,v.blend=E}e<n&&(v.size=g-v.start,++d),this._dcIndex=d,this._aIndex=p,this._iIndex=g}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Hi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,s=Hi._drawCallPool;let o=null;for(let l=0;l<t;l++){const{texArray:h,type:f,size:d,start:p,blend:g}=s[l];o!==h&&(o=h,this.bindAndClearTexArray(h)),this.state.blendMode=g,n.set(this.state),e.drawElements(f,d,e.UNSIGNED_SHORT,p*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Ph(Math.ceil(t/8)),n=w4(e),s=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new Op(s*this.vertexSize*4)),o}getIndexBuffer(t){const e=Ph(Math.ceil(t/12)),n=w4(e),s=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(s)),o}packInterleavedGeometry(t,e,n,s,o){const{uint32View:l,float32View:h}=e,f=s/this.vertexSize,d=t.uvs,p=t.indices,g=t.vertexData,v=t._texture.baseTexture._batchLocation,_=Math.min(t.worldAlpha,1),x=oe.shared.setValue(t._tintRGB).toPremultiplied(_,t._texture.baseTexture.alphaMode>0);for(let b=0;b<g.length;b+=2)h[s++]=g[b],h[s++]=g[b+1],h[s++]=d[b],h[s++]=d[b+1],l[s++]=x,h[s++]=v;for(let b=0;b<p.length;b++)n[o++]=f+p[b]}};rl.defaultBatchSize=4096,rl.extension={name:"batch",type:mt.RendererPlugin},rl._drawCallPool=[],rl._textureArrayPool=[];let ys=rl;At.add(ys);var ib=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,nb=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const kp=class sl extends pn{constructor(t,e,n){const s=qn.from(t||sl.defaultVertexSrc,e||sl.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=sl.defaultResolution,this.multisample=sl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new vn}apply(t,e,n,s,o){t.applyFilter(this,e,n,s)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return nb}static get defaultFragmentSrc(){return ib}};kp.defaultResolution=1,kp.defaultMultisample=Ee.NONE;let Ve=kp;class Fh{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new oe(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:n,backgroundAlpha:s}=t,o=n??e;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Fh.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Fh.extension={type:[mt.RendererSystem,mt.CanvasRendererSystem],name:"background"};At.add(Fh);class O_{constructor(t){this.renderer=t,this.emptyRenderer=new gc(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:n}=this.renderer.texture;for(let s=e-1;s>=0;--s)t[s]=n[s]||null,t[s]&&(t[s]._batchLocation=s)}boundArray(t,e,n,s){const{elements:o,ids:l,count:h}=t;let f=0;for(let d=0;d<h;d++){const p=o[d],g=p._batchLocation;if(g>=0&&g<s&&e[g]===p){l[d]=g;continue}for(;f<s;){const v=e[f];if(v&&v._batchEnabled===n&&v._batchLocation===f){f++;continue}l[d]=f,p._batchLocation=f,e[f]=p;break}}}destroy(){this.renderer=null}}O_.extension={type:mt.RendererSystem,name:"batch"};At.add(O_);let U4=0;class kh{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=U4++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=U4++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;e.addEventListener!==void 0&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let n;if(yt.PREFER_ENV>=Ds.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}kh.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},kh.extension={type:mt.RendererSystem,name:"context"};At.add(kh);class zp{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new qi("disposeFramebuffer"),this.multisample=Ee.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new Pt(null,{scaleMode:fn.NEAREST,resolution:1,mipmap:gn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Pt(null,{scaleMode:fn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:gn.OFF,format:ct.DEPTH_COMPONENT,type:wt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],o=s.resolution;s.setSize(t/o,e/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,e/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class B_ extends Pt{constructor(t={}){if(typeof t=="number"){const e=arguments[0],n=arguments[1],s=arguments[2],o=arguments[3];t={width:e,height:n,scaleMode:s,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Ee.NONE),super(null,t),this.mipmap=gn.OFF,this.valid=!0,this._clear=new oe([0,0,0,0]),this.framebuffer=new zp(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Zn extends gl{constructor(t){const e=t,n=e.naturalWidth||e.videoWidth||e.displayWidth||e.width,s=e.naturalHeight||e.videoHeight||e.displayHeight||e.height;super(n,s),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,n){n===void 0&&!e.startsWith("data:")?t.crossOrigin=w9(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,e,n,s){const o=t.gl,l=e.realWidth,h=e.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ei.UNPACK),!this.noSubImage&&e.target===o.TEXTURE_2D&&n.width===l&&n.height===h?o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,n.type,s):(n.width=l,n.height=h,o.texImage2D(e.target,0,n.internalFormat,e.format,n.type,s)),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(e,n),super.update()}dispose(){this.source=null}}class I_ extends Zn{constructor(t,e){if(e=e||{},typeof t=="string"){const n=new Image;Zn.crossOrigin(n,t,e.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??yt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.bitmap=null,this._load=null,e.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((e,n)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=l=>{n(l),this.onError.emit(l)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>e(s,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ei.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,e,n){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,n,this.bitmap),!this.preserveBitmap){let s=!0;const o=e._glTextures;for(const l in o){const h=o[l];if(h!==n&&h.dirtyId!==e.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class L1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,n){const s=e.width,o=e.height;if(n){const l=t.width/2/s,h=t.height/2/o,f=t.x/s+l,d=t.y/o+h;n=ne.add(n,ne.NW),this.x0=f+l*ne.uX(n),this.y0=d+h*ne.uY(n),n=ne.add(n,2),this.x1=f+l*ne.uX(n),this.y1=d+h*ne.uY(n),n=ne.add(n,2),this.x2=f+l*ne.uX(n),this.y2=d+h*ne.uY(n),n=ne.add(n,2),this.x3=f+l*ne.uX(n),this.y3=d+h*ne.uY(n)}else this.x0=t.x/s,this.y0=t.y/o,this.x1=(t.x+t.width)/s,this.y1=t.y/o,this.x2=(t.x+t.width)/s,this.y2=(t.y+t.height)/o,this.x3=t.x/s,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}L1.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const F4=new L1;function Ku(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}class pt extends bl{constructor(t,e,n,s,o,l,h){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new Ot(0,0,1,1)),t instanceof pt&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=F4,this.uvMatrix=null,this.orig=n||e,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=l?new Lt(l.x,l.y):new Lt(0,0),this.defaultBorders=h,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:e}=this.baseTexture;e?.url&&an[e.url]&&pt.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,pt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),n=new pt(this.baseTexture,!this.noFrame&&t,e,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===F4&&(this._uvs=new L1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},n=yt.STRICT_TEXTURE_CACHE){const s=typeof t=="string";let o=null;if(s)o=t;else if(t instanceof Pt){if(!t.cacheId){const h=e?.pixiIdPrefix||"pixiid";t.cacheId=`${h}-${Cs()}`,Pt.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const h=e?.pixiIdPrefix||"pixiid";t._pixiId=`${h}_${Cs()}`}o=t._pixiId}let l=an[o];if(s&&n&&!l)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!l&&!(t instanceof Pt)?(e.resolution||(e.resolution=Wn(t)),l=new pt(new Pt(t,e)),l.baseTexture.cacheId=o,Pt.addToCache(l.baseTexture,o),pt.addToCache(l,o)):!l&&t instanceof Pt&&(l=new pt(t),pt.addToCache(l,o)),l}static fromURL(t,e){const n=Object.assign({autoLoad:!1},e?.resourceOptions),s=pt.from(t,Object.assign({resourceOptions:n},e),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(t,e,n,s){return new pt(Pt.fromBuffer(t,e,n,s))}static fromLoader(t,e,n,s){const o=new Pt(t,Object.assign({scaleMode:Pt.defaultOptions.scaleMode,resolution:Wn(e)},s)),{resource:l}=o;l instanceof I_&&(l.url=e);const h=new pt(o);return n||(n=e),Pt.addToCache(h.baseTexture,n),pt.addToCache(h,n),n!==e&&(Pt.addToCache(h.baseTexture,e),pt.addToCache(h,e)),h.baseTexture.valid?Promise.resolve(h):new Promise(f=>{h.baseTexture.once("loaded",()=>f(h))})}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),an[e]&&an[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),an[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=an[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete an[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)an[t.textureCacheIds[e]]===t&&delete an[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:n,width:s,height:o}=t,l=e+s>this.baseTexture.width,h=n+o>this.baseTexture.height;if(l||h){const f=l&&h?"and":"or",d=`X: ${e} + ${s} = ${e+s} > ${this.baseTexture.width}`,p=`Y: ${n} + ${o} = ${n+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${f} ${p}`)}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return pt._EMPTY||(pt._EMPTY=new pt(new Pt),Ku(pt._EMPTY),Ku(pt._EMPTY.baseTexture)),pt._EMPTY}static get WHITE(){if(!pt._WHITE){const t=yt.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),pt._WHITE=new pt(Pt.from(t)),Ku(pt._WHITE),Ku(pt._WHITE.baseTexture)}return pt._WHITE}}class Os extends pt{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,n=!0){const s=this.baseTexture.resolution,o=Math.round(t*s)/s,l=Math.round(e*s)/s;this.valid=o>0&&l>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=l,n&&this.baseTexture.resize(o,l),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new Os(new B_(t))}}class N_{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,n=Ee.NONE){const s=new B_(Object.assign({width:t,height:e,resolution:1,multisample:n},this.textureOptions));return new Os(s)}getOptimalTexture(t,e,n=1,s=Ee.NONE){let o;t=Math.max(Math.ceil(t*n-1e-6),1),e=Math.max(Math.ceil(e*n-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=Ph(t),e=Ph(e),o=((t&65535)<<16|e&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let l=this.texturePool[o].pop();return l||(l=this.createTexture(t,e,s)),l.filterPoolKey=o,l.setResolution(n),l}getFilterTexture(t,e,n){const s=this.getOptimalTexture(t.width,t.height,e||t.resolution,n||Ee.NONE);return s.filterFrame=t.filterFrame,s}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const e in this.texturePool){const n=this.texturePool[e];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const n=this.texturePool[e];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}N_.SCREEN_KEY=-1;class rb extends Pr{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class P_ extends Pr{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ye(this.vertices),this.uvBuffer=new ye(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+e.width/t.width,this.uvs[3]=s,this.uvs[4]=n+e.width/t.width,this.uvs[5]=s+e.height/t.height,this.uvs[6]=n,this.uvs[7]=s+e.height/t.height,n=e.x,s=e.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+e.width,this.vertices[3]=s,this.vertices[4]=n+e.width,this.vertices[5]=s+e.height,this.vertices[6]=n,this.vertices[7]=s+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class sb{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ee.NONE,this.sourceFrame=new Ot,this.destinationFrame=new Ot,this.bindingSourceFrame=new Ot,this.bindingDestinationFrame=new Ot,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Qu=[new Lt,new Lt,new Lt,new Lt],tp=new re;class L_{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new N_,this.statePool=[],this.quad=new rb,this.quadUv=new P_,this.tempRect=new Ot,this.activeState={},this.globalUniforms=new $i({outputFrame:new Ot,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const n=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new sb,l=n.renderTexture;let h,f;if(l.current){const E=l.current;h=E.resolution,f=E.multisample}else h=n.resolution,f=n.multisample;let d=e[0].resolution||h,p=e[0].multisample??f,g=e[0].padding,v=e[0].autoFit,_=e[0].legacy??!0;for(let E=1;E<e.length;E++){const A=e[E];d=Math.min(d,A.resolution||h),p=Math.min(p,A.multisample??f),g=this.useMaxPadding?Math.max(g,A.padding):g+A.padding,v=v&&A.autoFit,_=_||(A.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(o),o.resolution=d,o.multisample=p,o.legacy=_,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(g);const x=this.tempRect.copyFrom(l.sourceFrame);n.projection.transform&&this.transformAABB(tp.copyFrom(n.projection.transform).invert(),x),v?(o.sourceFrame.fit(x),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(x)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,l.current?l.current.resolution:n.resolution,l.sourceFrame,l.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,d,p),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=o.sourceFrame.width,b.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(l.sourceFrame),o.bindingDestinationFrame.copyFrom(l.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,l.bind(o.renderTexture,o.sourceFrame,b),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;const s=this.globalUniforms.uniforms;s.outputFrame=e.sourceFrame,s.resolution=e.resolution;const o=s.inputSize,l=s.inputPixel,h=s.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],l[0]=Math.round(o[0]*e.resolution),l[1]=Math.round(o[1]*e.resolution),l[2]=1/l[0],l[3]=1/l[1],h[0]=.5*l[2],h[1]=.5*l[3],h[2]=e.sourceFrame.width*o[2]-.5*l[2],h[3]=e.sourceFrame.height*o[3]-.5*l[3],e.legacy){const d=s.filterArea;d[0]=e.destinationFrame.width,d[1]=e.destinationFrame.height,d[2]=e.sourceFrame.x,d[3]=e.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const f=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,f.renderTexture,hn.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let d=e.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,e.resolution);p.filterFrame=d.filterFrame;let g=0;for(g=0;g<n.length-1;++g){g===1&&e.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,e.resolution),p.filterFrame=d.filterFrame),n[g].apply(this,d,p,hn.CLEAR,e);const v=d;d=p,p=v}n[g].apply(this,d,f.renderTexture,hn.BLEND,e),g>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=hn.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t?.filterFrame){const l=this.tempRect;l.x=0,l.y=0,l.width=t.filterFrame.width,l.height=t.filterFrame.height,n.bind(t,t.filterFrame,l)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(e===hn.CLEAR||e===hn.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,n,s){const o=this.renderer;o.state.set(t.state),this.bindAndClear(n,s),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(cn.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(cn.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:o}=e._texture,l=t.set(s.width,0,0,s.height,n.x,n.y),h=e.worldTransform.copyTo(re.TEMP_MATRIX);return h.invert(),l.prepend(h),l.scale(1/o.width,1/o.height),l.translate(e.anchor.x,e.anchor.y),l}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,n=1,s=Ee.NONE){return this.texturePool.getOptimalTexture(t,e,n,s)}getFilterTexture(t,e,n){if(typeof t=="number"){const o=t;t=e,e=o}t=t||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,n||Ee.NONE);return s.filterFrame=t.filterFrame,s}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const n=Qu[0],s=Qu[1],o=Qu[2],l=Qu[3];n.set(e.left,e.top),s.set(e.left,e.bottom),o.set(e.right,e.top),l.set(e.right,e.bottom),t.apply(n,n),t.apply(s,s),t.apply(o,o),t.apply(l,l);const h=Math.min(n.x,s.x,o.x,l.x),f=Math.min(n.y,s.y,o.y,l.y),d=Math.max(n.x,s.x,o.x,l.x),p=Math.max(n.y,s.y,o.y,l.y);e.x=h,e.y=f,e.width=d-h,e.height=p-f}roundFrame(t,e,n,s,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){const{a:l,b:h,c:f,d}=o;if((Math.abs(h)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(d)>1e-4))return}o=o?tp.copyFrom(o):tp.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}}}L_.extension={type:mt.RendererSystem,name:"filter"};At.add(L_);class ab{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ee.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const ob=new Ot;class U_{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new zp(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ot,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;yt.PREFER_ENV===Ds.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=s=>e.drawBuffersWEBGL(s):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,n=0){const{gl:s}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let l=0;l<t.colorTextures.length;l++){const h=t.colorTextures[l];this.renderer.texture.unbind(h.parentTextureArray||h)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const l=e.width>>n,h=e.height>>n,f=l/e.width;this.setViewport(e.x*f,e.y*f,l,h)}else{const l=t.width>>n,h=t.height>>n;this.setViewport(0,0,l,h)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,n,s){const o=this.viewport;t=Math.round(t),e=Math.round(e),n=Math.round(n),s=Math.round(s),(o.width!==n||o.height!==s||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=n,o.height=s,this.gl.viewport(t,e,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,n,s,o=wp.COLOR|wp.DEPTH){const{gl:l}=this;l.clearColor(t,e,n,s),l.clear(o)}initFramebuffer(t){const{gl:e}=this,n=new ab(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:e}=this,n=t.glFramebuffers[this.CONTEXT_UID];if(n.stencil){e.bindRenderbuffer(e.RENDERBUFFER,n.stencil);let l;this.renderer.context.webGLVersion===1?l=e.DEPTH_STENCIL:t.depth&&t.stencil?l=e.DEPTH24_STENCIL8:t.depth?l=e.DEPTH_COMPONENT24:l=e.STENCIL_INDEX8,n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,l,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,l,t.width,t.height)}const s=t.colorTextures;let o=s.length;e.drawBuffers||(o=Math.min(o,1));for(let l=0;l<o;l++){const h=s[l],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),l===0&&n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:n}=this,s=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let l=o.length;n.drawBuffers||(l=Math.min(l,1)),s.multisample>1&&this.canMultisampleFramebuffer(t)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const h=[];for(let f=0;f<l;f++){const d=o[f],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),f===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,d.target,p._glTextures[this.CONTEXT_UID].texture,e),h.push(n.COLOR_ATTACHMENT0+f))}if(h.length>1&&n.drawBuffers(h),t.depthTexture&&this.writeDepthTexture){const f=t.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,e)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let f,d;this.renderer.context.webGLVersion===1?(f=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):t.depth&&t.stencil?(f=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):t.depth?(f=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(f=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,d,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,d,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,f,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let n=Ee.NONE;if(t<=1||e===null)return n;for(let s=0;s<e.length;s++)if(e[s]<=t){n=e[s];break}return n===1&&(n=Ee.NONE),n}blit(t,e,n){const{current:s,renderer:o,gl:l,CONTEXT_UID:h}=this;if(o.context.webGLVersion!==2||!s)return;const f=s.glFramebuffers[h];if(!f)return;if(!t){if(!f.msaaBuffer)return;const p=s.colorTextures[0];if(!p)return;f.blitFramebuffer||(f.blitFramebuffer=new zp(s.width,s.height),f.blitFramebuffer.addColorTexture(0,p)),t=f.blitFramebuffer,t.colorTextures[0]!==p&&(t.colorTextures[0]=p,t.dirtyId++,t.dirtyFormat++),(t.width!==s.width||t.height!==s.height)&&(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||(e=ob,e.width=s.width,e.height=s.height),n||(n=e);const d=e.width===n.width&&e.height===n.height;this.bind(t),l.bindFramebuffer(l.READ_FRAMEBUFFER,f.framebuffer),l.blitFramebuffer(e.left,e.top,e.right,e.bottom,n.left,n.top,n.right,n.bottom,l.COLOR_BUFFER_BIT,d?l.NEAREST:l.LINEAR),l.bindFramebuffer(l.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const n=t.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const n=t.width,s=t.height,o=this.gl,l=e.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,l);let h,f;this.renderer.context.webGLVersion===1?(h=o.DEPTH_STENCIL_ATTACHMENT,f=o.DEPTH_STENCIL):t.depth?(h=o.DEPTH_STENCIL_ATTACHMENT,f=o.DEPTH24_STENCIL8):(h=o.STENCIL_ATTACHMENT,f=o.STENCIL_INDEX8),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,f,n,s):o.renderbufferStorage(o.RENDERBUFFER,f,n,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,h,o.RENDERBUFFER,l)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ot}destroy(){this.renderer=null}}U_.extension={type:mt.RendererSystem,name:"framebuffer"};At.add(U_);const ep={5126:4,5123:2,5121:1};class F_{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;yt.PREFER_ENV===Ds.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=s=>n.bindVertexArrayOES(s),t.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(e.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(s,o)=>n.vertexAttribDivisorANGLE(s,o),t.drawElementsInstanced=(s,o,l,h,f)=>n.drawElementsInstancedANGLE(s,o,l,h,f),t.drawArraysInstanced=(s,o,l,h)=>n.drawArraysInstancedANGLE(s,o,l,h)):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:n}=this;let s=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const l=s[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==l&&(this._activeVao=l,this.hasVao?n.bindVertexArray(l):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const s=t.buffers[n];e.update(s)}}checkCompatibility(t,e){const n=t.attributes,s=e.attributeData;for(const o in s)if(!n[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,e){const n=t.attributes,s=e.attributeData,o=["g",t.id];for(const l in n)s[l]&&o.push(l,s[l].location);return o.join("-")}initGeometryVao(t,e,n=!0){const s=this.gl,o=this.CONTEXT_UID,l=this.renderer.buffer,h=e.program;h.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,h);const f=this.getSignature(t,h),d=t.glVertexArrayObjects[this.CONTEXT_UID];let p=d[f];if(p)return d[h.id]=p,p;const g=t.buffers,v=t.attributes,_={},x={};for(const b in g)_[b]=0,x[b]=0;for(const b in v)!v[b].size&&h.attributeData[b]?v[b].size=h.attributeData[b].size:v[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),_[v[b].buffer]+=v[b].size*ep[v[b].type];for(const b in v){const E=v[b],A=E.size;E.stride===void 0&&(_[E.buffer]===A*ep[E.type]?E.stride=0:E.stride=_[E.buffer]),E.start===void 0&&(E.start=x[E.buffer],x[E.buffer]+=A*ep[E.type])}p=s.createVertexArray(),s.bindVertexArray(p);for(let b=0;b<g.length;b++){const E=g[b];l.bind(E),n&&E._glBuffers[o].refCount++}return this.activateVao(t,h),d[h.id]=p,d[f]=p,s.bindVertexArray(null),l.unbind(dn.ARRAY_BUFFER),p}disposeGeometry(t,e){if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=t.buffers,l=this.renderer?.buffer;if(t.disposeRunner.remove(this),!!n){if(l)for(let h=0;h<o.length;h++){const f=o[h]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!e&&l.dispose(o[h],e))}if(!e){for(const h in n)if(h[0]==="g"){const f=n[h];this._activeVao===f&&this.unbind(),s.deleteVertexArray(f)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t)}activateVao(t,e){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=t.buffers,h=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let f=null;for(const d in h){const p=h[d],g=l[p.buffer],v=g._glBuffers[s];if(e.attributeData[d]){f!==v&&(o.bind(g),f=v);const _=e.attributeData[d].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(_,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,n,s){const{gl:o}=this,l=this._activeGeometry;if(l.indexBuffer){const h=l.indexBuffer.data.BYTES_PER_ELEMENT,f=h===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?l.instanced?o.drawElementsInstanced(t,e||l.indexBuffer.data.length,f,(n||0)*h,s||1):o.drawElements(t,e||l.indexBuffer.data.length,f,(n||0)*h):console.warn("unsupported index buffer type: uint32")}else l.instanced?o.drawArraysInstanced(t,n,e||l.getSize(),s||1):o.drawArrays(t,n,e||l.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}F_.extension={type:mt.RendererSystem,name:"geometry"};At.add(F_);const k4=new re;class k_{constructor(t,e){this._texture=t,this.mapCoord=new re,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){e===void 0&&(e=t);const n=this.mapCoord;for(let s=0;s<t.length;s+=2){const o=t[s],l=t[s+1];e[s]=o*n.a+l*n.c+n.tx,e[s+1]=o*n.b+l*n.d+n.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=e.orig,o=e.trim;o&&(k4.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(k4));const l=e.baseTexture,h=this.uClampFrame,f=this.clampMargin/l.resolution,d=this.clampOffset;return h[0]=(e._frame.x+f+d)/l.width,h[1]=(e._frame.y+f+d)/l.height,h[2]=(e._frame.x+e._frame.width-f+d)/l.width,h[3]=(e._frame.y+e._frame.height-f+d)/l.height,this.uClampOffset[0]=d/l.realWidth,this.uClampOffset[1]=d/l.realHeight,this.isSimple=e._frame.width===l.width&&e._frame.height===l.height&&e.rotate===0,!0}}var lb=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ub=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class hb extends Ve{constructor(t,e,n){let s=null;typeof t!="string"&&e===void 0&&n===void 0&&(s=t,t=void 0,e=void 0,n=void 0),super(t||ub,e||lb,n),this.maskSprite=s,this.maskMatrix=new re}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,n,s){const o=this._maskSprite,l=o._texture;l.valid&&(l.uvMatrix||(l.uvMatrix=new k_(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,t.applyFilter(this,e,n,s))}}class cb{constructor(t=null){this.type=Se.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ve.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Se.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class z_{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let n=e;if(!n.isMaskData){const o=this.maskDataPool.pop()||new cb;o.pooled=!0,o.maskObject=e,n=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Se.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Se.SCISSOR:this.renderer.scissor.push(n);break;case Se.STENCIL:this.renderer.stencil.push(n);break;case Se.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Se.COLOR:this.pushColorMask(n);break}n.type===Se.SPRITE&&this.maskStack.push(n)}pop(t){const e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case Se.SCISSOR:this.renderer.scissor.pop(e);break;case Se.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Se.SPRITE:this.popSpriteMask(e);break;case Se.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Se.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=Se.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Se.SCISSOR:t.type=Se.STENCIL:t.type=Se.COLOR}pushSpriteMask(t){const{maskObject:e}=t,n=t._target;let s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new hb])),s[0].resolution=t.resolution,s[0].multisample=t.multisample,s[0].maskSprite=e;const o=n.filterArea;n.filterArea=e.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,n=t._colorMask=e&t.colorMask;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const e=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}z_.extension={type:mt.RendererSystem,name:"mask"};At.add(z_);class G_{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,n=this.getStackLength();this.maskStack=t;const s=this.getStackLength();s!==n&&(s===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const z4=new re,G4=[],H_=class vh extends G_{constructor(t){super(t),this.glConst=yt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:s}=this,o=s.renderTexture,l=n.getBounds(!0,G4.pop()??new Ot);this.roundFrameToPixels(l,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),e&&l.fit(e),t._scissorRectLocal=l}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:s,d:o}=t;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||vh.isMatrixRotated(e.worldTransform)||vh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,s,o){vh.isMatrixRotated(o)||(o=o?z4.copyFrom(o):z4.identity(),o.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,t),t.fit(s),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&G4.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};H_.extension={type:mt.RendererSystem,name:"scissor"};let fb=H_;At.add(fb);class j_ extends G_{constructor(t){super(t),this.glConst=yt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:n}=this.renderer,s=t._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,o!==0&&(t._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const e=this.renderer.gl;if(this.getStackLength()===0)e.disable(e.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,s!==0&&(n._colorMask=s,e.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}j_.extension={type:mt.RendererSystem,name:"stencil"};At.add(j_);class X_{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Gt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return Gt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return Gt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}X_.extension={type:[mt.RendererSystem,mt.CanvasRendererSystem],name:"_plugin"};At.add(X_);class V_{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new re,this.transform=null}update(t,e,n,s){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,e,n,s){const o=this.projectionMatrix,l=s?-1:1;o.identity(),o.a=1/e.width*2,o.d=l*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-l-e.y*o.d}setTransform(t){}destroy(){this.renderer=null}}V_.extension={type:mt.RendererSystem,name:"projection"};At.add(V_);const db=new P1,H4=new Ot;class Y_{constructor(t){this.renderer=t,this._tempMatrix=new re}generateTexture(t,e){const{region:n,...s}=e||{},o=n?.copyTo(H4)||t.getLocalBounds(H4,!0),l=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/l),o.height=Math.max(o.height,1/l),s.width=o.width,s.height=o.height,s.resolution=l,s.multisample??(s.multisample=this.renderer.multisample);const h=Os.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const f=t.transform;return t.transform=db,this.renderer.render(t,{renderTexture:h,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=f,h}destroy(){}}Y_.extension={type:[mt.RendererSystem,mt.CanvasRendererSystem],name:"textureGenerator"};At.add(Y_);const hs=new Ot,Zo=new Ot;class q_{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ot,this.destinationFrame=new Ot,this.viewportFrame=new Ot}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,n){const s=this.renderer;this.current=t;let o,l,h;t?(o=t.baseTexture,h=o.resolution,e||(hs.width=t.frame.width,hs.height=t.frame.height,e=hs),n||(Zo.x=t.frame.x,Zo.y=t.frame.y,Zo.width=e.width,Zo.height=e.height,n=Zo),l=o.framebuffer):(h=s.resolution,e||(hs.width=s._view.screen.width,hs.height=s._view.screen.height,e=hs),n||(n=hs,n.width=e.width,n.height=e.height));const f=this.viewportFrame;f.x=n.x*h,f.y=n.y*h,f.width=n.width*h,f.height=n.height*h,t||(f.y=s.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(l,f),this.renderer.projection.update(n,e,h,!l),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)}clear(t,e){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=oe.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,l=this.current?this.current.baseTexture:this.renderer._view.screen,h=o.width!==l.width||o.height!==l.height;if(h){let{x:f,y:d,width:p,height:g}=this.viewportFrame;f=Math.round(f),d=Math.round(d),p=Math.round(p),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(f,d,p,g)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,e),h&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}q_.extension={type:mt.RendererSystem,name:"renderTexture"};At.add(q_);class pb{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function mb(i,t){const e={},n=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const o=t.getActiveAttrib(i,s);if(o.name.startsWith("gl_"))continue;const l=D_(t,o.type),h={type:l,name:o.name,size:R_(l),location:t.getAttribLocation(i,o.name)};e[o.name]=h}return e}function gb(i,t){const e={},n=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const o=t.getActiveUniform(i,s),l=o.name.replace(/\[.*?\]$/,""),h=!!o.name.match(/\[.*?\]$/),f=D_(t,o.type);e[l]={name:l,index:s,type:f,size:o.size,isArray:h,value:C_(f,o.size)}}return e}function yb(i,t){const e=I4(i,i.VERTEX_SHADER,t.vertexSrc),n=I4(i,i.FRAGMENT_SHADER,t.fragmentSrc),s=i.createProgram();i.attachShader(s,e),i.attachShader(s,n);const o=t.extra?.transformFeedbackVaryings;if(o&&(typeof i.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||Y9(i,s,e,n),t.attributeData=mb(s,i),t.uniformData=gb(s,i),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const h=Object.keys(t.attributeData);h.sort((f,d)=>f>d?1:-1);for(let f=0;f<h.length;f++)t.attributeData[h[f]].location=f,i.bindAttribLocation(s,f,h[f]);i.linkProgram(s)}i.deleteShader(e),i.deleteShader(n);const l={};for(const h in t.uniformData){const f=t.uniformData[h];l[h]={location:i.getUniformLocation(s,h),value:C_(f.type,f.size)}}return new pb(s,l)}function vb(i,t,e,n,s){e.buffer.update(s)}const _b={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},$_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function xb(i){const t=i.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let e=0,n=0,s=0;for(let o=0;o<t.length;o++){const l=t[o];if(e=$_[l.data.type],l.data.size>1&&(e=Math.max(e,16)*l.data.size),l.dataLen=e,n%e!==0&&n<16){const h=n%e%16;n+=h,s+=h}n+e>16?(s=Math.ceil(s/16)*16,l.offset=s,s+=e,n=e):(l.offset=s,n+=e,s+=e)}return s=Math.ceil(s/16)*16,{uboElements:t,size:s}}function bb(i,t){const e=[];for(const n in i)t[n]&&e.push(t[n]);return e.sort((n,s)=>n.index-s.index),e}function Tb(i,t){if(!i.autoManage)return{size:0,syncFunc:vb};const e=bb(i.uniforms,t),{uboElements:n,size:s}=xb(e),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let l=0;l<n.length;l++){const h=n[l],f=i.uniforms[h.data.name],d=h.data.name;let p=!1;for(let g=0;g<Na.length;g++){const v=Na[g];if(v.codeUbo&&v.test(h.data,f)){o.push(`offset = ${h.offset/4};`,Na[g].codeUbo(h.data.name,f)),p=!0;break}}if(!p)if(h.data.size>1){const g=R_(h.data.type),v=Math.max($_[h.data.type]/16,1),_=g/v,x=(4-_%4)%4;o.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${h.offset/4};

                t = 0;

                for(var i=0; i < ${h.data.size*v}; i++)
                {
                    for(var j = 0; j < ${_}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const g=_b[h.data.type];o.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${h.offset/4};
                ${g};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let Eb=0;const Ju={textureCount:0,uboCount:0};class W_{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Eb++}systemCheck(){if(!$9())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),e||(Ju.textureCount=0,Ju.uboCount=0,this.syncUniformGroup(t.uniformGroup,Ju)),s}setUniforms(t){const e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,e){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))}syncUniforms(t,e,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=j9(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const s=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,e);t.buffer.update(),s(n.uniformData,t.uniforms,this.renderer,Ju,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[e])}createSyncBufferGroup(t,e,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const l=this.getSignature(t,this.shader.program.uniformData,"ubo");let h=this._uboCache[l];if(h||(h=this._uboCache[l]=Tb(t,this.shader.program.uniformData)),t.autoManage){const f=new Float32Array(h.size/4);t.buffer.update(f)}return e.uniformGroups[t.id]=h.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,n){const s=t.uniforms,o=[`${n}-`];for(const l in s)o.push(l),e[l]&&o.push(e[l].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,n=t.program,s=yb(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}W_.extension={type:mt.RendererSystem,name:"shader"};At.add(W_);class zh{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.4.3 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}zh.defaultOptions={hello:!1},zh.extension={type:[mt.RendererSystem,mt.CanvasRendererSystem],name:"startup"};At.add(zh);function Ab(i,t=[]){return t[Rt.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.ADD]=[i.ONE,i.ONE],t[Rt.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.NONE]=[0,0],t[Rt.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],t[Rt.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],t[Rt.SRC_IN]=[i.DST_ALPHA,i.ZERO],t[Rt.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],t[Rt.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],t[Rt.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],t[Rt.DST_IN]=[i.ZERO,i.SRC_ALPHA],t[Rt.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],t[Rt.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],t[Rt.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],t[Rt.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],t}const Sb=0,wb=1,Cb=2,Mb=3,Rb=4,Db=5,Z_=class Gp{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Rt.NONE,this._blendEq=!1,this.map=[],this.map[Sb]=this.setBlend,this.map[wb]=this.setOffset,this.map[Cb]=this.setCullFace,this.map[Mb]=this.setDepthTest,this.map[Rb]=this.setFrontFace,this.map[Db]=this.setDepthMask,this.checks=[],this.defaultState=new vn,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Ab(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Gp.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Gp.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};Z_.extension={type:mt.RendererSystem,name:"state"};let Ob=Z_;At.add(Ob);class Bb extends bl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter(s=>t.systems[s]),n=[...e,...Object.keys(t.systems).filter(s=>!e.includes(s))];for(const s of n)this.addSystem(t.systems[s],s)}addRunners(...t){t.forEach(e=>{this.runners[e]=new qi(e)})}addSystem(t,e){const n=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=n,this._systemsHash[e]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(t,e){const n=Object.keys(this._systemsHash);t.items.forEach(s=>{const o=n.find(l=>this._systemsHash[l]===s);s[t.name](e[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const al=class _h{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=_h.defaultMaxIdle,this.checkCountMax=_h.defaultCheckCountMax,this.mode=_h.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==O1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let s=0;s<e.length;s++){const o=e[s];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[s]=null,n=!0)}if(n){let s=0;for(let o=0;o<e.length;o++)e[o]!==null&&(e[s++]=e[o]);e.length=s}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let s=t.children.length-1;s>=0;s--)this.unload(t.children[s])}destroy(){this.renderer=null}};al.defaultMode=O1.AUTO,al.defaultMaxIdle=3600,al.defaultCheckCountMax=600,al.extension={type:mt.RendererSystem,name:"textureGC"};let vs=al;At.add(vs);class ip{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=wt.UNSIGNED_BYTE,this.internalFormat=ct.RGBA,this.samplerType=0}}function Ib(i){let t;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?t={[i.RGB]:gt.FLOAT,[i.RGBA]:gt.FLOAT,[i.ALPHA]:gt.FLOAT,[i.LUMINANCE]:gt.FLOAT,[i.LUMINANCE_ALPHA]:gt.FLOAT,[i.R8]:gt.FLOAT,[i.R8_SNORM]:gt.FLOAT,[i.RG8]:gt.FLOAT,[i.RG8_SNORM]:gt.FLOAT,[i.RGB8]:gt.FLOAT,[i.RGB8_SNORM]:gt.FLOAT,[i.RGB565]:gt.FLOAT,[i.RGBA4]:gt.FLOAT,[i.RGB5_A1]:gt.FLOAT,[i.RGBA8]:gt.FLOAT,[i.RGBA8_SNORM]:gt.FLOAT,[i.RGB10_A2]:gt.FLOAT,[i.RGB10_A2UI]:gt.FLOAT,[i.SRGB8]:gt.FLOAT,[i.SRGB8_ALPHA8]:gt.FLOAT,[i.R16F]:gt.FLOAT,[i.RG16F]:gt.FLOAT,[i.RGB16F]:gt.FLOAT,[i.RGBA16F]:gt.FLOAT,[i.R32F]:gt.FLOAT,[i.RG32F]:gt.FLOAT,[i.RGB32F]:gt.FLOAT,[i.RGBA32F]:gt.FLOAT,[i.R11F_G11F_B10F]:gt.FLOAT,[i.RGB9_E5]:gt.FLOAT,[i.R8I]:gt.INT,[i.R8UI]:gt.UINT,[i.R16I]:gt.INT,[i.R16UI]:gt.UINT,[i.R32I]:gt.INT,[i.R32UI]:gt.UINT,[i.RG8I]:gt.INT,[i.RG8UI]:gt.UINT,[i.RG16I]:gt.INT,[i.RG16UI]:gt.UINT,[i.RG32I]:gt.INT,[i.RG32UI]:gt.UINT,[i.RGB8I]:gt.INT,[i.RGB8UI]:gt.UINT,[i.RGB16I]:gt.INT,[i.RGB16UI]:gt.UINT,[i.RGB32I]:gt.INT,[i.RGB32UI]:gt.UINT,[i.RGBA8I]:gt.INT,[i.RGBA8UI]:gt.UINT,[i.RGBA16I]:gt.INT,[i.RGBA16UI]:gt.UINT,[i.RGBA32I]:gt.INT,[i.RGBA32UI]:gt.UINT,[i.DEPTH_COMPONENT16]:gt.FLOAT,[i.DEPTH_COMPONENT24]:gt.FLOAT,[i.DEPTH_COMPONENT32F]:gt.FLOAT,[i.DEPTH_STENCIL]:gt.FLOAT,[i.DEPTH24_STENCIL8]:gt.FLOAT,[i.DEPTH32F_STENCIL8]:gt.FLOAT}:t={[i.RGB]:gt.FLOAT,[i.RGBA]:gt.FLOAT,[i.ALPHA]:gt.FLOAT,[i.LUMINANCE]:gt.FLOAT,[i.LUMINANCE_ALPHA]:gt.FLOAT,[i.DEPTH_STENCIL]:gt.FLOAT},t}function Nb(i){let t;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?t={[wt.UNSIGNED_BYTE]:{[ct.RGBA]:i.RGBA8,[ct.RGB]:i.RGB8,[ct.RG]:i.RG8,[ct.RED]:i.R8,[ct.RGBA_INTEGER]:i.RGBA8UI,[ct.RGB_INTEGER]:i.RGB8UI,[ct.RG_INTEGER]:i.RG8UI,[ct.RED_INTEGER]:i.R8UI,[ct.ALPHA]:i.ALPHA,[ct.LUMINANCE]:i.LUMINANCE,[ct.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[wt.BYTE]:{[ct.RGBA]:i.RGBA8_SNORM,[ct.RGB]:i.RGB8_SNORM,[ct.RG]:i.RG8_SNORM,[ct.RED]:i.R8_SNORM,[ct.RGBA_INTEGER]:i.RGBA8I,[ct.RGB_INTEGER]:i.RGB8I,[ct.RG_INTEGER]:i.RG8I,[ct.RED_INTEGER]:i.R8I},[wt.UNSIGNED_SHORT]:{[ct.RGBA_INTEGER]:i.RGBA16UI,[ct.RGB_INTEGER]:i.RGB16UI,[ct.RG_INTEGER]:i.RG16UI,[ct.RED_INTEGER]:i.R16UI,[ct.DEPTH_COMPONENT]:i.DEPTH_COMPONENT16},[wt.SHORT]:{[ct.RGBA_INTEGER]:i.RGBA16I,[ct.RGB_INTEGER]:i.RGB16I,[ct.RG_INTEGER]:i.RG16I,[ct.RED_INTEGER]:i.R16I},[wt.UNSIGNED_INT]:{[ct.RGBA_INTEGER]:i.RGBA32UI,[ct.RGB_INTEGER]:i.RGB32UI,[ct.RG_INTEGER]:i.RG32UI,[ct.RED_INTEGER]:i.R32UI,[ct.DEPTH_COMPONENT]:i.DEPTH_COMPONENT24},[wt.INT]:{[ct.RGBA_INTEGER]:i.RGBA32I,[ct.RGB_INTEGER]:i.RGB32I,[ct.RG_INTEGER]:i.RG32I,[ct.RED_INTEGER]:i.R32I},[wt.FLOAT]:{[ct.RGBA]:i.RGBA32F,[ct.RGB]:i.RGB32F,[ct.RG]:i.RG32F,[ct.RED]:i.R32F,[ct.DEPTH_COMPONENT]:i.DEPTH_COMPONENT32F},[wt.HALF_FLOAT]:{[ct.RGBA]:i.RGBA16F,[ct.RGB]:i.RGB16F,[ct.RG]:i.RG16F,[ct.RED]:i.R16F},[wt.UNSIGNED_SHORT_5_6_5]:{[ct.RGB]:i.RGB565},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ct.RGBA]:i.RGBA4},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ct.RGBA]:i.RGB5_A1},[wt.UNSIGNED_INT_2_10_10_10_REV]:{[ct.RGBA]:i.RGB10_A2,[ct.RGBA_INTEGER]:i.RGB10_A2UI},[wt.UNSIGNED_INT_10F_11F_11F_REV]:{[ct.RGB]:i.R11F_G11F_B10F},[wt.UNSIGNED_INT_5_9_9_9_REV]:{[ct.RGB]:i.RGB9_E5},[wt.UNSIGNED_INT_24_8]:{[ct.DEPTH_STENCIL]:i.DEPTH24_STENCIL8},[wt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ct.DEPTH_STENCIL]:i.DEPTH32F_STENCIL8}}:t={[wt.UNSIGNED_BYTE]:{[ct.RGBA]:i.RGBA,[ct.RGB]:i.RGB,[ct.ALPHA]:i.ALPHA,[ct.LUMINANCE]:i.LUMINANCE,[ct.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[wt.UNSIGNED_SHORT_5_6_5]:{[ct.RGB]:i.RGB},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ct.RGBA]:i.RGBA},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ct.RGBA]:i.RGBA}},t}class K_{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Pt,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Nb(t),this.samplerTypes=Ib(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let s=0;s<e;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new ip(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ip(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(t,e=0){const{gl:n}=this;if(t=t?.castToBaseTexture(),t?.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const s=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,s.texture)),s.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)):s.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===t&&(this.currentLocation!==s&&(e.activeTexture(e.TEXTURE0+s),this.currentLocation=s),e.bindTexture(t.target,this.emptyTextures[t.target].texture),n[s]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let o=t-1;o>=0;--o){const l=e[o];l&&l._glTextures[s].samplerType!==gt.FLOAT&&this.renderer.texture.unbind(l)}}initTexture(t){const e=new ip(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){e.internalFormat=this.internalFormats[t.type]?.[t.format]??t.format,e.samplerType=this.samplerTypes[e.internalFormat]??gt.FLOAT,this.webGLVersion===2&&t.type===wt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const n=this.renderer;if(this.initTextureType(t,e),t.resource?.upload(n,t,e))e.samplerType!==gt.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,o=t.realHeight,l=n.gl;(e.width!==s||e.height!==o||e.dirtyId<0)&&(e.width=s,e.height=o,l.texImage2D(t.target,0,e.internalFormat,s,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const s=this.managedTextures.indexOf(t);s!==-1&&Ia(this.managedTextures,s,1)}}updateTextureStyle(t){const e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===gn.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=mi.CLAMP:e.wrapMode=t.wrapMode,t.resource?.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const n=this.gl;if(e.mipmap&&t.mipmap!==gn.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===fn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&t.anisotropicLevel>0&&t.scaleMode===fn.LINEAR){const o=Math.min(t.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===fn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===fn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}K_.extension={type:mt.RendererSystem,name:"texture"};At.add(K_);class Q_{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:n}=this,s=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:n,renderer:s}=this;e&&s.shader.bind(e),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:n,CONTEXT_UID:s}=this,o=e.createTransformFeedback();t._glTransformFeedbacks[s]=o,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,o);for(let l=0;l<t.buffers.length;l++){const h=t.buffers[l];h&&(n.buffer.update(h),h._glBuffers[s].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,l,h._glBuffers[s].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,e){const n=t._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let l=0;l<t.buffers.length;l++){const h=t.buffers[l];if(!h)continue;const f=h._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!e&&o.dispose(h,e))}n&&(e||s.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Q_.extension={type:mt.RendererSystem,name:"transformFeedback"};At.add(Q_);class Gh{constructor(t){this.renderer=t}init(t){this.screen=new Ot(0,0,t.width,t.height),this.element=t.view||yt.ADAPTER.createCanvas(),this.resolution=t.resolution||yt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){t&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}Gh.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Gh.extension={type:[mt.RendererSystem,mt.CanvasRendererSystem],name:"_view"};At.add(Gh);yt.PREFER_ENV=Ds.WEBGL2;yt.STRICT_TEXTURE_CACHE=!1;yt.RENDER_OPTIONS={...kh.defaultOptions,...Fh.defaultOptions,...Gh.defaultOptions,...zh.defaultOptions};Object.defineProperties(yt,{WRAP_MODE:{get(){return Pt.defaultOptions.wrapMode},set(i){Gt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Pt.defaultOptions.wrapMode=i}},SCALE_MODE:{get(){return Pt.defaultOptions.scaleMode},set(i){Gt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Pt.defaultOptions.scaleMode=i}},MIPMAP_TEXTURES:{get(){return Pt.defaultOptions.mipmap},set(i){Gt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Pt.defaultOptions.mipmap=i}},ANISOTROPIC_LEVEL:{get(){return Pt.defaultOptions.anisotropicLevel},set(i){Gt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Pt.defaultOptions.anisotropicLevel=i}},FILTER_RESOLUTION:{get(){return Gt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ve.defaultResolution},set(i){Ve.defaultResolution=i}},FILTER_MULTISAMPLE:{get(){return Gt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ve.defaultMultisample},set(i){Ve.defaultMultisample=i}},SPRITE_MAX_TEXTURES:{get(){return ys.defaultMaxTextures},set(i){Gt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ys.defaultMaxTextures=i}},SPRITE_BATCH_SIZE:{get(){return ys.defaultBatchSize},set(i){Gt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ys.defaultBatchSize=i}},CAN_UPLOAD_SAME_BUFFER:{get(){return ys.canUploadSameBuffer},set(i){Gt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ys.canUploadSameBuffer=i}},GC_MODE:{get(){return vs.defaultMode},set(i){Gt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),vs.defaultMode=i}},GC_MAX_IDLE:{get(){return vs.defaultMaxIdle},set(i){Gt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),vs.defaultMaxIdle=i}},GC_MAX_CHECK_COUNT:{get(){return vs.defaultCheckCountMax},set(i){Gt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),vs.defaultCheckCountMax=i}},PRECISION_VERTEX:{get(){return qn.defaultVertexPrecision},set(i){Gt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),qn.defaultVertexPrecision=i}},PRECISION_FRAGMENT:{get(){return qn.defaultFragmentPrecision},set(i){Gt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),qn.defaultFragmentPrecision=i}}});var Ms=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Ms||{});class np{constructor(t,e=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=n,this.once=s}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const J_=class fi{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new np(null,null,1/0),this.deltaMS=1/fi.targetFPMS,this.elapsedMS=1/fi.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Ms.NORMAL){return this._addListener(new np(t,e,n))}addOnce(t,e,n=Ms.NORMAL){return this._addListener(new np(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*fi.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,fi.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!fi._shared){const t=fi._shared=new fi;t.autoStart=!0,t._protected=!0}return fi._shared}static get system(){if(!fi._system){const t=fi._system=new fi;t.autoStart=!0,t._protected=!0}return fi._system}};J_.targetFPMS=.06;let pi=J_;Object.defineProperties(yt,{TARGET_FPMS:{get(){return pi.targetFPMS},set(i){Gt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),pi.targetFPMS=i}}});class t6{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Ms.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?pi.shared:new pi,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}t6.extension=mt.Application;At.add(t6);const e6=[];At.handleByList(mt.Renderer,e6);function i6(i){for(const t of e6)if(t.test(i))return new t(i);throw new Error("Unable to auto-detect a suitable renderer.")}var Pb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Lb=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Ub=Pb,n6=Lb;class r6{constructor(t){this.renderer=t}contextChange(t){let e;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}e>=Ee.HIGH?this.multisample=Ee.HIGH:e>=Ee.MEDIUM?this.multisample=Ee.MEDIUM:e>=Ee.LOW?this.multisample=Ee.LOW:this.multisample=Ee.NONE}destroy(){}}r6.extension={type:mt.RendererSystem,name:"_multisample"};At.add(r6);class Fb{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class s6{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:n}=this,s=t._glBuffers[n]||this.createGLBuffer(t);e.bindBuffer(t.type,s.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[e]!==t){const o=t._glBuffers[s]||this.createGLBuffer(t);this.boundBufferBases[e]=t,n.bindBufferBase(n.UNIFORM_BUFFER,e,o.buffer)}}bindBufferRange(t,e,n){const{gl:s,CONTEXT_UID:o}=this;n=n||0;const l=t._glBuffers[o]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,l.buffer,n*256,256)}update(t){const{gl:e,CONTEXT_UID:n}=this,s=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==s.updateID)if(s.updateID=t._updateID,e.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const o=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,o)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],s=this.gl;t.disposeRunner.remove(this),n&&(e||s.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:n}=this;return t._glBuffers[e]=new Fb(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}s6.extension={type:mt.RendererSystem,name:"buffer"};At.add(s6);class a6{constructor(t){this.renderer=t}render(t,e){const n=this.renderer;let s,o,l,h;if(e&&(s=e.renderTexture,o=e.clear,l=e.transform,h=e.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=l,!n.context.isLost){if(s||(this.lastObjectRendered=t),!h){const f=t.enableTempParent();t.updateTransform(),t.disableTempParent(f)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(o??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),s&&(e.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}a6.extension={type:mt.RendererSystem,name:"objectRenderer"};At.add(a6);const xh=class Hp extends Bb{constructor(t){super(),this.type=D1.WEBGL,t=Object.assign({},yt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new $i({projectionMatrix:new re},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Hp.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Gt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Hp.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t?.forceCanvas?!1:l9()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Gt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Gt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Gt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Gt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Gt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Gt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Gt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Gt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};xh.extension={type:mt.Renderer,priority:1},xh.__plugins={},xh.__systems={};let yc=xh;At.handleByMap(mt.RendererPlugin,yc.__plugins);At.handleByMap(mt.RendererSystem,yc.__systems);At.add(yc);class o6 extends gl{constructor(t,e){const{width:n,height:s}=e||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const l=new Pt;this.items.push(l),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof gl?this.addResourceAt(t[n],n):this.addResourceAt(A_(t[n],e),n))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(t).then(()=>{const{realWidth:e,realHeight:n}=this.items[0];return this.resize(e,n),this.update(),Promise.resolve(this)}),this._load}}class kb extends o6{constructor(t,e){const{width:n,height:s}=e||{};let o,l;Array.isArray(t)?(o=t,l=t.length):l=t,super(l,{width:n,height:s}),o&&this.initFromArray(o,e)}addBaseTextureAt(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=Ba.TEXTURE_2D_ARRAY}upload(t,e,n){const{length:s,itemDirtyIds:o,items:l}=this,{gl:h}=t;n.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,e.format,n.type,null);for(let f=0;f<s;f++){const d=l[f];o[f]<d.dirtyId&&(o[f]=d.dirtyId,d.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,f,d.resource.width,d.resource.height,1,e.format,n.type,d.resource.source))}return!0}}class zb extends Zn{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return e&&t instanceof e?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const l6=class ol extends o6{constructor(t,e){const{width:n,height:s,autoLoad:o,linkBaseTexture:l}=e||{};if(t&&t.length!==ol.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:s});for(let h=0;h<ol.SIDES;h++)this.items[h].target=Ba.TEXTURE_CUBE_MAP_POSITIVE_X+h;this.linkBaseTexture=l!==!1,t&&this.initFromArray(t,e),o!==!1&&this.load()}bind(t){super.bind(t),t.target=Ba.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ba.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const s=this.itemDirtyIds;for(let o=0;o<ol.SIDES;o++){const l=this.items[o];(s[o]<l.dirtyId||n.dirtyId<e.dirtyId)&&(l.valid&&l.resource?(l.resource.upload(t,l,n),s[o]=l.dirtyId):s[o]<-1&&(t.gl.texImage2D(l.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),s[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===ol.SIDES}};l6.SIDES=6;let Gb=l6;class Ma extends Zn{constructor(t,e){e=e||{};let n,s,o;typeof t=="string"?(n=Ma.EMPTY,s=t,o=!0):(n=t,s=null,o=!1),super(n),this.url=s,this.crossOrigin=e.crossOrigin??!0,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.ownsImageBitmap=e.ownsImageBitmap??o,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,e)=>{if(this.url===null){t(this);return}try{const n=await yt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ei.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(n){if(this.destroyed)return;e(n),this.onError.emit(n)}}),this._load)}upload(t,e,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),super.upload(t,e,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return Ma._EMPTY=Ma._EMPTY??yt.ADAPTER.createCanvas(0,0),Ma._EMPTY}}const jp=class bh extends Zn{constructor(t,e){e=e||{},super(yt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},bh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Zn.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=e*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*e,o=this._overrideHeight||this._overrideWidth/e*n),s=Math.round(s),o=Math.round(o);const l=this.source;l.width=s,l.height=o,l._pixiId=`canvas_${Cs()}`,l.getContext("2d").drawImage(t,0,0,e,n,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(t){const e=bh.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&bh.SVG_XML.test(t)}};jp.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,jp.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Xp=jp;class Hb extends Zn{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const Vp=class Yp extends Zn{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");e.autoLoad!==!1&&n.setAttribute("preload","auto"),e.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),e.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),e.loop===!0&&n.setAttribute("loop",""),e.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const s=t[0].src||t[0];Zn.crossOrigin(n,s,e.crossorigin);for(let o=0;o<t.length;++o){const l=document.createElement("source");let{src:h,mime:f}=t[o];if(h=h||t[o],h.startsWith("data:"))f=h.slice(5,h.indexOf(";"));else if(!h.startsWith("blob:")){const d=h.split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);f=f||Yp.MIME_TYPES[p]||`video/${p}`}l.src=h,f&&(l.type=f),n.appendChild(l)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const e=pi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e,n)=>{this.valid?e(this):(this._resolve=e,this._reject=n,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(pi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(pi.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(pi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Yp.TYPES.includes(e)}};Vp.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Vp.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let u6=Vp;Bp.push(Ma,I_,zb,u6,Hb,Xp,fc,Gb,kb);class Hh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Ot.EMPTY:(t=t||new Ot(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:n,b:s,c:o,d:l,tx:h,ty:f}=t,d=n*e.x+o*e.y+h,p=s*e.x+l*e.y+f;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(t){let e=this.minX,n=this.minY,s=this.maxX,o=this.maxY,l=t[0],h=t[1];e=l<e?l:e,n=h<n?h:n,s=l>s?l:s,o=h>o?h:o,l=t[2],h=t[3],e=l<e?l:e,n=h<n?h:n,s=l>s?l:s,o=h>o?h:o,l=t[4],h=t[5],e=l<e?l:e,n=h<n?h:n,s=l>s?l:s,o=h>o?h:o,l=t[6],h=t[7],e=l<e?l:e,n=h<n?h:n,s=l>s?l:s,o=h>o?h:o,this.minX=e,this.minY=n,this.maxX=s,this.maxY=o}addFrame(t,e,n,s,o){this.addFrameMatrix(t.worldTransform,e,n,s,o)}addFrameMatrix(t,e,n,s,o){const l=t.a,h=t.b,f=t.c,d=t.d,p=t.tx,g=t.ty;let v=this.minX,_=this.minY,x=this.maxX,b=this.maxY,E=l*e+f*n+p,A=h*e+d*n+g;v=E<v?E:v,_=A<_?A:_,x=E>x?E:x,b=A>b?A:b,E=l*s+f*n+p,A=h*s+d*n+g,v=E<v?E:v,_=A<_?A:_,x=E>x?E:x,b=A>b?A:b,E=l*e+f*o+p,A=h*e+d*o+g,v=E<v?E:v,_=A<_?A:_,x=E>x?E:x,b=A>b?A:b,E=l*s+f*o+p,A=h*s+d*o+g,v=E<v?E:v,_=A<_?A:_,x=E>x?E:x,b=A>b?A:b,this.minX=v,this.minY=_,this.maxX=x,this.maxY=b}addVertexData(t,e,n){let s=this.minX,o=this.minY,l=this.maxX,h=this.maxY;for(let f=e;f<n;f+=2){const d=t[f],p=t[f+1];s=d<s?d:s,o=p<o?p:o,l=d>l?d:l,h=p>h?p:h}this.minX=s,this.minY=o,this.maxX=l,this.maxY=h}addVertices(t,e,n,s){this.addVerticesMatrix(t.worldTransform,e,n,s)}addVerticesMatrix(t,e,n,s,o=0,l=o){const h=t.a,f=t.b,d=t.c,p=t.d,g=t.tx,v=t.ty;let _=this.minX,x=this.minY,b=this.maxX,E=this.maxY;for(let A=n;A<s;A+=2){const I=e[A],C=e[A+1],N=h*I+d*C+g,R=p*C+f*I+v;_=Math.min(_,N-o),b=Math.max(b,N+o),x=Math.min(x,R-l),E=Math.max(E,R+l)}this.minX=_,this.minY=x,this.maxX=b,this.maxY=E}addBounds(t){const e=this.minX,n=this.minY,s=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>s?t.maxX:s,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,e){const n=t.minX>e.minX?t.minX:e.minX,s=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,l=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=o&&s<=l){const h=this.minX,f=this.minY,d=this.maxX,p=this.maxY;this.minX=n<h?n:h,this.minY=s<f?s:f,this.maxX=o>d?o:d,this.maxY=l>p?l:p}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const n=t.minX>e.x?t.minX:e.x,s=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,l=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=o&&s<=l){const h=this.minX,f=this.minY,d=this.maxX,p=this.maxY;this.minX=n<h?n:h,this.minY=s<f?s:f,this.maxX=o>d?o:d,this.maxY=l>p?l:p}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,n,s,o,l){t-=o,e-=l,n+=o,s+=l,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>s?this.maxY:s}}class he extends bl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new P1,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Hh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let n=0;n<e.length;++n){const s=e[n];Object.defineProperty(he.prototype,s,Object.getOwnPropertyDescriptor(t,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Ot),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Ot),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Hh);const e=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=n?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const l=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=s,this._bounds.updateID+=this._boundsID-o,l}toGlobal(t,e,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,n,s){return e&&(t=e.toGlobal(t,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){this.parent?.removeChild(this)}setTransform(t=0,e=0,n=1,s=1,o=0,l=0,h=0,f=0,d=0){return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=s||1,this.rotation=o,this.skew.x=l,this.skew.y=h,this.pivot.x=f,this.pivot.y=d,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new jb),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*L9}set angle(t){this.transform.rotation=t*U9}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,e._maskRefCount===0&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount===0&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class jb extends he{constructor(){super(...arguments),this.sortDirty=null}}he.prototype.displayObjectUpdateTransform=he.prototype.updateTransform;const Xb=new re;function Vb(i,t){return i.zIndex===t.zIndex?i._lastSortedIndex-t._lastSortedIndex:i.zIndex-t.zIndex}const h6=class qp extends he{constructor(){super(),this.children=[],this.sortableChildren=qp.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),s=this.getChildIndex(e);this.children[n]=e,this.children[s]=t,this.onChildrenChange(n<s?n:s)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Ia(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Ia(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ia(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,s=e,o=s-n;let l;if(o>0&&o<=s){l=this.children.splice(n,o);for(let h=0;h<l.length;++h)l[h].parent=null,l[h].transform&&(l[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let h=0;h<l.length;++h)l[h].emit("removed",this),this.emit("childRemoved",l[h],this,h);return l}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const s=this.children[e];s._lastSortedIndex=e,!t&&s.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(Vb),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s];l.visible&&l.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==qp.prototype._render&&(n=this.getBounds(!0));const o=t.projection.transform;if(o&&(s?(s=Xb.copyFrom(s),s.prepend(o)):s=o),n&&e.intersects(n,s))this._render(t);else if(this.cullArea)return;for(let l=0,h=this.children.length;l<h;++l){const f=this.children[l],d=f.cullable;f.cullable=d||!this.cullArea,f.render(t),f.cullable=d}}render(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}}renderAdvanced(t){const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let o=0;o<e.length;o++)e[o].enabled&&this._enabledFilters.push(e[o])}const s=e&&this._enabledFilters?.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Se.NONE));if(s&&t.batch.flush(),e&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let o=0,l=this.children.length;o<l;++o)this.children[o].render(t)}s&&t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t?.children,n=this.removeChildren(0,this.children.length);if(e)for(let s=0;s<n.length;++s)n[s].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};h6.defaultSortableChildren=!1;let gi=h6;gi.prototype.containerUpdateTransform=gi.prototype.updateTransform;Object.defineProperties(yt,{SORTABLE_CHILDREN:{get(){return gi.defaultSortableChildren},set(i){Gt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),gi.defaultSortableChildren=i}}});const Ko=new Lt,Yb=new Uint16Array([0,1,2,0,2,3]);class Wa extends gi{constructor(t){super(),this._anchor=new Yn(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new oe(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Rt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||pt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Yb,this.pluginName="batch",this.isSprite=!0,this._roundPixels=yt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ir(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ir(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,n=e.a,s=e.b,o=e.c,l=e.d,h=e.tx,f=e.ty,d=this.vertexData,p=t.trim,g=t.orig,v=this._anchor;let _=0,x=0,b=0,E=0;if(p?(x=p.x-v._x*g.width,_=x+p.width,E=p.y-v._y*g.height,b=E+p.height):(x=-v._x*g.width,_=x+g.width,E=-v._y*g.height,b=E+g.height),d[0]=n*x+o*E+h,d[1]=l*E+s*x+f,d[2]=n*_+o*E+h,d[3]=l*E+s*_+f,d[4]=n*_+o*b+h,d[5]=l*b+s*_+f,d[6]=n*x+o*b+h,d[7]=l*b+s*x+f,this._roundPixels){const A=yt.RESOLUTION;for(let I=0;I<d.length;++I)d[I]=Math.round(d[I]*A)/A}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,n=t.orig,s=this._anchor,o=this.transform.worldTransform,l=o.a,h=o.b,f=o.c,d=o.d,p=o.tx,g=o.ty,v=-s._x*n.width,_=v+n.width,x=-s._y*n.height,b=x+n.height;if(e[0]=l*v+f*x+p,e[1]=d*x+h*v+g,e[2]=l*_+f*x+p,e[3]=d*x+h*_+g,e[4]=l*_+f*b+p,e[5]=d*b+h*_+g,e[6]=l*v+f*b+p,e[7]=d*b+h*v+g,this._roundPixels){const E=yt.RESOLUTION;for(let A=0;A<e.length;++A)e[A]=Math.round(e[A]*E)/E}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new Hh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Ot),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,Ko);const e=this._texture.orig.width,n=this._texture.orig.height,s=-e*this.anchor.x;let o=0;return Ko.x>=s&&Ko.x<s+e&&(o=-n*this.anchor.y,Ko.y>=o&&Ko.y<o+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t?.texture){const e=typeof t=="boolean"?t:t?.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const n=t instanceof pt?t:pt.from(t,e);return new Wa(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=Ir(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=Ir(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||pt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const c6=new re;he.prototype._cacheAsBitmap=!1;he.prototype._cacheData=null;he.prototype._cacheAsBitmapResolution=null;he.prototype._cacheAsBitmapMultisample=null;class qb{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(he.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(i){i!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(i){if(this._cacheAsBitmap===i)return;this._cacheAsBitmap=i;let t;i?(this._cacheData||(this._cacheData=new qb),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});he.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))};he.prototype._initCachedDisplayObject=function(i){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,i.batch.flush();const e=this.getLocalBounds(new Ot,!0);if(this.filters?.length){const v=this.filters[0].padding;e.pad(v)}const n=this.cacheAsBitmapResolution||i.resolution;e.ceil(n),e.width=Math.max(e.width,1/n),e.height=Math.max(e.height,1/n);const s=i.renderTexture.current,o=i.renderTexture.sourceFrame.clone(),l=i.renderTexture.destinationFrame.clone(),h=i.projection.transform,f=Os.create({width:e.width,height:e.height,resolution:n,multisample:this.cacheAsBitmapMultisample??i.multisample}),d=`cacheAsBitmap_${Cs()}`;this._cacheData.textureCacheId=d,Pt.addToCache(f.baseTexture,d),pt.addToCache(f,d);const p=this.transform.localTransform.copyTo(c6).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,i.render(this,{renderTexture:f,clear:!0,transform:p,skipUpdateTransform:!1}),i.framebuffer.blit(),i.projection.transform=h,i.renderTexture.bind(s,o,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Wa(f);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)};he.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))};he.prototype._initCachedDisplayObjectCanvas=function(i){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new Ot,!0),e=this.alpha;this.alpha=1;const n=i.canvasContext.activeContext,s=i._projTransform,o=this.cacheAsBitmapResolution||i.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const l=Os.create({width:t.width,height:t.height,resolution:o}),h=`cacheAsBitmap_${Cs()}`;this._cacheData.textureCacheId=h,Pt.addToCache(l.baseTexture,h),pt.addToCache(l,h);const f=c6;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=t.x,f.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,{renderTexture:l,clear:!0,transform:f,skipUpdateTransform:!1}),i.canvasContext.activeContext=n,i._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const d=new Wa(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(t.x/t.width),d.anchor.y=-(t.y/t.height),d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};he.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};he.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};he.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Pt.removeFromCache(this._cacheData.textureCacheId),pt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};he.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)};he.prototype.name=null;gi.prototype.getChildByName=function(i,t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].name===i)return this.children[e];if(t)for(let e=0,n=this.children.length;e<n;e++){const s=this.children[e];if(!s.getChildByName)continue;const o=s.getChildByName(i,!0);if(o)return o}return null};he.prototype.getGlobalPosition=function(i=new Lt,t=!1){return this.parent?this.parent.toGlobal(this.position,i,t):(i.x=this.position.x,i.y=this.position.y),i};var $b=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class Wb extends Ve{constructor(t=1){super(Ub,$b,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const Zb={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Kb=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Qb(i){const t=Zb[i],e=t.length;let n=Kb,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let l;for(let h=0;h<i;h++){let f=o.replace("%index%",h.toString());l=h,h>=e&&(l=i-h-1),f=f.replace("%value%",t[l].toString()),s+=f,s+=`
`}return n=n.replace("%blur%",s),n=n.replace("%size%",i.toString()),n}const Jb=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function tT(i,t){const e=Math.ceil(i/2);let n=Jb,s="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let l=0;l<i;l++){let h=o.replace("%index%",l.toString());h=h.replace("%sampleIndex%",`${l-(e-1)}.0`),s+=h,s+=`
`}return n=n.replace("%blur%",s),n=n.replace("%size%",i.toString()),n}class $p extends Ve{constructor(t,e=8,n=4,s=Ve.defaultResolution,o=5){const l=tT(o,t),h=Qb(o);super(l,h),this.horizontal=t,this.resolution=s,this._quality=0,this.quality=n,this.blur=e}apply(t,e,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,n,s);else{const o=t.getFilterTexture(),l=t.renderer;let h=e,f=o;this.state.blend=!1,t.applyFilter(this,h,f,hn.CLEAR);for(let d=1;d<this.passes-1;d++){t.bindAndClear(h,hn.BLIT),this.uniforms.uSampler=f;const p=f;f=h,h=p,l.shader.bind(this),l.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,f,n,s),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class eT extends Ve{constructor(t=8,e=4,n=Ve.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new $p(!0,t,e,n,s),this.blurYFilter=new $p(!1,t,e,n,s),this.resolution=n,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,n,s){const o=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(o&&l){const h=t.getFilterTexture();this.blurXFilter.apply(t,e,h,hn.CLEAR),this.blurYFilter.apply(t,h,n,s),t.returnFilterTexture(h)}else l?this.blurYFilter.apply(t,e,n,s):this.blurXFilter.apply(t,e,n,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var iT=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Wp extends Ve{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(n6,iT,t),this.alpha=1}_loadMatrix(t,e=!1){let n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)}tint(t,e){const[n,s,o]=oe.shared.setValue(t).toArray(),l=[n,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(l,e)}greyscale(t,e){const n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)}blackAndWhite(t){const e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)}hue(t,e){t=(t||0)/180*Math.PI;const n=Math.cos(t),s=Math.sin(t),o=Math.sqrt,l=1/3,h=o(l),f=n+(1-n)*l,d=l*(1-n)-h*s,p=l*(1-n)+h*s,g=l*(1-n)+h*s,v=n+l*(1-n),_=l*(1-n)-h*s,x=l*(1-n)-h*s,b=l*(1-n)+h*s,E=n+l*(1-n),A=[f,d,p,0,0,g,v,_,0,0,x,b,E,0,0,0,0,0,1,0];this._loadMatrix(A,e)}contrast(t,e){const n=(t||0)+1,s=-.5*(n-1),o=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(o,e)}saturate(t=0,e){const n=t*2/3+1,s=(n-1)*-.5,o=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(o,e)}desaturate(){this.saturate(-1)}negative(t){const e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)}sepia(t){const e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)}technicolor(t){const e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)}polaroid(t){const e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)}toBGR(t){const e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)}kodachrome(t){const e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)}browni(t){const e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)}vintage(t){const e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)}colorTone(t,e,n,s,o){t=t||.2,e=e||.15,n=n||16770432,s=s||3375104;const l=oe.shared,[h,f,d]=l.setValue(n).toArray(),[p,g,v]=l.setValue(s).toArray(),_=[.3,.59,.11,0,0,h,f,d,t,0,p,g,v,e,0,h-p,f-g,d-v,0,0];this._loadMatrix(_,o)}night(t,e){t=t||.1;const n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,e)}predator(t,e){const n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)}lsd(t){const e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}Wp.prototype.grayscale=Wp.prototype.greyscale;var nT=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,rT=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class sT extends Ve{constructor(t,e){const n=new re;t.renderable=!1,super(rT,nT,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=n,e==null&&(e=20),this.scale=new Lt(e,e)}apply(t,e,n,s){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,l=Math.sqrt(o.a*o.a+o.b*o.b),h=Math.sqrt(o.c*o.c+o.d*o.d);l!==0&&h!==0&&(this.uniforms.rotation[0]=o.a/l,this.uniforms.rotation[1]=o.b/l,this.uniforms.rotation[2]=o.c/h,this.uniforms.rotation[3]=o.d/h),t.applyFilter(this,e,n,s)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var aT=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,oT=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class lT extends Ve{constructor(){super(oT,aT)}}var uT=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class hT extends Ve{constructor(t=.5,e=Math.random()){super(n6,uT,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const j4={AlphaFilter:Wb,BlurFilter:eT,BlurFilterPass:$p,ColorMatrixFilter:Wp,DisplacementFilter:sT,FXAAFilter:lT,NoiseFilter:hT};Object.entries(j4).forEach(([i,t])=>{Object.defineProperty(j4,i,{get(){return Gt("7.1.0",`filters.${i} has moved to ${i}`),t}})});class cT{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(pi.system.add(this.tickerUpdate,this,Ms.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(pi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Br=new cT;class Tl{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Tl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Lt,this.page=new Lt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,n,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class jh extends Tl{constructor(){super(...arguments),this.client=new Lt,this.movement=new Lt,this.offset=new Lt,this.global=new Lt,this.screen=new Lt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,n,s,o,l,h,f,d,p,g,v,_,x,b){throw new Error("Method not implemented.")}}class ji extends jh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Pa extends jh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Pa.DOM_DELTA_PIXEL=0,Pa.DOM_DELTA_LINE=1,Pa.DOM_DELTA_PAGE=2;const fT=2048,dT=new Lt,rp=new Lt;class pT{constructor(t){this.dispatch=new bl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((n,s)=>n.priority-s.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let n=0,s=e.length;n<s;n++)e[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){Br.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,dT.set(t,e),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(t,e){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let s=0,o=n.length-1;s<o;s++)if(t.currentTarget=n[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(t.currentTarget=n[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const s=Array.isArray(e)?e:[e];for(let o=n.length-1;o>=0;o--)s.forEach(l=>{t.currentTarget=n[o],this.notifyTarget(t,l)})}propagationPath(t){const e=[t];for(let n=0;n<fT&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,n,s,o,l=!1){let h=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(Br.pauseUpdate=!1),t.interactiveChildren&&t.children){const p=t.children;for(let g=p.length-1;g>=0;g--){const v=p[g],_=this.hitTestMoveRecursive(v,this._isInteractive(e)?e:v.eventMode,n,s,o,l||o(t,n));if(_){if(_.length>0&&!_[_.length-1].parent)continue;const x=t.isInteractive();(_.length>0||x)&&(x&&this._allInteractiveElements.push(t),_.push(t)),this._hitElements.length===0&&(this._hitElements=_),h=!0}}}const f=this._isInteractive(e),d=t.isInteractive();return f&&d&&this._allInteractiveElements.push(t),l||this._hitElements.length>0?null:h?this._hitElements:f&&!o(t,n)&&s(t,n)?d?[t]:[]:null}hitTestRecursive(t,e,n,s,o){if(this._interactivePrune(t)||o(t,n))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(Br.pauseUpdate=!1),t.interactiveChildren&&t.children){const f=t.children;for(let d=f.length-1;d>=0;d--){const p=f[d],g=this.hitTestRecursive(p,this._isInteractive(e)?e:p.eventMode,n,s,o);if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=t.isInteractive();return(g.length>0||v)&&g.push(t),g}}}const l=this._isInteractive(e),h=t.isInteractive();return l&&s(t,n)?h?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,rp),!t.hitArea.contains(rp.x,rp.y)))return!0;if(t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;if(n&&!n.containsPoint?.(e))return!0}return!1}hitTestFn(t,e){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(e):!1}notifyTarget(t,e){e=e??t.type;const n=`on${e}`;t.currentTarget[n]?.(t);const s=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,s),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const s=e.button===2;this.dispatchEvent(e,s?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.trackingData(t.pointerId),o=this.findMountedTarget(s.overTargets);if(s.overTargets?.length>0&&o!==e.target){const f=t.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(t,f,o);if(this.dispatchEvent(d,"pointerout"),n&&this.dispatchEvent(d,"mouseout"),!e.composedPath().includes(o)){const p=this.createPointerEvent(t,"pointerleave",o);for(p.eventPhase=p.AT_TARGET;p.target&&!e.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}if(o!==e.target){const f=t.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(e,f);this.dispatchEvent(d,"pointerover"),n&&this.dispatchEvent(d,"mouseover");let p=o?.parent;for(;p&&p!==this.rootTarget.parent&&p!==e.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const g=this.clonePointerEvent(e,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==o&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(d)}const l=[],h=this.enableGlobalMoveEvents??!0;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(e,"pointermove"),h&&l.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),h&&l.push("globaltouchmove")),n&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),h&&l.push("globalmousemove"),this.cursor=e.target?.cursor),l.length>0&&this.all(e,l),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),n=this.createPointerEvent(t),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=n.target?.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;e.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",s=this.findMountedTarget(e.overTargets),o=this.createPointerEvent(t,"pointerout",s);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const l=this.createPointerEvent(t,"pointerleave",s);for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==this.rootTarget.parent;)l.currentTarget=l.target,this.notifyTarget(l),n&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;e.overTargets=null,this.freeEvent(o),this.freeEvent(l)}this.cursor=null}mapPointerUp(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.dispatchEvent(n,h?"rightup":"mouseup")}const s=this.trackingData(t.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[t.button]);let l=o;if(o&&!n.composedPath().includes(o)){let h=o;for(;h&&!n.composedPath().includes(h);){if(n.currentTarget=h,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const f=n.button===2;this.notifyTarget(n,f?"rightupoutside":"mouseupoutside")}h=h.parent}delete s.pressTargetsByButton[t.button],l=h}if(l){const h=this.clonePointerEvent(n,"click");h.target=l,h.path=null,s.clicksByButton[t.button]||(s.clicksByButton[t.button]={clickCount:0,target:h.target,timeStamp:e});const f=s.clicksByButton[t.button];if(f.target===h.target&&e-f.timeStamp<200?++f.clickCount:f.clickCount=1,f.target=h.target,f.timeStamp=e,h.detail=f.clickCount,h.pointerType==="mouse"){const d=h.button===2;this.dispatchEvent(h,d?"rightclick":"click")}else h.pointerType==="touch"&&this.dispatchEvent(h,"tap");this.dispatchEvent(h,"pointertap"),this.freeEvent(h)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),n=this.findMountedTarget(e.pressTargetsByButton[t.button]),s=this.createPointerEvent(t);if(n){let o=n;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(s)}mapWheel(t){if(!(t instanceof Pa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let n=1;n<t.length&&t[n].parent===e;n++)e=t[n];return e}createPointerEvent(t,e,n){const s=this.allocateEvent(ji);return this.copyPointerData(t,s),this.copyMouseData(t,s),this.copyData(t,s),s.nativeEvent=t.nativeEvent,s.originalEvent=t,s.target=n??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof e=="string"&&(s.type=e),s}createWheelEvent(t){const e=this.allocateEvent(Pa);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const n=this.allocateEvent(ji);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=e??n.type,n}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof ji&&e instanceof ji&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof jh&&e instanceof jh&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const n=t.currentTarget._events[e];if(n&&t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(e,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let s=0,o=n.length;s<o&&!t.propagationImmediatelyStopped;s++)n[s].once&&t.currentTarget.removeListener(e,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,t)}}const mT=1,gT={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Zp=class Kp{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new pT(null),Br.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ji(null),this.rootWheelEvent=new Pa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Kp.defaultEventFeatures},{set:(e,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),e[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n,Kp._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.domElement.style,n);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,s=e.length;n<s;n++){const o=e[n],l=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Br.pointerMoved();const e=this.normalizeToPointerData(t);for(let n=0,s=e.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,e[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const n=e!==this.domElement?"outside":"",s=this.normalizeToPointerData(t);for(let o=0,l=s.length;o<l;o++){const h=this.bootstrapEvent(this.rootPointerEvent,s[o]);h.type+=n,this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let n=0,s=e.length;n<s;n++){const o=this.bootstrapEvent(this.rootPointerEvent,e[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Br.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Br.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Br.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(e-s.left)*(this.domElement.width/s.width)*o,t.y=(n-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,s=t.changedTouches.length;n<s;n++){const o=t.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,e.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=mT),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,e.push(n)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=gT[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};Zp.extension={name:"events",type:[mt.RendererSystem,mt.CanvasRendererSystem]},Zp.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Qp=Zp;At.add(Qp);function X4(i){return i==="dynamic"||i==="static"}const yT={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??X4(Qp.defaultEventMode)},set interactive(i){Gt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=i,this.eventMode=i?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Qp.defaultEventMode},set eventMode(i){this._internalInteractive=X4(i),this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,t,e){const n=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,s=typeof e=="object"?e.signal:void 0,o=typeof e=="object"?e.once===!0:!1,l=typeof t=="function"?void 0:t;i=n?`${i}capture`:i;const h=typeof t=="function"?t:t.handleEvent,f=this;s&&s.addEventListener("abort",()=>{f.off(i,h,l)}),o?f.once(i,h,l):f.on(i,h,l)},removeEventListener(i,t,e){const n=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,s=typeof t=="function"?void 0:t;i=n?`${i}capture`:i,t=typeof t=="function"?t:t.handleEvent,this.off(i,t,s)},dispatchEvent(i){if(!(i instanceof Tl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};he.mixin(yT);const vT={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};he.mixin(vT);const _T=9,th=100,xT=0,bT=0,V4=2,Y4=1,TT=-1e3,ET=-1e3,AT=2;class f6{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Vn.tablet||Vn.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width=`${th}px`,e.style.height=`${th}px`,e.style.position="absolute",e.style.top=`${xT}px`,e.style.left=`${bT}px`,e.style.zIndex=V4.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${Y4}px`,t.style.height=`${Y4}px`,t.style.position="absolute",t.style.top=`${TT}px`,t.style.left=`${ET}px`,t.style.zIndex=AT.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}update(){const t=performance.now();if(Vn.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:n,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:l,height:h,resolution:f}=this.renderer,d=s/l*f,p=o/h*f;let g=this.div;g.style.left=`${e}px`,g.style.top=`${n}px`,g.style.width=`${l}px`,g.style.height=`${h}px`;for(let v=0;v<this.children.length;v++){const _=this.children[v];if(_.renderId!==this.renderId)_._accessibleActive=!1,Ia(this.children,v,1),this.div.removeChild(_._accessibleDiv),this.pool.push(_._accessibleDiv),_._accessibleDiv=null,v--;else{g=_._accessibleDiv;let x=_.hitArea;const b=_.worldTransform;_.hitArea?(g.style.left=`${(b.tx+x.x*b.a)*d}px`,g.style.top=`${(b.ty+x.y*b.d)*p}px`,g.style.width=`${x.width*b.a*d}px`,g.style.height=`${x.height*b.d*p}px`):(x=_.getBounds(),this.capHitArea(x),g.style.left=`${x.x*d}px`,g.style.top=`${x.y*p}px`,g.style.width=`${x.width*d}px`,g.style.height=`${x.height*p}px`,g.title!==_.accessibleTitle&&_.accessibleTitle!==null&&(g.title=_.accessibleTitle),g.getAttribute("aria-label")!==_.accessibleHint&&_.accessibleHint!==null&&g.setAttribute("aria-label",_.accessibleHint)),(_.accessibleTitle!==g.title||_.tabIndex!==g.tabIndex)&&(g.title=_.accessibleTitle,g.tabIndex=_.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:n}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>n&&(t.height=n-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=`${th}px`,e.style.height=`${th}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=V4.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:n}=t.target,s=this.renderer.events.rootBoundary,o=Object.assign(new Tl(s),{target:n});s.rootTarget=this.renderer.lastObjectRendered,e.forEach(l=>s.dispatchEvent(o,l))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===_T&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}f6.extension={name:"accessibility",type:[mt.RendererPlugin,mt.CanvasRendererPlugin]};At.add(f6);const d6=class Jp{constructor(t){this.stage=new gi,t=Object.assign({forceCanvas:!1},t),this.renderer=i6(t),Jp._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,e){const n=Jp._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};d6._plugins=[];let ST=d6;At.handleByList(mt.Application,ST._plugins);class p6{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let e,n;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;e=s,n=o}this.renderer.resize(e,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}p6.extension=mt.Application;At.add(p6);const q4={loader:mt.LoadParser,resolver:mt.ResolveParser,cache:mt.CacheParser,detection:mt.DetectionParser};At.handle(mt.Asset,i=>{const t=i.ref;Object.entries(q4).filter(([e])=>!!t[e]).forEach(([e,n])=>At.add(Object.assign(t[e],{extension:t[e].extension??n})))},i=>{const t=i.ref;Object.keys(q4).filter(e=>!!t[e]).forEach(e=>At.remove(t[e]))});class wT{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<e;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function Za(i,t){if(Array.isArray(t)){for(const e of t)if(i.startsWith(`data:${e}`))return!0;return!1}return i.startsWith(`data:${t}`)}function Gr(i,t){const e=i.split("?")[0],n=De.extname(e).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const Vi=(i,t,e=!1)=>(Array.isArray(i)||(i=[i]),t?i.map(n=>typeof n=="string"||e?t(n):n):i),t1=(i,t)=>{const e=t.split("?")[1];return e&&(i+=`?${e}`),i};function m6(i,t,e,n,s){const o=t[e];for(let l=0;l<o.length;l++){const h=o[l];e<t.length-1?m6(i.replace(n[e],h),t,e+1,n,s):s.push(i.replace(n[e],h))}}function CT(i){const t=/\{(.*?)\}/g,e=i.match(t),n=[];if(e){const s=[];e.forEach(o=>{const l=o.substring(1,o.length-1).split(",");s.push(l)}),m6(i,s,0,e,n)}else n.push(i);return n}const Xh=i=>!Array.isArray(i);class MT{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const n=Vi(t);let s;for(let h=0;h<this.parsers.length;h++){const f=this.parsers[h];if(f.test(e)){s=f.getCacheableAssets(n,e);break}}s||(s={},n.forEach(h=>{s[h]=e}));const o=Object.keys(s),l={cacheKeys:o,keys:n};if(n.forEach(h=>{this._cacheMap.set(h,l)}),o.forEach(h=>{const f=s?s[h]:e;this._cache.has(h)&&this._cache.get(h)!==f&&console.warn("[Cache] already has key:",h),this._cache.set(h,s[h])}),e instanceof pt){const h=e;n.forEach(f=>{h.baseTexture!==pt.EMPTY.baseTexture&&Pt.addToCache(h.baseTexture,f),pt.addToCache(h,f)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(n=>{this._cache.delete(n)}),e.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const bs=new MT;class RT{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,n)=>(this._parsersValidated=!1,t[e]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const n={promise:null,parser:null};return n.promise=(async()=>{let s=null,o=null;if(e.loadParser&&(o=this._parserHash[e.loadParser],o||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!o){for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];if(h.load&&h.test?.(t,e,this)){o=h;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await o.load(t,e,this),n.parser=o;for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];h.parse&&h.parse&&await h.testParse?.(s,e,this)&&(s=await h.parse(s,e,this)||s,n.parser=h)}return s})(),n}async load(t,e){this._parsersValidated||this._validateParsers();let n=0;const s={},o=Xh(t),l=Vi(t,d=>({alias:[d],src:d})),h=l.length,f=l.map(async d=>{const p=De.toAbsolute(d.src);if(!s[d.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,d)),s[d.src]=await this.promiseCache[p].promise,e&&e(++n/h)}catch(g){throw delete this.promiseCache[p],delete s[d.src],new Error(`[Loader.load] Failed to load ${p}.
${g}`)}});return await Promise.all(f),o?s[l[0].src]:s}async unload(t){const e=Vi(t,n=>({alias:[n],src:n})).map(async n=>{const s=De.toAbsolute(n.src),o=this.promiseCache[s];if(o){const l=await o.promise;delete this.promiseCache[s],o.parser?.unload?.(l,n,this)}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e}),{})}}var Wi=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(Wi||{});const DT=".json",OT="application/json",BT={extension:{type:mt.LoadParser,priority:Wi.Low},name:"loadJson",test(i){return Za(i,OT)||Gr(i,DT)},async load(i){return await(await yt.ADAPTER.fetch(i)).json()}};At.add(BT);const IT=".txt",NT="text/plain",PT={name:"loadTxt",extension:{type:mt.LoadParser,priority:Wi.Low},test(i){return Za(i,NT)||Gr(i,IT)},async load(i){return await(await yt.ADAPTER.fetch(i)).text()}};At.add(PT);const LT=["normal","bold","100","200","300","400","500","600","700","800","900"],UT=[".ttf",".otf",".woff",".woff2"],FT=["font/ttf","font/otf","font/woff","font/woff2"],kT=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function zT(i){const t=De.extname(i),e=De.basename(i,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=e.length>0;for(const o of e)if(!o.match(kT)){n=!1;break}let s=e.join(" ");return n||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const GT=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function HT(i){return GT.test(i)?i:encodeURI(i)}const jT={extension:{type:mt.LoadParser,priority:Wi.Low},name:"loadWebFont",test(i){return Za(i,FT)||Gr(i,UT)},async load(i,t){const e=yt.ADAPTER.getFontFaceSet();if(e){const n=[],s=t.data?.family??zT(i),o=t.data?.weights?.filter(h=>LT.includes(h))??["normal"],l=t.data??{};for(let h=0;h<o.length;h++){const f=o[h],d=new FontFace(s,`url(${HT(i)})`,{...l,weight:f});await d.load(),e.add(d),n.push(d)}return n.length===1?n[0]:n}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(t=>yt.ADAPTER.getFontFaceSet().delete(t))}};At.add(jT);const XT=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let La=null,e1=class{constructor(){La||(La=URL.createObjectURL(new Blob([XT],{type:"application/javascript"}))),this.worker=new Worker(La)}};e1.revokeObjectURL=function(){La&&(URL.revokeObjectURL(La),La=null)};const VT=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Ua=null;class g6{constructor(){Ua||(Ua=URL.createObjectURL(new Blob([VT],{type:"application/javascript"}))),this.worker=new Worker(Ua)}}g6.revokeObjectURL=function(){Ua&&(URL.revokeObjectURL(Ua),Ua=null)};let $4=0,sp;class YT{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new e1;e.addEventListener("message",n=>{e.terminate(),e1.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){sp===void 0&&(sp=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<sp&&(this._createdWorkers++,t=new g6().worker,t.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const n=new Promise((s,o)=>{this.queue.push({id:t,arguments:e,resolve:s,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),n=e.id;this.resolveHash[$4]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:$4++,id:n})}}const W4=new YT;function El(i,t,e){i.resource.internal=!0;const n=new pt(i),s=()=>{delete t.promiseCache[e],bs.has(e)&&bs.remove(e)};return n.baseTexture.once("destroyed",()=>{e in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{i.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const qT=[".jpeg",".jpg",".png",".webp",".avif"],$T=["image/jpeg","image/png","image/webp","image/avif"];async function WT(i){const t=await yt.ADAPTER.fetch(i);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const vc={name:"loadTextures",extension:{type:mt.LoadParser,priority:Wi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return Za(i,$T)||Gr(i,qT)},async load(i,t,e){const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await W4.isImageBitmapSupported()?s=await W4.loadImageBitmap(i):s=await WT(i):s=await new Promise((h,f)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=i,d.complete?h(d):(d.onload=()=>h(d),d.onerror=p=>f(p))});const o={...t.data};o.resolution??(o.resolution=Wn(i)),n&&o.resourceOptions?.ownsImageBitmap===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const l=new Pt(s,o);return l.resource.src=i,El(l,e,i)},unload(i){i.destroy(!0)}};At.add(vc);const ZT=".svg",KT="image/svg+xml",QT={extension:{type:mt.LoadParser,priority:Wi.High},name:"loadSVG",test(i){return Za(i,KT)||Gr(i,ZT)},async testParse(i){return Xp.test(i)},async parse(i,t,e){const n=new Xp(i,t?.data?.resourceOptions);await n.load();const s=new Pt(n,{resolution:Wn(i),...t?.data});return s.resource.src=t.src,El(s,e,t.src)},async load(i,t){return(await yt.ADAPTER.fetch(i)).text()},unload:vc.unload};At.add(QT);const JT=[".mp4",".m4v",".webm",".ogv"],tE=["video/mp4","video/webm","video/ogg"],eE={name:"loadVideo",extension:{type:mt.LoadParser,priority:Wi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(i){return Za(i,tE)||Gr(i,JT)},async load(i,t,e){let n;const s=await(await yt.ADAPTER.fetch(i)).blob(),o=URL.createObjectURL(s);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...t?.data?.resourceOptions,autoLoad:!0},h=new u6(o,l);await h.load();const f=new Pt(h,{alphaMode:await o9(),resolution:Wn(i),...t?.data});f.resource.src=i,n=El(f,e,i),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(l){throw URL.revokeObjectURL(o),l}return n},unload(i){i.destroy(!0)}};At.add(eE);class iE{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`).join("&")}}getAlias(t){const{alias:e,name:n,src:s,srcs:o}=t;return Vi(e||n||s||o,l=>typeof l=="string"?l:Array.isArray(l)?l.map(h=>h?.src??h?.srcs??h):l?.src||l?.srcs?l.src??l.srcs:l,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const n=[];Array.isArray(e)?e.forEach(s=>{const o=s.src??s.srcs,l=s.alias??s.name;let h;if(typeof l=="string"){const f=this._createBundleAssetId(t,l);n.push(f),h=[l,f]}else{const f=l.map(d=>this._createBundleAssetId(t,d));n.push(...f),h=[...l,...f]}this.add({...s,alias:h,src:o})}):Object.keys(e).forEach(s=>{const o=[s,this._createBundleAssetId(t,s)];if(typeof e[s]=="string")this.add({alias:o,src:e[s]});else if(Array.isArray(e[s]))this.add({alias:o,src:e[s]});else{const l=e[s],h=l.src??l.srcs;this.add({...l,alias:o,src:Array.isArray(h)?h:[h]})}n.push(...o)}),this._bundles[t]=n}add(t,e,n,s,o){const l=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(Gt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),l.push({alias:t,src:e,data:n,format:s,loadParser:o})):Array.isArray(t)?l.push(...t):l.push(t);let h;h=f=>{this.hasKey(f)&&console.warn(`[Resolver] already has key: ${f} overwriting`)},Vi(l).forEach(f=>{const{src:d,srcs:p}=f;let{data:g,format:v,loadParser:_}=f;const x=Vi(d||p).map(A=>typeof A=="string"?CT(A):Array.isArray(A)?A:[A]),b=this.getAlias(f);Array.isArray(b)?b.forEach(h):h(b);const E=[];x.forEach(A=>{A.forEach(I=>{let C={};if(typeof I!="object"){C.src=I;for(let N=0;N<this._parsers.length;N++){const R=this._parsers[N];if(R.test(I)){C=R.parse(I);break}}}else g=I.data??g,v=I.format??v,_=I.loadParser??_,C={...C,...I};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${C.src}`);C=this.buildResolvedAsset(C,{aliases:b,data:g,format:v,loadParser:_}),E.push(C)})}),b.forEach(A=>{this._assetMap[A]=E})})}resolveBundle(t){const e=Xh(t);t=Vi(t);const n={};return t.forEach(s=>{const o=this._bundles[s];if(o){const l=this.resolve(o),h={};for(const f in l){const d=l[f];h[this._extractAssetIdFromBundle(s,f)]=d}n[s]=h}}),e?n[t[0]]:n}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const n={};for(const s in e)n[s]=e[s].src;return n}return e.src}resolve(t){const e=Xh(t);t=Vi(t);const n={};return t.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let o=this._assetMap[s];const l=o[0],h=this._getPreferredOrder(o);h?.priority.forEach(f=>{h.params[f].forEach(d=>{const p=o.filter(g=>g[f]?g[f]===d:!1);p.length&&(o=p)})}),this._resolverHash[s]=o[0]??l}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),e?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const n=t[0],s=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}buildResolvedAsset(t,e){const{aliases:n,data:s,loadParser:o,format:l}=e;return(this._basePath||this._rootPath)&&(t.src=De.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...s||{},...t.data},t.loadParser=o??t.loadParser,t.format=l??t.format??De.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class nE{constructor(){this._detections=[],this._initialized=!1,this.resolver=new iE,this.loader=new RT,this.cache=bs,this._backgroundLoader=new wT(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let o=t.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const e=t.texturePreference?.resolution??1,n=typeof e=="number"?[e]:e,s=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,n,s,o){this.resolver.add(t,e,n,s,o)}async load(t,e){this._initialized||await this.init();const n=Xh(t),s=Vi(t).map(h=>{if(typeof h!="string"){const f=this.resolver.getAlias(h);return f.some(d=>!this.resolver.hasKey(d))&&this.add(h),Array.isArray(f)?f[0]:f}return this.resolver.hasKey(h)||this.add({alias:h,src:h}),h}),o=this.resolver.resolve(s),l=await this._mapLoadToResolve(o,e);return n?l[s[0]]:l}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const s=this.resolver.resolveBundle(t),o={},l=Object.keys(s);let h=0,f=0;const d=()=>{e?.(++h/f)},p=l.map(g=>{const v=s[g];return f+=Object.keys(v).length,this._mapLoadToResolve(v,d).then(_=>{o[g]=_})});return await Promise.all(p),n?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return bs.get(t);const e={};for(let n=0;n<t.length;n++)e[n]=bs.get(t[n]);return e}async _mapLoadToResolve(t,e){const n=Object.values(t),s=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(n,e);this._backgroundLoader.active=!0;const l={};return n.forEach((h,f)=>{const d=o[h.src],p=[h.src];h.alias&&p.push(...h.alias),l[s[f]]=d,bs.set(p,d)}),l}async unload(t){this._initialized||await this.init();const e=Vi(t).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(e);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=Vi(t);const e=this.resolver.resolveBundle(t),n=Object.keys(e).map(s=>this._unloadFromResolved(e[s]));await Promise.all(n)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(n=>{bs.remove(n.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?e=await n.add(e):t.skipDetections||(e=await n.remove(e));return e=e.filter((n,s)=>e.indexOf(n)===s),e}get detections(){return this._detections}get preferWorkers(){return vc.config.preferWorkers}set preferWorkers(t){Gt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(n=>n in t).forEach(n=>{e.config[n]=t[n]})})}}const eh=new nE;At.handleByList(mt.LoadParser,eh.loader.parsers).handleByList(mt.ResolveParser,eh.resolver.parsers).handleByList(mt.CacheParser,eh.cache.parsers).handleByList(mt.DetectionParser,eh.detections);const rE={extension:mt.CacheParser,test:i=>Array.isArray(i)&&i.every(t=>t instanceof pt),getCacheableAssets:(i,t)=>{const e={};return i.forEach(n=>{t.forEach((s,o)=>{e[n+(o===0?"":o+1)]=s})}),e}};At.add(rE);async function y6(i){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(i)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const sE={extension:{type:mt.DetectionParser,priority:1},test:async()=>y6("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(t=>t!=="avif")};At.add(sE);const aE={extension:{type:mt.DetectionParser,priority:0},test:async()=>y6("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(t=>t!=="webp")};At.add(aE);const Z4=["png","jpg","jpeg"],oE={extension:{type:mt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...Z4],remove:async i=>i.filter(t=>!Z4.includes(t))};At.add(oE);const lE="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function U1(i){return lE?!1:document.createElement("video").canPlayType(i)!==""}const uE={extension:{type:mt.DetectionParser,priority:0},test:async()=>U1("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(t=>t!=="webm")};At.add(uE);const hE={extension:{type:mt.DetectionParser,priority:0},test:async()=>U1("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(t=>t!=="mp4"&&t!=="m4v")};At.add(hE);const cE={extension:{type:mt.DetectionParser,priority:0},test:async()=>U1("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(t=>t!=="ogv")};At.add(cE);const fE={extension:mt.ResolveParser,test:vc.test,parse:i=>({resolution:parseFloat(yt.RETINA_PREFIX.exec(i)?.[1]??"1"),format:De.extname(i).slice(1),src:i})};At.add(fE);var Fe=(i=>(i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",i[i.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",i[i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",i[i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",i[i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",i))(Fe||{});const Vh={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let on,Sa;function K4(){Sa={bptc:on.getExtension("EXT_texture_compression_bptc"),astc:on.getExtension("WEBGL_compressed_texture_astc"),etc:on.getExtension("WEBGL_compressed_texture_etc"),s3tc:on.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:on.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:on.getExtension("WEBGL_compressed_texture_pvrtc")||on.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:on.getExtension("WEBGL_compressed_texture_etc1"),atc:on.getExtension("WEBGL_compressed_texture_atc")}}const dE={extension:{type:mt.DetectionParser,priority:2},test:async()=>{const i=yt.ADAPTER.createCanvas().getContext("webgl");return i?(on=i,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async i=>{Sa||K4();const t=[];for(const e in Sa)Sa[e]&&t.push(e);return[...t,...i]},remove:async i=>(Sa||K4(),i.filter(t=>!(t in Sa)))};At.add(dE);class pE extends fc{constructor(t,e={width:1,height:1,autoLoad:!0}){let n,s;typeof t=="string"?(n=t,s=new Uint8Array):(n=null,s=t),super(s,e),this.origin=n,this.buffer=s?new Op(s):null,this._load=null,this.loaded=!1,this.origin!==null&&e.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new Op(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class Ss extends pE{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=Ss._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||Ss._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,n){const s=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,l=this.levels;o<l;o++){const{levelID:h,levelWidth:f,levelHeight:d,levelBuffer:p}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,h,this.format,f,d,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Ss._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,n,s,o,l,h){const f=new Array(n);let d=t.byteOffset,p=l,g=h,v=p+s-1&~(s-1),_=g+o-1&~(o-1),x=v*_*Vh[e];for(let b=0;b<n;b++)f[b]={levelID:b,levelWidth:n>1?p:v,levelHeight:n>1?g:_,levelBuffer:new Uint8Array(t.buffer,d,x)},d+=x,p=p>>1||1,g=g>>1||1,v=p+s-1&~(s-1),_=g+o-1&~(o-1),x=v*_*Vh[e];return f}}const ap=4,ih=124,mE=32,Q4=20,gE=542327876,nh={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},yE={FOURCC:2},rh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},vE=1,_E=2,xE=4,bE=64,TE=512,EE=131072,AE=827611204,SE=861165636,wE=894720068,CE=808540228,ME=4,RE={[AE]:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,[SE]:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,[wE]:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT},DE={70:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Fe.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Fe.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Fe.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Fe.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function OE(i){const t=new Uint32Array(i);if(t[0]!==gE)throw new Error("Invalid DDS file magic word");const e=new Uint32Array(i,0,ih/Uint32Array.BYTES_PER_ELEMENT),n=e[nh.HEIGHT],s=e[nh.WIDTH],o=e[nh.MIPMAP_COUNT],l=new Uint32Array(i,nh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,mE/Uint32Array.BYTES_PER_ELEMENT),h=l[vE];if(h&xE){const f=l[yE.FOURCC];if(f!==CE){const I=RE[f],C=ap+ih,N=new Uint8Array(i,C);return[new Ss(N,{format:I,width:s,height:n,levels:o})]}const d=ap+ih,p=new Uint32Array(t.buffer,d,Q4/Uint32Array.BYTES_PER_ELEMENT),g=p[rh.DXGI_FORMAT],v=p[rh.RESOURCE_DIMENSION],_=p[rh.MISC_FLAG],x=p[rh.ARRAY_SIZE],b=DE[g];if(b===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${g}`);if(_===ME)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,A=ap+ih+Q4;if(x===1)E.push(new Uint8Array(i,A));else{const I=Vh[b];let C=0,N=s,R=n;for(let D=0;D<o;D++){const X=Math.max(1,N+3&-4),J=Math.max(1,R+3&-4),rt=X*J*I;C+=rt,N=N>>>1,R=R>>>1}let F=A;for(let D=0;D<x;D++)E.push(new Uint8Array(i,F,C)),F+=C}return E.map(I=>new Ss(I,{format:b,width:s,height:n,levels:o}))}throw h&bE?new Error("DDSParser does not support uncompressed texture data."):h&TE?new Error("DDSParser does not supported YUV uncompressed texture data."):h&EE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):h&_E?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const J4=[171,75,84,88,32,49,49,187,13,10,26,10],BE=67305985,ki={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},i1=64,t3={[wt.UNSIGNED_BYTE]:1,[wt.UNSIGNED_SHORT]:2,[wt.INT]:4,[wt.UNSIGNED_INT]:4,[wt.FLOAT]:4,[wt.HALF_FLOAT]:8},IE={[ct.RGBA]:4,[ct.RGB]:3,[ct.RG]:2,[ct.RED]:1,[ct.LUMINANCE]:1,[ct.LUMINANCE_ALPHA]:2,[ct.ALPHA]:1},NE={[wt.UNSIGNED_SHORT_4_4_4_4]:2,[wt.UNSIGNED_SHORT_5_5_5_1]:2,[wt.UNSIGNED_SHORT_5_6_5]:2};function PE(i,t,e=!1){const n=new DataView(t);if(!LE(i,n))return null;const s=n.getUint32(ki.ENDIANNESS,!0)===BE,o=n.getUint32(ki.GL_TYPE,s),l=n.getUint32(ki.GL_FORMAT,s),h=n.getUint32(ki.GL_INTERNAL_FORMAT,s),f=n.getUint32(ki.PIXEL_WIDTH,s),d=n.getUint32(ki.PIXEL_HEIGHT,s)||1,p=n.getUint32(ki.PIXEL_DEPTH,s)||1,g=n.getUint32(ki.NUMBER_OF_ARRAY_ELEMENTS,s)||1,v=n.getUint32(ki.NUMBER_OF_FACES,s),_=n.getUint32(ki.NUMBER_OF_MIPMAP_LEVELS,s),x=n.getUint32(ki.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||p!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(g!==1)throw new Error("WebGL does not support array textures");const b=4,E=4,A=f+3&-4,I=d+3&-4,C=new Array(g);let N=f*d;o===0&&(N=A*I);let R;if(o!==0?t3[o]?R=t3[o]*IE[l]:R=NE[o]:R=Vh[h],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const F=e?FE(n,x,s):null;let D=N*R,X=f,J=d,rt=A,q=I,H=i1+x;for(let W=0;W<_;W++){const L=n.getUint32(H,s);let nt=H+4;for(let S=0;S<g;S++){let M=C[S];M||(M=C[S]=new Array(_)),M[W]={levelID:W,levelWidth:_>1||o!==0?X:rt,levelHeight:_>1||o!==0?J:q,levelBuffer:new Uint8Array(t,nt,D)},nt+=D}H+=L+4,H=H%4!==0?H+4-H%4:H,X=X>>1||1,J=J>>1||1,rt=X+b-1&-4,q=J+E-1&-4,D=rt*q*R}return o!==0?{uncompressed:C.map(W=>{let L=W[0].levelBuffer,nt=!1;return o===wt.FLOAT?L=new Float32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4):o===wt.UNSIGNED_INT?(nt=!0,L=new Uint32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4)):o===wt.INT&&(nt=!0,L=new Int32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4)),{resource:new fc(L,{width:W[0].levelWidth,height:W[0].levelHeight}),type:o,format:nt?UE(l):l}}),kvData:F}:{compressed:C.map(W=>new Ss(null,{format:h,width:f,height:d,levels:_,levelBuffers:W})),kvData:F}}function LE(i,t){for(let e=0;e<J4.length;e++)if(t.getUint8(e)!==J4[e])return console.error(`${i} is not a valid *.ktx file!`),!1;return!0}function UE(i){switch(i){case ct.RGBA:return ct.RGBA_INTEGER;case ct.RGB:return ct.RGB_INTEGER;case ct.RG:return ct.RG_INTEGER;case ct.RED:return ct.RED_INTEGER;default:return i}}function FE(i,t,e){const n=new Map;let s=0;for(;s<t;){const o=i.getUint32(i1+s,e),l=i1+s+4,h=3-(o+3)%4;if(o===0||o>t-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let f=0;for(;f<o&&i.getUint8(l+f)!==0;f++);if(f===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(i.buffer,l,f)),p=new DataView(i.buffer,l+f+1,o-f-1);n.set(d,p),s+=4+o+h}return n}const kE={extension:{type:mt.LoadParser,priority:Wi.High},name:"loadDDS",test(i){return Gr(i,".dds")},async load(i,t,e){const n=await(await yt.ADAPTER.fetch(i)).arrayBuffer(),s=OE(n).map(o=>{const l=new Pt(o,{mipmap:gn.OFF,alphaMode:ei.NO_PREMULTIPLIED_ALPHA,resolution:Wn(i),...t.data});return El(l,e,i)});return s.length===1?s[0]:s},unload(i){Array.isArray(i)?i.forEach(t=>t.destroy(!0)):i.destroy(!0)}};At.add(kE);const zE={extension:{type:mt.LoadParser,priority:Wi.High},name:"loadKTX",test(i){return Gr(i,".ktx")},async load(i,t,e){const n=await(await yt.ADAPTER.fetch(i)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:l}=PE(i,n),h=s??o,f={mipmap:gn.OFF,alphaMode:ei.NO_PREMULTIPLIED_ALPHA,resolution:Wn(i),...t.data},d=h.map(p=>{h===o&&Object.assign(f,{type:p.type,format:p.format});const g=p.resource??p,v=new Pt(g,f);return v.ktxKeyValueData=l,El(v,e,i)});return d.length===1?d[0]:d},unload(i){Array.isArray(i)?i.forEach(t=>t.destroy(!0)):i.destroy(!0)}};At.add(zE);const GE=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],HE={extension:mt.ResolveParser,test:i=>{const t=De.extname(i).slice(1);return["basis","ktx","dds"].includes(t)},parse:i=>{const t=i.split("."),e=t.pop();if(["ktx","dds"].includes(e)){const n=t.pop();if(GE.includes(n))return{resolution:parseFloat(yt.RETINA_PREFIX.exec(i)?.[1]??"1"),format:n,src:i}}return{resolution:parseFloat(yt.RETINA_PREFIX.exec(i)?.[1]??"1"),format:e,src:i}}};At.add(HE);const sh=new Ot,jE=4,v6=class ll{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,n,s){const o=new Image;return o.src=await this.base64(t,e,n,s),o}async base64(t,e,n,s){const o=this.canvas(t,s);if(o.toBlob!==void 0)return new Promise((l,h)=>{o.toBlob(f=>{if(!f){h(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>l(d.result),d.onerror=h,d.readAsDataURL(f)},e,n)});if(o.toDataURL!==void 0)return o.toDataURL(e,n);if(o.convertToBlob!==void 0){const l=await o.convertToBlob({type:e,quality:n});return new Promise((h,f)=>{const d=new FileReader;d.onload=()=>h(d.result),d.onerror=f,d.readAsDataURL(l)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:s,height:o,flipY:l,premultipliedAlpha:h}=this._rawPixels(t,e);l&&ll._flipY(n,s,o),h&&ll._unpremultiplyAlpha(n);const f=new E9(s,o,1),d=new ImageData(new Uint8ClampedArray(n.buffer),s,o);return f.context.putImageData(d,0,0),f.canvas}pixels(t,e){const{pixels:n,width:s,height:o,flipY:l,premultipliedAlpha:h}=this._rawPixels(t,e);return l&&ll._flipY(n,s,o),h&&ll._unpremultiplyAlpha(n),n}_rawPixels(t,e){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let s,o=!1,l=!1,h,f=!1;t&&(t instanceof Os?h=t:(h=n.generateTexture(t,{region:e,resolution:n.resolution,multisample:n.multisample}),f=!0,e&&(sh.width=e.width,sh.height=e.height,e=sh)));const d=n.gl;if(h){if(s=h.baseTexture.resolution,e=e??h.frame,o=!1,l=h.baseTexture.alphaMode>0&&h.baseTexture.format===ct.RGBA,!f){n.renderTexture.bind(h);const _=h.framebuffer.glFramebuffers[n.CONTEXT_UID];_.blitFramebuffer&&n.framebuffer.bind(_.blitFramebuffer)}}else s=n.resolution,e||(e=sh,e.width=n.width/s,e.height=n.height/s),o=!0,l=this._rendererPremultipliedAlpha,n.renderTexture.bind();const p=Math.max(Math.round(e.width*s),1),g=Math.max(Math.round(e.height*s),1),v=new Uint8Array(jE*p*g);return d.readPixels(Math.round(e.x*s),Math.round(e.y*s),p,g,d.RGBA,d.UNSIGNED_BYTE,v),f&&h?.destroy(!0),{pixels:v,width:p,height:g,flipY:o,premultipliedAlpha:l}}destroy(){this.renderer=null}static _flipY(t,e,n){const s=e<<2,o=n>>1,l=new Uint8Array(s);for(let h=0;h<o;h++){const f=h*s,d=(n-h-1)*s;l.set(t.subarray(f,f+s)),t.copyWithin(f,d,d+s),t.set(l,d)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let n=0;n<e;n+=4){const s=t[n+3];if(s!==0){const o=255.001/s;t[n]=t[n]*o+.5,t[n+1]=t[n+1]*o+.5,t[n+2]=t[n+2]*o+.5}}}};v6.extension={name:"extract",type:mt.RendererSystem};let XE=v6;At.add(XE);const Yh={build(i){const t=i.points;let e,n,s,o,l,h;if(i.type===ke.CIRC){const x=i.shape;e=x.x,n=x.y,l=h=x.radius,s=o=0}else if(i.type===ke.ELIP){const x=i.shape;e=x.x,n=x.y,l=x.width,h=x.height,s=o=0}else{const x=i.shape,b=x.width/2,E=x.height/2;e=x.x+b,n=x.y+E,l=h=Math.max(0,Math.min(x.radius,Math.min(b,E))),s=b-l,o=E-h}if(!(l>=0&&h>=0&&s>=0&&o>=0)){t.length=0;return}const f=Math.ceil(2.3*Math.sqrt(l+h)),d=f*8+(s?4:0)+(o?4:0);if(t.length=d,d===0)return;if(f===0){t.length=8,t[0]=t[6]=e+s,t[1]=t[3]=n+o,t[2]=t[4]=e-s,t[5]=t[7]=n-o;return}let p=0,g=f*4+(s?2:0)+2,v=g,_=d;{const x=s+l,b=o,E=e+x,A=e-x,I=n+b;if(t[p++]=E,t[p++]=I,t[--g]=I,t[--g]=A,o){const C=n-b;t[v++]=A,t[v++]=C,t[--_]=C,t[--_]=E}}for(let x=1;x<f;x++){const b=Math.PI/2*(x/f),E=s+Math.cos(b)*l,A=o+Math.sin(b)*h,I=e+E,C=e-E,N=n+A,R=n-A;t[p++]=I,t[p++]=N,t[--g]=N,t[--g]=C,t[v++]=C,t[v++]=R,t[--_]=R,t[--_]=I}{const x=s,b=o+h,E=e+x,A=e-x,I=n+b,C=n-b;t[p++]=E,t[p++]=I,t[--_]=C,t[--_]=E,s&&(t[p++]=A,t[p++]=I,t[--_]=C,t[--_]=A)}},triangulate(i,t){const e=i.points,n=t.points,s=t.indices;if(e.length===0)return;let o=n.length/2;const l=o;let h,f;if(i.type!==ke.RREC){const p=i.shape;h=p.x,f=p.y}else{const p=i.shape;h=p.x+p.width/2,f=p.y+p.height/2}const d=i.matrix;n.push(i.matrix?d.a*h+d.c*f+d.tx:h,i.matrix?d.b*h+d.d*f+d.ty:f),o++,n.push(e[0],e[1]);for(let p=2;p<e.length;p+=2)n.push(e[p],e[p+1]),s.push(o++,l,o);s.push(l+1,l,o)}};function e3(i,t=!1){const e=i.length;if(e<6)return;let n=0;for(let s=0,o=i[e-2],l=i[e-1];s<e;s+=2){const h=i[s],f=i[s+1];n+=(h-o)*(f+l),o=h,l=f}if(!t&&n>0||t&&n<=0){const s=e/2;for(let o=s+s%2;o<e;o+=2){const l=e-o-2,h=e-o-1,f=o,d=o+1;[i[l],i[f]]=[i[f],i[l]],[i[h],i[d]]=[i[d],i[h]]}}}const _6={build(i){i.points=i.shape.points.slice()},triangulate(i,t){let e=i.points;const n=i.holes,s=t.points,o=t.indices;if(e.length>=6){e3(e,!1);const l=[];for(let d=0;d<n.length;d++){const p=n[d];e3(p.points,!0),l.push(e.length/2),e=e.concat(p.points)}const h=b8(e,l,2);if(!h)return;const f=s.length/2;for(let d=0;d<h.length;d+=3)o.push(h[d]+f),o.push(h[d+1]+f),o.push(h[d+2]+f);for(let d=0;d<e.length;d++)s.push(e[d])}}},VE={build(i){const t=i.shape,e=t.x,n=t.y,s=t.width,o=t.height,l=i.points;l.length=0,s>=0&&o>=0&&l.push(e,n,e+s,n,e+s,n+o,e,n+o)},triangulate(i,t){const e=i.points,n=t.points;if(e.length===0)return;const s=n.length/2;n.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},YE={build(i){Yh.build(i)},triangulate(i,t){Yh.triangulate(i,t)}};var Ri=(i=>(i.MITER="miter",i.BEVEL="bevel",i.ROUND="round",i))(Ri||{}),Nr=(i=>(i.BUTT="butt",i.ROUND="round",i.SQUARE="square",i))(Nr||{});const ka={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(i,t=20){if(!this.adaptive||!i||isNaN(i))return t;let e=Math.ceil(i/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}};class i3{static curveTo(t,e,n,s,o,l){const h=l[l.length-2],f=l[l.length-1]-e,d=h-t,p=s-e,g=n-t,v=Math.abs(f*g-d*p);if(v<1e-8||o===0)return(l[l.length-2]!==t||l[l.length-1]!==e)&&l.push(t,e),null;const _=f*f+d*d,x=p*p+g*g,b=f*p+d*g,E=o*Math.sqrt(_)/v,A=o*Math.sqrt(x)/v,I=E*b/_,C=A*b/x,N=E*g+A*d,R=E*p+A*f,F=d*(A+I),D=f*(A+I),X=g*(E+C),J=p*(E+C),rt=Math.atan2(D-R,F-N),q=Math.atan2(J-R,X-N);return{cx:N+t,cy:R+e,radius:o,startAngle:rt,endAngle:q,anticlockwise:d*p>g*f}}static arc(t,e,n,s,o,l,h,f,d){const p=h-l,g=ka._segmentsCount(Math.abs(p)*o,Math.ceil(Math.abs(p)/Uh)*40),v=p/(g*2),_=v*2,x=Math.cos(v),b=Math.sin(v),E=g-1,A=E%1/E;for(let I=0;I<=E;++I){const C=I+A*I,N=v+l+_*C,R=Math.cos(N),F=-Math.sin(N);d.push((x*R+b*F)*o+n,(x*-F+b*R)*o+s)}}}class qE{constructor(){this.reset()}begin(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class F1{static curveLength(t,e,n,s,o,l,h,f){let d=0,p=0,g=0,v=0,_=0,x=0,b=0,E=0,A=0,I=0,C=0,N=t,R=e;for(let F=1;F<=10;++F)p=F/10,g=p*p,v=g*p,_=1-p,x=_*_,b=x*_,E=b*t+3*x*p*n+3*_*g*o+v*h,A=b*e+3*x*p*s+3*_*g*l+v*f,I=N-E,C=R-A,N=E,R=A,d+=Math.sqrt(I*I+C*C);return d}static curveTo(t,e,n,s,o,l,h){const f=h[h.length-2],d=h[h.length-1];h.length-=2;const p=ka._segmentsCount(F1.curveLength(f,d,t,e,n,s,o,l));let g=0,v=0,_=0,x=0,b=0;h.push(f,d);for(let E=1,A=0;E<=p;++E)A=E/p,g=1-A,v=g*g,_=v*g,x=A*A,b=x*A,h.push(_*f+3*v*A*t+3*g*x*n+b*o,_*d+3*v*A*e+3*g*x*s+b*l)}}function n3(i,t,e,n,s,o,l,h){const f=i-e*s,d=t-n*s,p=i+e*o,g=t+n*o;let v,_;l?(v=n,_=-e):(v=-n,_=e);const x=f+v,b=d+_,E=p+v,A=g+_;return h.push(x,b,E,A),2}function cs(i,t,e,n,s,o,l,h){const f=e-i,d=n-t;let p=Math.atan2(f,d),g=Math.atan2(s-i,o-t);h&&p<g?p+=Math.PI*2:!h&&p>g&&(g+=Math.PI*2);let v=p;const _=g-p,x=Math.abs(_),b=Math.sqrt(f*f+d*d),E=(15*x*Math.sqrt(b)/Math.PI>>0)+1,A=_/E;if(v+=A,h){l.push(i,t,e,n);for(let I=1,C=v;I<E;I++,C+=A)l.push(i,t,i+Math.sin(C)*b,t+Math.cos(C)*b);l.push(i,t,s,o)}else{l.push(e,n,i,t);for(let I=1,C=v;I<E;I++,C+=A)l.push(i+Math.sin(C)*b,t+Math.cos(C)*b,i,t);l.push(s,o,i,t)}return E*2}function $E(i,t){const e=i.shape;let n=i.points||e.points.slice();const s=t.closePointEps;if(n.length===0)return;const o=i.lineStyle,l=new Lt(n[0],n[1]),h=new Lt(n[n.length-2],n[n.length-1]),f=e.type!==ke.POLY||e.closeStroke,d=Math.abs(l.x-h.x)<s&&Math.abs(l.y-h.y)<s;if(f){n=n.slice(),d&&(n.pop(),n.pop(),h.set(n[n.length-2],n[n.length-1]));const M=(l.x+h.x)*.5,O=(h.y+l.y)*.5;n.unshift(M,O),n.push(M,O)}const p=t.points,g=n.length/2;let v=n.length;const _=p.length/2,x=o.width/2,b=x*x,E=o.miterLimit*o.miterLimit;let A=n[0],I=n[1],C=n[2],N=n[3],R=0,F=0,D=-(I-N),X=A-C,J=0,rt=0,q=Math.sqrt(D*D+X*X);D/=q,X/=q,D*=x,X*=x;const H=o.alignment,W=(1-H)*2,L=H*2;f||(o.cap===Nr.ROUND?v+=cs(A-D*(W-L)*.5,I-X*(W-L)*.5,A-D*W,I-X*W,A+D*L,I+X*L,p,!0)+2:o.cap===Nr.SQUARE&&(v+=n3(A,I,D,X,W,L,!0,p))),p.push(A-D*W,I-X*W,A+D*L,I+X*L);for(let M=1;M<g-1;++M){A=n[(M-1)*2],I=n[(M-1)*2+1],C=n[M*2],N=n[M*2+1],R=n[(M+1)*2],F=n[(M+1)*2+1],D=-(I-N),X=A-C,q=Math.sqrt(D*D+X*X),D/=q,X/=q,D*=x,X*=x,J=-(N-F),rt=C-R,q=Math.sqrt(J*J+rt*rt),J/=q,rt/=q,J*=x,rt*=x;const O=C-A,z=I-N,U=C-R,w=F-N,P=O*U+z*w,k=z*U-w*O,V=k<0;if(Math.abs(k)<.001*Math.abs(P)){p.push(C-D*W,N-X*W,C+D*L,N+X*L),P>=0&&(o.join===Ri.ROUND?v+=cs(C,N,C-D*W,N-X*W,C-J*W,N-rt*W,p,!1)+4:v+=2,p.push(C-J*L,N-rt*L,C+J*W,N+rt*W));continue}const tt=(-D+A)*(-X+N)-(-D+C)*(-X+I),ot=(-J+R)*(-rt+N)-(-J+C)*(-rt+F),ut=(O*ot-U*tt)/k,ft=(w*tt-z*ot)/k,dt=(ut-C)*(ut-C)+(ft-N)*(ft-N),ht=C+(ut-C)*W,_t=N+(ft-N)*W,bt=C-(ut-C)*L,Dt=N-(ft-N)*L,Bt=Math.min(O*O+z*z,U*U+w*w),xt=V?W:L,Tt=Bt+xt*xt*b,ue=dt<=Tt;let ce=o.join;if(ce===Ri.MITER&&dt/b>E&&(ce=Ri.BEVEL),ue)switch(ce){case Ri.MITER:{p.push(ht,_t,bt,Dt);break}case Ri.BEVEL:{V?p.push(ht,_t,C+D*L,N+X*L,ht,_t,C+J*L,N+rt*L):p.push(C-D*W,N-X*W,bt,Dt,C-J*W,N-rt*W,bt,Dt),v+=2;break}case Ri.ROUND:{V?(p.push(ht,_t,C+D*L,N+X*L),v+=cs(C,N,C+D*L,N+X*L,C+J*L,N+rt*L,p,!0)+4,p.push(ht,_t,C+J*L,N+rt*L)):(p.push(C-D*W,N-X*W,bt,Dt),v+=cs(C,N,C-D*W,N-X*W,C-J*W,N-rt*W,p,!1)+4,p.push(C-J*W,N-rt*W,bt,Dt));break}}else{switch(p.push(C-D*W,N-X*W,C+D*L,N+X*L),ce){case Ri.MITER:{V?p.push(bt,Dt,bt,Dt):p.push(ht,_t,ht,_t),v+=2;break}case Ri.ROUND:{V?v+=cs(C,N,C+D*L,N+X*L,C+J*L,N+rt*L,p,!0)+2:v+=cs(C,N,C-D*W,N-X*W,C-J*W,N-rt*W,p,!1)+2;break}}p.push(C-J*W,N-rt*W,C+J*L,N+rt*L),v+=2}}A=n[(g-2)*2],I=n[(g-2)*2+1],C=n[(g-1)*2],N=n[(g-1)*2+1],D=-(I-N),X=A-C,q=Math.sqrt(D*D+X*X),D/=q,X/=q,D*=x,X*=x,p.push(C-D*W,N-X*W,C+D*L,N+X*L),f||(o.cap===Nr.ROUND?v+=cs(C-D*(W-L)*.5,N-X*(W-L)*.5,C-D*W,N-X*W,C+D*L,N+X*L,p,!1)+2:o.cap===Nr.SQUARE&&(v+=n3(C,N,D,X,W,L,!1,p)));const nt=t.indices,S=ka.epsilon*ka.epsilon;for(let M=_;M<v+_-2;++M)A=p[M*2],I=p[M*2+1],C=p[(M+1)*2],N=p[(M+1)*2+1],R=p[(M+2)*2],F=p[(M+2)*2+1],!(Math.abs(A*(N-F)+C*(F-I)+R*(I-N))<S)&&nt.push(M,M+1,M+2)}function WE(i,t){let e=0;const n=i.shape,s=i.points||n.points,o=n.type!==ke.POLY||n.closeStroke;if(s.length===0)return;const l=t.points,h=t.indices,f=s.length/2,d=l.length/2;let p=d;for(l.push(s[0],s[1]),e=1;e<f;e++)l.push(s[e*2],s[e*2+1]),h.push(p,p+1),p++;o&&h.push(p,d)}function r3(i,t){i.lineStyle.native?WE(i,t):$E(i,t)}class k1{static curveLength(t,e,n,s,o,l){const h=t-2*n+o,f=e-2*s+l,d=2*n-2*t,p=2*s-2*e,g=4*(h*h+f*f),v=4*(h*d+f*p),_=d*d+p*p,x=2*Math.sqrt(g+v+_),b=Math.sqrt(g),E=2*g*b,A=2*Math.sqrt(_),I=v/b;return(E*x+b*v*(x-A)+(4*_*g-v*v)*Math.log((2*b+I+x)/(I+A)))/(4*E)}static curveTo(t,e,n,s,o){const l=o[o.length-2],h=o[o.length-1],f=ka._segmentsCount(k1.curveLength(l,h,t,e,n,s));let d=0,p=0;for(let g=1;g<=f;++g){const v=g/f;d=l+(t-l)*v,p=h+(e-h)*v,o.push(d+(t+(n-t)*v-d)*v,p+(e+(s-e)*v-p)*v)}}}const op={[ke.POLY]:_6,[ke.CIRC]:Yh,[ke.ELIP]:Yh,[ke.RECT]:VE,[ke.RREC]:YE},s3=[],ah=[];class qh{constructor(t,e=null,n=null,s=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=s,this.type=t.type}clone(){return new qh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const xa=new Lt,x6=class b6 extends S_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Hh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ah.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),s3.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,s=null){const o=new qh(t,e,n,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new qh(t,null,null,e),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const s=e[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(t,xa):xa.copyFrom(t),s.shape.contains(xa.x,xa.y))){let o=!1;if(s.holes){for(let l=0;l<s.holes.length;l++)if(s.holes[l].shape.contains(xa.x,xa.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let f=this.shapeIndex;f<e.length;f++){this.shapeIndex++;const d=e[f],p=d.fillStyle,g=d.lineStyle;op[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(p.visible||g.visible)&&this.processHoles(d.holes);for(let v=0;v<2;v++){const _=v===0?p:g;if(!_.visible)continue;const x=_.texture.baseTexture,b=this.indices.length,E=this.points.length/2;x.wrapMode=mi.REPEAT,v===0?this.processFill(d):this.processLine(d);const A=this.points.length/2-E;A!==0&&(n&&!this._compareStyles(s,_)&&(n.end(b,E),n=null),n||(n=s3.pop()||new qE,n.begin(_,b,E),this.batches.push(n),s=_),this.addUvs(this.points,t,_.texture,E,A,_.matrix))}}const o=this.indices.length,l=this.points.length/2;if(n&&n.end(o,l),this.batches.length===0){this.batchable=!0;return}const h=l>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&h===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=h?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],s=n.fillStyle,o=n.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const s=t[e];for(let o=0;o<s.size;o++){const l=s.start+o;this.indicesUint16[l]=this.indicesUint16[l]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<b6.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Pt._globalBatch;for(let g=0;g<this.drawCalls.length;g++)this.drawCalls[g].texArray.clear(),ah.push(this.drawCalls[g]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let s=ah.pop();s||(s=new Np,s.texArray=new Fp),s.texArray.count=0,s.start=0,s.size=0,s.type=cn.TRIANGLES;let o=0,l=null,h=0,f=!1,d=cn.TRIANGLES,p=0;this.drawCalls.push(s);for(let g=0;g<this.batches.length;g++){const v=this.batches[g],_=8,x=v.style,b=x.texture.baseTexture;f!==!!x.native&&(f=!!x.native,d=f?cn.LINES:cn.TRIANGLES,l=null,o=_,t++),l!==b&&(l=b,b._batchEnabled!==t&&(o===_&&(t++,o=0,s.size>0&&(s=ah.pop(),s||(s=new Np,s.texArray=new Fp),this.drawCalls.push(s)),s.start=p,s.size=0,s.texArray.count=0,s.type=d),b.touched=1,b._batchEnabled=t,b._batchLocation=o,b.wrapMode=mi.REPEAT,s.texArray.elements[s.texArray.count++]=b,o++)),s.size+=v.size,p+=v.size,h=b._batchLocation,this.addColors(e,x.color,x.alpha,v.attribSize,v.attribStart),this.addTextureIds(n,h,v.attribSize,v.attribStart)}Pt._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,s=this.textureIds,o=new ArrayBuffer(t.length*3*4),l=new Float32Array(o),h=new Uint32Array(o);let f=0;for(let d=0;d<t.length/2;d++)l[f++]=t[d*2],l[f++]=t[d*2+1],l[f++]=e[d*2],l[f++]=e[d*2+1],h[f++]=n[d],l[f++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?_6.triangulate(t,this):op[t.type].triangulate(t,this)}processLine(t){r3(t,this);for(let e=0;e<t.holes.length;e++)r3(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];op[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const s=t[n*2],o=t[n*2+1];t[n*2]=e.a*s+e.c*o+e.tx,t[n*2+1]=e.b*s+e.d*o+e.ty}}addColors(t,e,n,s,o=0){const l=oe.shared.setValue(e).toLittleEndianNumber(),h=oe.shared.setValue(l).toPremultiplied(n);t.length=Math.max(t.length,o+s);for(let f=0;f<s;f++)t[o+f]=h}addTextureIds(t,e,n,s=0){t.length=Math.max(t.length,s+n);for(let o=0;o<n;o++)t[s+o]=e}addUvs(t,e,n,s,o,l=null){let h=0;const f=e.length,d=n.frame;for(;h<o;){let g=t[(s+h)*2],v=t[(s+h)*2+1];if(l){const _=l.a*g+l.c*v+l.tx;v=l.b*g+l.d*v+l.ty,g=_}h++,e.push(g/d.width,v/d.height)}const p=n.baseTexture;(d.width<p.width||d.height<p.height)&&this.adjustUvs(e,n,f,o)}adjustUvs(t,e,n,s){const o=e.baseTexture,l=1e-6,h=n+s*2,f=e.frame,d=f.width/o.width,p=f.height/o.height;let g=f.x/f.width,v=f.y/f.height,_=Math.floor(t[n]+l),x=Math.floor(t[n+1]+l);for(let b=n+2;b<h;b+=2)_=Math.min(_,Math.floor(t[b]+l)),x=Math.min(x,Math.floor(t[b+1]+l));g-=_,v-=x;for(let b=n;b<h;b+=2)t[b]=(t[b]+g)*d,t[b+1]=(t[b+1]+v)*p}};x6.BATCHABLE_SIZE=100;let ZE=x6;class _c{constructor(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new _c;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=pt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class z1 extends _c{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Nr.BUTT,this.join=Ri.MITER,this.miterLimit=10}clone(){const t=new z1;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Nr.BUTT,this.join=Ri.MITER,this.miterLimit=10}}const lp={},n1=class Th extends gi{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new _c,this._lineStyle=new z1,this._matrix=null,this._holeMode=!1,this.state=vn.for2d(),this._geometry=t||new ZE,this._geometry.refCount++,this._transformID=-1,this._tintColor=new oe(16777215),this.blendMode=Rt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Th(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n,s=.5,o=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:s,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:pt.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Nr.BUTT,join:Ri.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new As,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new As,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],o=n[n.length-1];return(s!==t||o!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),k1.curveTo(t,e,n,s,o),this}bezierCurveTo(t,e,n,s,o,l){return this._initCurve(),F1.curveTo(t,e,n,s,o,l,this.currentPath.points),this}arcTo(t,e,n,s,o){this._initCurve(t,e);const l=this.currentPath.points,h=i3.curveTo(t,e,n,s,o,l);if(h){const{cx:f,cy:d,radius:p,startAngle:g,endAngle:v,anticlockwise:_}=h;this.arc(f,d,p,g,v,_)}return this}arc(t,e,n,s,o,l=!1){if(s===o)return this;if(!l&&o<=s?o+=Uh:l&&s<=o&&(s+=Uh),o-s===0)return this;const h=t+Math.cos(s)*n,f=e+Math.sin(s)*n,d=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const g=Math.abs(p[p.length-2]-h),v=Math.abs(p[p.length-1]-f);g<d&&v<d||p.push(h,f)}else this.moveTo(h,f),p=this.currentPath.points;return i3.arc(h,f,t,e,n,s,o,l,p),this}beginFill(t=0,e){return this.beginTextureFill({texture:pt.WHITE,color:t,alpha:e})}normalizeColor(t){const e=oe.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:pt.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,s){return this.drawShape(new Ot(t,e,n,s))}drawRoundedRect(t,e,n,s,o){return this.drawShape(new mc(t,e,n,s,o))}drawCircle(t,e,n){return this.drawShape(new dc(t,e,n))}drawEllipse(t,e,n,s){return this.drawShape(new pc(t,e,n,s))}drawPolygon(...t){let e,n=!0;const s=t[0];s.points?(n=s.closeStroke,e=s.points):Array.isArray(t[0])?e=t[0]:e=t;const o=new As(e);return o.closeStroke=n,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ke.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let s=0;s<n;s++){const o=t.batches[s],l=o.style.color,h=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),f=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),p={vertexData:h,blendMode:e,indices:d,uvs:f,_batchRGB:oe.shared.setValue(l).toRgbArray(),_tintRGB:l,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=p}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const s=this.batches[e];s.worldAlpha=this.worldAlpha*s.alpha,t.plugins[this.pluginName].render(s)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,s=this.worldAlpha,o=e.uniforms,l=n.drawCalls;o.translationMatrix=this.transform.worldTransform,oe.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let h=0,f=l.length;h<f;h++)this._renderDrawCallDirect(t,n.drawCalls[h])}_renderDrawCallDirect(t,e){const{texArray:n,type:s,size:o,start:l}=e,h=n.count;for(let f=0;f<h;f++)t.texture.bind(n.elements[f],f);t.geometry.draw(s,o,l)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!lp[n]){const{maxTextures:s}=t.plugins[n],o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=f;const l={tint:new Float32Array([1,1,1,1]),translationMatrix:new re,default:$i.from({uSamplers:o},!0)},h=t.plugins[n]._shader.program;lp[n]=new pn(h,l)}e=lp[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:s,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,e,n,s,o)}containsPoint(t){return this.worldTransform.applyInverse(t,Th._TEMP_POINT),this._geometry.containsPoint(Th._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=oe.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,s=e.b,o=e.c,l=e.d,h=e.tx,f=e.ty,d=this._geometry.points,p=this.vertexData;let g=0;for(let v=0;v<d.length;v+=2){const _=d[v],x=d[v+1];p[g++]=n*_+o*x+h,p[g++]=l*x+s*_+f}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};n1.curves=ka,n1._TEMP_POINT=new Lt;let ml=n1;class KE{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const up=new Lt,a3=new As,T6=class E6 extends gi{constructor(t,e,n,s=cn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||vn.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=yt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===cn.TRIANGLES&&e.length<E6.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[s]),t.plugins[s].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const s=this.transform.worldTransform,o=s.a,l=s.b,h=s.c,f=s.d,d=s.tx,p=s.ty,g=this.vertexData;for(let v=0;v<g.length/2;v++){const _=e[v*2],x=e[v*2+1];g[v*2]=o*_+h*x+d,g[v*2+1]=l*_+f*x+p}if(this._roundPixels){const v=yt.RESOLUTION;for(let _=0;_<g.length;++_)g[_]=Math.round(g[_]*v)/v}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new KE(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,up);const e=this.geometry.getBuffer("aVertexPosition").data,n=a3.points,s=this.geometry.getIndex().data,o=s.length,l=this.drawMode===4?3:1;for(let h=0;h+2<o;h+=l){const f=s[h]*2,d=s[h+1]*2,p=s[h+2]*2;if(n[0]=e[f],n[1]=e[f+1],n[2]=e[d],n[3]=e[d+1],n[4]=e[p],n[5]=e[p+1],a3.contains(up.x,up.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};T6.BATCHABLE_SIZE=100;let za=T6;class Al extends Pr{constructor(t,e,n){super();const s=new ye(t),o=new ye(e,!0),l=new ye(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,wt.FLOAT).addAttribute("aTextureCoord",o,2,!1,wt.FLOAT).addIndex(l),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var QE=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,JE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Ga extends pn{constructor(t,e){const n={uSampler:t,alpha:1,uTextureMatrix:re.IDENTITY,uColor:new Float32Array([1,1,1,1])};e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(n,e.uniforms),super(e.program||qn.from(JE,QE),n),this._colorDirty=!1,this.uvMatrix=new k_(t),this.batchable=e.program===void 0,this.pluginName=e.pluginName,this._tintColor=new oe(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;oe.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class tA extends Al{constructor(t=200,e,n=0){super(new Float32Array(e.length*4),new Float32Array(e.length*4),new Uint16Array((e.length-1)*6)),this.points=e,this._width=t,this.textureScale=n,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(t.length<1)return;e.data.length/4!==t.length&&(e.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),s.data=new Uint16Array((t.length-1)*6));const o=n.data,l=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let h=0,f=t[0];const d=this._width*this.textureScale,p=t.length;for(let v=0;v<p;v++){const _=v*4;if(this.textureScale>0){const x=f.x-t[v].x,b=f.y-t[v].y,E=Math.sqrt(x*x+b*b);f=t[v],h+=E/d}else h=v/(p-1);o[_]=h,o[_+1]=0,o[_+2]=h,o[_+3]=1}let g=0;for(let v=0;v<p-1;v++){const _=v*2;l[g++]=_,l[g++]=_+1,l[g++]=_+2,l[g++]=_+2,l[g++]=_+1,l[g++]=_+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let e=t[0],n,s=0,o=0;const l=this.buffers[0].data,h=t.length,f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<h;d++){const p=t[d],g=d*4;d<t.length-1?n=t[d+1]:n=p,o=-(n.x-e.x),s=n.y-e.y;const v=Math.sqrt(s*s+o*o);v<1e-6?(s=0,o=0):(s/=v,o/=v,s*=f,o*=f),l[g]=p.x+s,l[g+1]=p.y+o,l[g+2]=p.x-s,l[g+3]=p.y-o,e=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class o3 extends za{constructor(t,e,n=0){const s=new tA(t.height,e,n),o=new Ga(t);n>0&&(t.baseTexture.wrapMode=mi.REPEAT),super(s,o),this.autoUpdate=!0}_render(t){const e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),super._render(t)}}class l3{constructor(t,e,n){this.geometry=new Pr,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<t.length;++s){let o=t[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||wt.FLOAT,offset:o.offset},e[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new ye(b9(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let l=0;l<this.dynamicProperties.length;++l){const h=this.dynamicProperties[l];h.offset=e,e+=h.size,this.dynamicStride+=h.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ye(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let l=0;l<this.staticProperties.length;++l){const h=this.staticProperties[l];h.offset=s,s+=h.size,this.staticStride+=h.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ye(this.staticData,!0,!1);for(let l=0;l<this.dynamicProperties.length;++l){const h=this.dynamicProperties[l];t.addAttribute(h.attributeName,this.dynamicBuffer,0,h.type===wt.UNSIGNED_BYTE,h.type,this.dynamicStride*4,h.offset*4)}for(let l=0;l<this.staticProperties.length;++l){const h=this.staticProperties[l];t.addAttribute(h.attributeName,this.staticBuffer,0,h.type===wt.UNSIGNED_BYTE,h.type,this.staticStride*4,h.offset*4)}}uploadDynamic(t,e,n){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(t,e,n,o.type===wt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,n){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(t,e,n,o.type===wt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var eA=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,iA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class A6 extends gc{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new re,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:wt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=pn.from(iA,eA,{}),this.state=vn.for2d()}render(t){const e=t.children,n=t._maxSize,s=t._batchSize,o=this.renderer;let l=e.length;if(l===0)return;l>n&&!t.autoResize&&(l=n);let h=t._buffers;h||(h=t._buffers=this.generateBuffers(t));const f=e[0]._texture.baseTexture,d=f.alphaMode>0;this.state.blendMode=T_(t.blendMode,d),o.state.set(this.state);const p=o.gl,g=t.worldTransform.copyTo(this.tempMatrix);g.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=g.toArray(!0),this.shader.uniforms.uColor=oe.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);let v=!1;for(let _=0,x=0;_<l;_+=s,x+=1){let b=l-_;b>s&&(b=s),x>=h.length&&h.push(this._generateOneMoreBuffer(t));const E=h[x];E.uploadDynamic(e,_,b);const A=t._bufferUpdateIDs[x]||0;v=v||E._updateID<A,v&&(E._updateID=t._updateID,E.uploadStatic(e,_,b)),o.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,b*6,p.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],n=t._maxSize,s=t._batchSize,o=t._properties;for(let l=0;l<n;l+=s)e.push(new l3(this.properties,o,s));return e}_generateOneMoreBuffer(t){const e=t._batchSize,n=t._properties;return new l3(this.properties,n,e)}uploadVertices(t,e,n,s,o,l){let h=0,f=0,d=0,p=0;for(let g=0;g<n;++g){const v=t[e+g],_=v._texture,x=v.scale.x,b=v.scale.y,E=_.trim,A=_.orig;E?(f=E.x-v.anchor.x*A.width,h=f+E.width,p=E.y-v.anchor.y*A.height,d=p+E.height):(h=A.width*(1-v.anchor.x),f=A.width*-v.anchor.x,d=A.height*(1-v.anchor.y),p=A.height*-v.anchor.y),s[l]=f*x,s[l+1]=p*b,s[l+o]=h*x,s[l+o+1]=p*b,s[l+o*2]=h*x,s[l+o*2+1]=d*b,s[l+o*3]=f*x,s[l+o*3+1]=d*b,l+=o*4}}uploadPosition(t,e,n,s,o,l){for(let h=0;h<n;h++){const f=t[e+h].position;s[l]=f.x,s[l+1]=f.y,s[l+o]=f.x,s[l+o+1]=f.y,s[l+o*2]=f.x,s[l+o*2+1]=f.y,s[l+o*3]=f.x,s[l+o*3+1]=f.y,l+=o*4}}uploadRotation(t,e,n,s,o,l){for(let h=0;h<n;h++){const f=t[e+h].rotation;s[l]=f,s[l+o]=f,s[l+o*2]=f,s[l+o*3]=f,l+=o*4}}uploadUvs(t,e,n,s,o,l){for(let h=0;h<n;++h){const f=t[e+h]._texture._uvs;f?(s[l]=f.x0,s[l+1]=f.y0,s[l+o]=f.x1,s[l+o+1]=f.y1,s[l+o*2]=f.x2,s[l+o*2+1]=f.y2,s[l+o*3]=f.x3,s[l+o*3+1]=f.y3,l+=o*4):(s[l]=0,s[l+1]=0,s[l+o]=0,s[l+o+1]=0,s[l+o*2]=0,s[l+o*2+1]=0,s[l+o*3]=0,s[l+o*3+1]=0,l+=o*4)}}uploadTint(t,e,n,s,o,l){for(let h=0;h<n;++h){const f=t[e+h],d=oe.shared.setValue(f._tintRGB).toPremultiplied(f.alpha,f.texture.baseTexture.alphaMode>0);s[l]=d,s[l+o]=d,s[l+o*2]=d,s[l+o*3]=d,l+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}A6.extension={name:"particle",type:mt.RendererPlugin};At.add(A6);var xc=(i=>(i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i))(xc||{});const oh={willReadFrequently:!0},ln=class St{static get experimentalLetterSpacingSupported(){let t=St._experimentalLetterSpacingSupported;if(t!==void 0){const e=yt.ADAPTER.getCanvasRenderingContext2D().prototype;t=St._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,s,o,l,h,f,d){this.text=t,this.style=e,this.width=n,this.height=s,this.lines=o,this.lineWidths=l,this.lineHeight=h,this.maxLineWidth=f,this.fontProperties=d}static measureText(t,e,n,s=St._canvas){n=n??e.wordWrap;const o=e.toFontString(),l=St.measureFont(o);l.fontSize===0&&(l.fontSize=e.fontSize,l.ascent=e.fontSize);const h=s.getContext("2d",oh);h.font=o;const f=(n?St.wordWrap(t,e,s):t).split(/(?:\r\n|\r|\n)/),d=new Array(f.length);let p=0;for(let x=0;x<f.length;x++){const b=St._measureText(f[x],e.letterSpacing,h);d[x]=b,p=Math.max(p,b)}let g=p+e.strokeThickness;e.dropShadow&&(g+=e.dropShadowDistance);const v=e.lineHeight||l.fontSize+e.strokeThickness;let _=Math.max(v,l.fontSize+e.strokeThickness*2)+e.leading+(f.length-1)*(v+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new St(t,e,g,_,f,d,v+e.leading,p,l)}static _measureText(t,e,n){let s=!1;St.experimentalLetterSpacingSupported&&(St.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(t).width;return o>0&&(s?o-=e:o+=(St.graphemeSegmenter(t).length-1)*e),o}static wordWrap(t,e,n=St._canvas){const s=n.getContext("2d",oh);let o=0,l="",h="";const f=Object.create(null),{letterSpacing:d,whiteSpace:p}=e,g=St.collapseSpaces(p),v=St.collapseNewlines(p);let _=!g;const x=e.wordWrapWidth+d,b=St.tokenize(t);for(let E=0;E<b.length;E++){let A=b[E];if(St.isNewline(A)){if(!v){h+=St.addLine(l),_=!g,l="",o=0;continue}A=" "}if(g){const C=St.isBreakingSpace(A),N=St.isBreakingSpace(l[l.length-1]);if(C&&N)continue}const I=St.getFromCache(A,d,f,s);if(I>x)if(l!==""&&(h+=St.addLine(l),l="",o=0),St.canBreakWords(A,e.breakWords)){const C=St.wordWrapSplit(A);for(let N=0;N<C.length;N++){let R=C[N],F=R,D=1;for(;C[N+D];){const J=C[N+D];if(!St.canBreakChars(F,J,A,N,e.breakWords))R+=J;else break;F=J,D++}N+=D-1;const X=St.getFromCache(R,d,f,s);X+o>x&&(h+=St.addLine(l),_=!1,l="",o=0),l+=R,o+=X}}else{l.length>0&&(h+=St.addLine(l),l="",o=0);const C=E===b.length-1;h+=St.addLine(A,!C),_=!1,l="",o=0}else I+o>x&&(_=!1,h+=St.addLine(l),l="",o=0),(l.length>0||!St.isBreakingSpace(A)||_)&&(l+=A,o+=I)}return h+=St.addLine(l,!1),h}static addLine(t,e=!0){return t=St.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,s){let o=n[t];return typeof o!="number"&&(o=St._measureText(t,e,s)+e,n[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!St.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:St._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:St._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let s=0;s<t.length;s++){const o=t[s],l=t[s+1];if(St.isBreakingSpace(o,l)||St.isNewline(o)){n!==""&&(e.push(n),n=""),e.push(o);continue}n+=o}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,s,o){return!0}static wordWrapSplit(t){return St.graphemeSegmenter(t)}static measureFont(t){if(St._fonts[t])return St._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=St._canvas,s=St._context;s.font=t;const o=St.METRICS_STRING+St.BASELINE_SYMBOL,l=Math.ceil(s.measureText(o).width);let h=Math.ceil(s.measureText(St.BASELINE_SYMBOL).width);const f=Math.ceil(St.HEIGHT_MULTIPLIER*h);if(h=h*St.BASELINE_MULTIPLIER|0,l===0||f===0)return St._fonts[t]=e,e;n.width=l,n.height=f,s.fillStyle="#f00",s.fillRect(0,0,l,f),s.font=t,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,h);const d=s.getImageData(0,0,l,f).data,p=d.length,g=l*4;let v=0,_=0,x=!1;for(v=0;v<h;++v){for(let b=0;b<g;b+=4)if(d[_+b]!==255){x=!0;break}if(!x)_+=g;else break}for(e.ascent=h-v,_=p-g,x=!1,v=f;v>h;--v){for(let b=0;b<g;b+=4)if(d[_+b]!==255){x=!0;break}if(!x)_-=g;else break}return e.descent=v-h,e.fontSize=e.ascent+e.descent,St._fonts[t]=e,e}static clearMetrics(t=""){t?delete St._fonts[t]:St._fonts={}}static get _canvas(){if(!St.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",oh)?.measureText)return St.__canvas=e,e;t=yt.ADAPTER.createCanvas()}catch{t=yt.ADAPTER.createCanvas()}t.width=t.height=10,St.__canvas=t}return St.__canvas}static get _context(){return St.__context||(St.__context=St._canvas.getContext("2d",oh)),St.__context}};ln.METRICS_STRING="|q",ln.BASELINE_SYMBOL="M",ln.BASELINE_MULTIPLIER=1.4,ln.HEIGHT_MULTIPLIER=2,ln.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const i=new Intl.Segmenter;return t=>[...i.segment(t)].map(e=>e.segment)}return i=>[...i]})(),ln.experimentalLetterSpacing=!1,ln._fonts={},ln._newlines=[10,13],ln._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Or=ln;const nA=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],S6=class ul{constructor(t){this.styleID=0,this.reset(),cp(this,t,t)}clone(){const t={};return cp(t,this,ul.defaultStyle),new ul(t)}reset(){cp(this,ul.defaultStyle,ul.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=hp(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=hp(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){rA(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=hp(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let s=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!nA.includes(s)&&(s=`"${s}"`),e[n]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};S6.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:xc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Lr=S6;function hp(i){const t=oe.shared,e=n=>{const s=t.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(i)?i.map(e):e(i)}function rA(i,t){if(!Array.isArray(i)||!Array.isArray(t)||i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(i[e]!==t[e])return!1;return!0}function cp(i,t,e){for(const n in e)Array.isArray(t[n])?i[n]=t[n].slice():i[n]=t[n]}const sA={texture:!0,children:!1,baseTexture:!0},w6=class r1 extends Wa{constructor(t,e,n){let s=!1;n||(n=yt.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const o=pt.from(n);o.orig=new Ot,o.trim=new Ot,super(o),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=r1.defaultResolution??yt.RESOLUTION,this._autoResolution=r1.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Or.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Gt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Or.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,s=Or.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,l=s.height,h=s.lines,f=s.lineHeight,d=s.lineWidths,p=s.maxLineWidth,g=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let v,_;const x=e.dropShadow?2:1;for(let b=0;b<x;++b){const E=e.dropShadow&&b===0,A=E?Math.ceil(Math.max(1,l)+e.padding*2):0,I=A*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const N=e.dropShadowColor,R=e.dropShadowBlur*this._resolution,F=e.dropShadowDistance*this._resolution;n.shadowColor=oe.shared.setValue(N).setAlpha(e.dropShadowAlpha).toRgbaString(),n.shadowBlur=R,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*F,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*F+I}else n.fillStyle=this._generateFillStyle(e,h,s),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let C=(f-g.fontSize)/2;f-g.fontSize<0&&(C=0);for(let N=0;N<h.length;N++)v=e.strokeThickness/2,_=e.strokeThickness/2+N*f+g.ascent+C,e.align==="right"?v+=p-d[N]:e.align==="center"&&(v+=(p-d[N])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[N],v+e.padding,_+e.padding-A,!0),e.fill&&this.drawLetterSpacing(h[N],v+e.padding,_+e.padding-A)}this.updateTexture()}drawLetterSpacing(t,e,n,s=!1){const o=this._style.letterSpacing;let l=!1;if(Or.experimentalLetterSpacingSupported&&(Or.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,l=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||l){s?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let h=e;const f=Or.graphemeSegmenter(t);let d=this.context.measureText(t).width,p=0;for(let g=0;g<f.length;++g){const v=f[g];s?this.context.strokeText(v,h,n):this.context.fillText(v,h,n);let _="";for(let x=g+1;x<f.length;++x)_+=f[x];p=this.context.measureText(_).width,h+=d-p+o,d=p}}updateTexture(){const t=this.canvas;if(this._style.trim){const l=S9(t);l.data&&(t.width=l.width,t.height=l.height,this.context.putImageData(l.data,0,0))}const e=this._texture,n=this._style,s=n.trim?0:n.padding,o=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-s,e.trim.y=-s,e.orig.width=e._frame.width-s*2,e.orig.height=e._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const s=t.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const l=t.dropShadow?t.dropShadowDistance:0,h=t.padding||0,f=this.canvas.width/this._resolution-l-h*2,d=this.canvas.height/this._resolution-l-h*2,p=s.slice(),g=t.fillGradientStops.slice();if(!g.length){const v=p.length+1;for(let _=1;_<v;++_)g.push(_/v)}if(p.unshift(s[0]),g.unshift(0),p.push(s[s.length-1]),g.push(1),t.fillGradientType===xc.LINEAR_VERTICAL){o=this.context.createLinearGradient(f/2,h,f/2,d+h);const v=n.fontProperties.fontSize+t.strokeThickness;for(let _=0;_<e.length;_++){const x=n.lineHeight*(_-1)+v,b=n.lineHeight*_;let E=b;_>0&&x>b&&(E=(b+x)/2);const A=b+v,I=n.lineHeight*(_+1);let C=A;_+1<e.length&&I<A&&(C=(A+I)/2);const N=(C-E)/d;for(let R=0;R<p.length;R++){let F=0;typeof g[R]=="number"?F=g[R]:F=R/p.length;let D=Math.min(1,Math.max(0,E/d+F*N));D=Number(D.toFixed(5)),o.addColorStop(D,p[R])}}}else{o=this.context.createLinearGradient(h,d/2,f+h,d/2);const v=p.length+1;let _=1;for(let x=0;x<p.length;x++){let b;typeof g[x]=="number"?b=g[x]:b=_/v,o.addColorStop(b,p[x]),_++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},sA,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Ir(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Ir(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Lr?this._style=t:this._style=new Lr(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};w6.defaultAutoResolution=!0;let C6=w6;class aA{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function oA(i,t){let e=!1;if(i?._textures?.length){for(let n=0;n<i._textures.length;n++)if(i._textures[n]instanceof pt){const s=i._textures[n].baseTexture;t.includes(s)||(t.push(s),e=!0)}}return e}function lA(i,t){if(i.baseTexture instanceof Pt){const e=i.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function uA(i,t){if(i._texture&&i._texture instanceof pt){const e=i._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function hA(i,t){return t instanceof C6?(t.updateText(!0),!0):!1}function cA(i,t){if(t instanceof Lr){const e=t.toFontString();return Or.measureFont(e),!0}return!1}function fA(i,t){if(i instanceof C6){t.includes(i.style)||t.push(i.style),t.includes(i)||t.push(i);const e=i._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function dA(i,t){return i instanceof Lr?(t.includes(i)||t.push(i),!0):!1}const M6=class R6{constructor(t){this.limiter=new aA(R6.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(fA),this.registerFindHook(dA),this.registerFindHook(oA),this.registerFindHook(lA),this.registerFindHook(uA),this.registerUploadHook(hA),this.registerUploadHook(cA)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,pi.system.addOnce(this.tick,this,Ms.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,s=this.uploadHooks.length;n<s;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)pi.system.addOnce(this.tick,this,Ms.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof gi)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&pi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};M6.uploadsPerFrame=4;let s1=M6;Object.defineProperties(yt,{UPLOADS_PER_FRAME:{get(){return s1.uploadsPerFrame},set(i){Gt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),s1.uploadsPerFrame=i}}});function D6(i,t){return t instanceof Pt?(t._glTextures[i.CONTEXT_UID]||i.texture.bind(t),!0):!1}function pA(i,t){if(!(t instanceof ml))return!1;const{geometry:e}=t;t.finishPoly(),e.updateBatches();const{batches:n}=e;for(let s=0;s<n.length;s++){const{texture:o}=n[s].style;o&&D6(i,o.baseTexture)}return e.batchable||i.geometry.bind(e,t._resolveDirectShader(i)),!0}function mA(i,t){return i instanceof ml?(t.push(i),!0):!1}class O6 extends s1{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(mA),this.registerUploadHook(D6),this.registerUploadHook(pA)}}O6.extension={name:"prepare",type:mt.RendererSystem};At.add(O6);var gA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,yA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,vA=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,u3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,_A=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const lh=new re;class B6 extends gc{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new P_,this.state=vn.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=pn.from(u3,_A,e),this.shader=t.context.webGLVersion>1?pn.from(yA,gA,e):pn.from(u3,vA,e)}render(t){const e=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,l=t.uvRespectAnchor?t.anchor.y:0;s=n.uvs,s[0]=s[6]=-o,s[1]=s[3]=-l,s[2]=s[4]=1-o,s[5]=s[7]=1-l,n.invalidate();const h=t._texture,f=h.baseTexture,d=f.alphaMode>0,p=t.tileTransform.localTransform,g=t.uvMatrix;let v=f.isPowerOfTwo&&h.frame.width===f.width&&h.frame.height===f.height;v&&(f._glTextures[e.CONTEXT_UID]?v=f.wrapMode!==mi.CLAMP:f.wrapMode===mi.CLAMP&&(f.wrapMode=mi.REPEAT));const _=v?this.simpleShader:this.shader,x=h.width,b=h.height,E=t._width,A=t._height;lh.set(p.a*x/E,p.b*x/A,p.c*b/E,p.d*b/A,p.tx/E,p.ty/A),lh.invert(),v?lh.prepend(g.mapCoord):(_.uniforms.uMapCoord=g.mapCoord.toArray(!0),_.uniforms.uClampFrame=g.uClampFrame,_.uniforms.uClampOffset=g.uClampOffset),_.uniforms.uTransform=lh.toArray(!0),_.uniforms.uColor=oe.shared.setValue(t.tint).premultiply(t.worldAlpha,d).toArray(_.uniforms.uColor),_.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),_.uniforms.uSampler=h,e.shader.bind(_),e.geometry.bind(n),this.state.blendMode=T_(t.blendMode,d),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}B6.extension={name:"tilingSprite",type:mt.RendererPlugin};At.add(B6);const I6=class hl{constructor(t,e,n){this.linkedSheets=[],(t instanceof Pt||t instanceof pt)&&(t={texture:t,data:e,resolutionFilename:n});const{texture:s,data:o,resolutionFilename:l=null,cachePrefix:h=""}=t;this.cachePrefix=h,this._texture=s instanceof pt?s:null,this.baseTexture=s instanceof Pt?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const f=this.baseTexture.resource;this.resolution=this._updateResolution(l||(f?f.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Wn(t,null);return n===null&&(n=typeof e=="number"?e:parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=hl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=hl.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const s=this._frameKeys[e],o=this._frames[s],l=o.frame;if(l){let h=null,f=null;const d=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,p=new Ot(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);o.rotated?h=new Ot(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):h=new Ot(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(f=new Ot(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[s]=new pt(this.baseTexture,h,p,f,o.rotated?2:0,o.anchor,o.borders),pt.addToCache(this.textures[s],this.cachePrefix+s.toString())}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const s=t[e][n];this.animations[e].push(this.textures[s])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*hl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*hl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};I6.BATCH_SIZE=1e3;let h3=I6;const xA=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function N6(i,t,e){const n={};if(i.forEach(s=>{n[s]=t}),Object.keys(t.textures).forEach(s=>{n[`${t.cachePrefix}${s}`]=t.textures[s]}),!e){const s=De.dirname(i[0]);t.linkedSheets.forEach((o,l)=>{Object.assign(n,N6([`${s}/${t.data.meta.related_multi_packs[l]}`],o,!0))})}return n}const bA={extension:mt.Asset,cache:{test:i=>i instanceof h3,getCacheableAssets:(i,t)=>N6(i,t,!1)},resolver:{test:i=>{const t=i.split("?")[0].split("."),e=t.pop(),n=t.pop();return e==="json"&&xA.includes(n)},parse:i=>{const t=i.split(".");return{resolution:parseFloat(yt.RETINA_PREFIX.exec(i)?.[1]??"1"),format:t[t.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:mt.LoadParser,priority:Wi.Normal},async testParse(i,t){return De.extname(t.src).toLowerCase()===".json"&&!!i.frames},async parse(i,t,e){const{texture:n,imageFilename:s,cachePrefix:o}=t?.data??{};let l=De.dirname(t.src);l&&l.lastIndexOf("/")!==l.length-1&&(l+="/");let h;if(n&&n.baseTexture)h=n;else{const p=t1(l+(s??i.meta.image),t.src);h=(await e.load([p]))[p]}const f=new h3({texture:h.baseTexture,data:i,resolutionFilename:t.src,cachePrefix:o});await f.parse();const d=i?.meta?.related_multi_packs;if(Array.isArray(d)){const p=[];for(const v of d){if(typeof v!="string")continue;let _=l+v;t.data?.ignoreMultiPack||(_=t1(_,t.src),p.push(e.load({src:_,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(p);f.linkedSheets=g,g.forEach(v=>{v.linkedSheets=[f].concat(f.linkedSheets.filter(_=>_!==v))})}return f},unload(i){i.destroy(!0)}}};At.add(bA);class $h{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Eh{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in e){const l=e[o].match(/^[a-z]+/gm)[0],h=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),f={};for(const d in h){const p=h[d].split("="),g=p[0],v=p[1].replace(/"/gm,""),_=parseFloat(v),x=isNaN(_)?v:_;f[g]=x}n[l].push(f)}const s=new $h;return n.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class a1{static test(t){const e=t;return typeof t!="string"&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const e=new $h,n=t.getElementsByTagName("info"),s=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),l=t.getElementsByTagName("char"),h=t.getElementsByTagName("kerning"),f=t.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)e.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<s.length;d++)e.common.push({lineHeight:parseInt(s[d].getAttribute("lineHeight"),10)});for(let d=0;d<o.length;d++)e.page.push({id:parseInt(o[d].getAttribute("id"),10)||0,file:o[d].getAttribute("file")});for(let d=0;d<l.length;d++){const p=l[d];e.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let d=0;d<h.length;d++)e.kerning.push({first:parseInt(h[d].getAttribute("first"),10),second:parseInt(h[d].getAttribute("second"),10),amount:parseInt(h[d].getAttribute("amount"),10)});for(let d=0;d<f.length;d++)e.distanceField.push({fieldType:f[d].getAttribute("fieldType"),distanceRange:parseInt(f[d].getAttribute("distanceRange"),10)});return e}}class o1{static test(t){return typeof t=="string"&&t.includes("<font>")?a1.test(yt.ADAPTER.parseXML(t)):!1}static parse(t){return a1.parse(yt.ADAPTER.parseXML(t))}}const fp=[Eh,a1,o1];function TA(i){for(let t=0;t<fp.length;t++)if(fp[t].test(i))return fp[t];return null}function EA(i,t,e,n,s,o){const l=e.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let h;const f=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=i.width/n-f-d*2,g=i.height/n-f-d*2,v=l.slice(),_=e.fillGradientStops.slice();if(!_.length){const x=v.length+1;for(let b=1;b<x;++b)_.push(b/x)}if(v.unshift(l[0]),_.unshift(0),v.push(l[l.length-1]),_.push(1),e.fillGradientType===xc.LINEAR_VERTICAL){h=t.createLinearGradient(p/2,d,p/2,g+d);let x=0;const b=(o.fontProperties.fontSize+e.strokeThickness)/g;for(let E=0;E<s.length;E++){const A=o.lineHeight*E;for(let I=0;I<v.length;I++){let C=0;typeof _[I]=="number"?C=_[I]:C=I/v.length;const N=A/g+C*b;let R=Math.max(x,N);R=Math.min(R,1),h.addColorStop(R,v[I]),x=R}}}else{h=t.createLinearGradient(d,g/2,p+d,g/2);const x=v.length+1;let b=1;for(let E=0;E<v.length;E++){let A;typeof _[E]=="number"?A=_[E]:A=b/x,h.addColorStop(A,v[E]),b++}}return h}function AA(i,t,e,n,s,o,l){const h=e.text,f=e.fontProperties;t.translate(n,s),t.scale(o,o);const d=l.strokeThickness/2,p=-(l.strokeThickness/2);if(t.font=l.toFontString(),t.lineWidth=l.strokeThickness,t.textBaseline=l.textBaseline,t.lineJoin=l.lineJoin,t.miterLimit=l.miterLimit,t.fillStyle=EA(i,t,l,o,[h],e),t.strokeStyle=l.stroke,l.dropShadow){const g=l.dropShadowColor,v=l.dropShadowBlur*o,_=l.dropShadowDistance*o;t.shadowColor=oe.shared.setValue(g).setAlpha(l.dropShadowAlpha).toRgbaString(),t.shadowBlur=v,t.shadowOffsetX=Math.cos(l.dropShadowAngle)*_,t.shadowOffsetY=Math.sin(l.dropShadowAngle)*_}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;l.stroke&&l.strokeThickness&&t.strokeText(h,d,p+e.lineHeight-f.descent),l.fill&&t.fillText(h,d,p+e.lineHeight-f.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function Ah(i){return i.codePointAt?i.codePointAt(0):i.charCodeAt(0)}function P6(i){return Array.from?Array.from(i):i.split("")}function SA(i){typeof i=="string"&&(i=[i]);const t=[];for(let e=0,n=i.length;e<n;e++){const s=i[e];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const o=s[0].charCodeAt(0),l=s[1].charCodeAt(0);if(l<o)throw new Error("[BitmapFont]: Invalid character range.");for(let h=o,f=l;h<=f;h++)t.push(String.fromCharCode(h))}else t.push(...P6(s))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const Cr=class un{constructor(t,e,n){const[s]=t.info,[o]=t.common,[l]=t.page,[h]=t.distanceField,f=Wn(l.file),d={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/f,this.chars={},this.pageTextures=d;for(let p=0;p<t.page.length;p++){const{id:g,file:v}=t.page[p];d[g]=e instanceof Array?e[p]:e[v],h?.fieldType&&h.fieldType!=="none"&&(d[g].baseTexture.alphaMode=ei.NO_PREMULTIPLIED_ALPHA,d[g].baseTexture.mipmap=gn.OFF)}for(let p=0;p<t.char.length;p++){const{id:g,page:v}=t.char[p];let{x:_,y:x,width:b,height:E,xoffset:A,yoffset:I,xadvance:C}=t.char[p];_/=f,x/=f,b/=f,E/=f,A/=f,I/=f,C/=f;const N=new Ot(_+d[v].frame.x/f,x+d[v].frame.y/f,b,E);this.chars[g]={xOffset:A,yOffset:I,xAdvance:C,kerning:{},texture:new pt(d[v].baseTexture,N),page:v}}for(let p=0;p<t.kerning.length;p++){let{first:g,second:v,amount:_}=t.kerning[p];g/=f,v/=f,_/=f,this.chars[v]&&(this.chars[v].kerning[g]=_)}this.distanceFieldRange=h?.distanceRange,this.distanceFieldType=h?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let s;if(t instanceof $h)s=t;else{const l=TA(t);if(!l)throw new Error("Unrecognized data format for font.");s=l.parse(t)}e instanceof pt&&(e=[e]);const o=new un(s,e,n);return un.available[o.font]=o,o}static uninstall(t){const e=un.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete un.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:l,textureWidth:h,textureHeight:f,...d}=Object.assign({},un.defaultOptions,n),p=SA(s),g=e instanceof Lr?e:new Lr(e),v=h,_=new $h;_.info[0]={face:g.fontFamily,size:g.fontSize},_.common[0]={lineHeight:g.fontSize};let x=0,b=0,E,A,I,C=0;const N=[];for(let F=0;F<p.length;F++){E||(E=yt.ADAPTER.createCanvas(),E.width=h,E.height=f,A=E.getContext("2d"),I=new Pt(E,{resolution:l,...d}),N.push(new pt(I)),_.page.push({id:N.length-1,file:""}));const D=p[F],X=Or.measureText(D,g,!1,E),J=X.width,rt=Math.ceil(X.height),q=Math.ceil((g.fontStyle==="italic"?2:1)*J);if(b>=f-rt*l){if(b===0)throw new Error(`[BitmapFont] textureHeight ${f}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${D}')`);--F,E=null,A=null,I=null,b=0,x=0,C=0;continue}if(C=Math.max(rt+X.fontProperties.descent,C),q*l+x>=v){if(x===0)throw new Error(`[BitmapFont] textureWidth ${h}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${D}')`);--F,b+=C*l,b=Math.ceil(b),x=0,C=0;continue}AA(E,A,X,x,b,l,g);const H=Ah(X.text);_.char.push({id:H,page:N.length-1,x:x/l,y:b/l,width:q,height:rt,xoffset:0,yoffset:0,xadvance:J-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),x+=(q+2*o)*l,x=Math.ceil(x)}if(!n?.skipKerning)for(let F=0,D=p.length;F<D;F++){const X=p[F];for(let J=0;J<D;J++){const rt=p[J],q=A.measureText(X).width,H=A.measureText(rt).width,W=A.measureText(X+rt).width-(q+H);W&&_.kerning.push({first:Ah(X),second:Ah(rt),amount:W})}}const R=new un(_,N,!0);return un.available[t]!==void 0&&un.uninstall(t),un.available[t]=R,R}};Cr.ALPHA=[["a","z"],["A","Z"]," "],Cr.NUMERIC=[["0","9"]],Cr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Cr.ASCII=[[" ","~"]],Cr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Cr.ALPHANUMERIC},Cr.available={};let Mr=Cr;var wA=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,CA=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const c3=[],f3=[],d3=[],MA=class L6 extends gi{constructor(t,e={}){super();const{align:n,tint:s,maxWidth:o,letterSpacing:l,fontName:h,fontSize:f}=Object.assign({},L6.styleDefaults,e);if(!Mr.available[h])throw new Error(`Missing BitmapFont "${h}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new oe(s),this._font=void 0,this._fontName=h,this._fontSize=f,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=l,this._anchor=new Yn(()=>{this.dirty=!0},this,0,0),this._roundPixels=yt.ROUND_PIXELS,this.dirty=!0,this._resolution=yt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=Mr.available[this._fontName],e=this.fontSize,n=e/t.size,s=new Lt,o=[],l=[],h=[],f=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=P6(f),p=this._maxWidth*t.size/e,g=t.distanceFieldType==="none"?c3:f3;let v=null,_=0,x=0,b=0,E=-1,A=0,I=0,C=0,N=0;for(let q=0;q<d.length;q++){const H=d[q],W=Ah(H);if(/(?:\s)/.test(H)&&(E=q,A=_,N++),H==="\r"||H===`
`){l.push(_),h.push(-1),x=Math.max(x,_),++b,++I,s.x=0,s.y+=t.lineHeight,v=null,N=0;continue}const L=t.chars[W];if(!L)continue;v&&L.kerning[v]&&(s.x+=L.kerning[v]);const nt=d3.pop()||{texture:pt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Lt};nt.texture=L.texture,nt.line=b,nt.charCode=W,nt.position.x=Math.round(s.x+L.xOffset+this._letterSpacing/2),nt.position.y=Math.round(s.y+L.yOffset),nt.prevSpaces=N,o.push(nt),_=nt.position.x+Math.max(L.xAdvance-L.xOffset,L.texture.orig.width),s.x+=L.xAdvance+this._letterSpacing,C=Math.max(C,L.yOffset+L.texture.height),v=W,E!==-1&&p>0&&s.x>p&&(++I,Ia(o,1+E-I,1+q-E),q=E,E=-1,l.push(A),h.push(o.length>0?o[o.length-1].prevSpaces:0),x=Math.max(x,A),b++,s.x=0,s.y+=t.lineHeight,v=null,N=0)}const R=d[d.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(_=A),l.push(_),x=Math.max(x,_),h.push(-1));const F=[];for(let q=0;q<=b;q++){let H=0;this._align==="right"?H=x-l[q]:this._align==="center"?H=(x-l[q])/2:this._align==="justify"&&(H=h[q]<0?0:(x-l[q])/h[q]),F.push(H)}const D=o.length,X={},J=[],rt=this._activePagesMeshData;g.push(...rt);for(let q=0;q<D;q++){const H=o[q].texture,W=H.baseTexture.uid;if(!X[W]){let L=g.pop();if(!L){const S=new Al;let M,O;t.distanceFieldType==="none"?(M=new Ga(pt.EMPTY),O=Rt.NORMAL):(M=new Ga(pt.EMPTY,{program:qn.from(CA,wA),uniforms:{uFWidth:0}}),O=Rt.NORMAL_NPM);const z=new za(S,M);z.blendMode=O,L={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:z,vertices:null,uvs:null,indices:null}}L.index=0,L.indexCount=0,L.vertexCount=0,L.uvsCount=0,L.total=0;const{_textureCache:nt}=this;nt[W]=nt[W]||new pt(H.baseTexture),L.mesh.texture=nt[W],L.mesh.tint=this._tintColor.value,J.push(L),X[W]=L}X[W].total++}for(let q=0;q<rt.length;q++)J.includes(rt[q])||this.removeChild(rt[q].mesh);for(let q=0;q<J.length;q++)J[q].mesh.parent!==this&&this.addChild(J[q].mesh);this._activePagesMeshData=J;for(const q in X){const H=X[q],W=H.total;if(!(H.indices?.length>6*W)||H.vertices.length<za.BATCHABLE_SIZE*2)H.vertices=new Float32Array(8*W),H.uvs=new Float32Array(8*W),H.indices=new Uint16Array(6*W);else{const L=H.total,nt=H.vertices;for(let S=L*4*2;S<nt.length;S++)nt[S]=0}H.mesh.size=6*W}for(let q=0;q<D;q++){const H=o[q];let W=H.position.x+F[H.line]*(this._align==="justify"?H.prevSpaces:1);this._roundPixels&&(W=Math.round(W));const L=W*n,nt=H.position.y*n,S=H.texture,M=X[S.baseTexture.uid],O=S.frame,z=S._uvs,U=M.index++;M.indices[U*6+0]=0+U*4,M.indices[U*6+1]=1+U*4,M.indices[U*6+2]=2+U*4,M.indices[U*6+3]=0+U*4,M.indices[U*6+4]=2+U*4,M.indices[U*6+5]=3+U*4,M.vertices[U*8+0]=L,M.vertices[U*8+1]=nt,M.vertices[U*8+2]=L+O.width*n,M.vertices[U*8+3]=nt,M.vertices[U*8+4]=L+O.width*n,M.vertices[U*8+5]=nt+O.height*n,M.vertices[U*8+6]=L,M.vertices[U*8+7]=nt+O.height*n,M.uvs[U*8+0]=z.x0,M.uvs[U*8+1]=z.y0,M.uvs[U*8+2]=z.x1,M.uvs[U*8+3]=z.y1,M.uvs[U*8+4]=z.x2,M.uvs[U*8+5]=z.y2,M.uvs[U*8+6]=z.x3,M.uvs[U*8+7]=z.y3}this._textWidth=x*n,this._textHeight=(s.y+t.lineHeight)*n;for(const q in X){const H=X[q];if(this.anchor.x!==0||this.anchor.y!==0){let S=0;const M=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let z=0;z<H.total;z++)H.vertices[S++]-=M,H.vertices[S++]-=O,H.vertices[S++]-=M,H.vertices[S++]-=O,H.vertices[S++]-=M,H.vertices[S++]-=O,H.vertices[S++]-=M,H.vertices[S++]-=O}this._maxLineHeight=C*n;const W=H.mesh.geometry.getBuffer("aVertexPosition"),L=H.mesh.geometry.getBuffer("aTextureCoord"),nt=H.mesh.geometry.getIndex();W.data=H.vertices,L.data=H.uvs,nt.data=H.indices,W.update(),L.update(),nt.update()}for(let q=0;q<o.length;q++)d3.push(o[q]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:s}=Mr.available[this._fontName];if(n!=="none"){const{a:o,b:l,c:h,d:f}=this.worldTransform,d=Math.sqrt(o*o+l*l),p=Math.sqrt(h*h+f*f),g=(Math.abs(d)+Math.abs(p))/2,v=this.fontSize/s,_=t._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=g*e*v*_}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Mr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Mr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Mr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=Mr.available[this._fontName].distanceFieldType==="none"?c3:f3;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>e[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=pt.EMPTY});for(const s in e)e[s].destroy(),delete e[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};MA.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const RA=[".xml",".fnt"],DA={extension:{type:mt.LoadParser,priority:Wi.Normal},name:"loadBitmapFont",test(i){return RA.includes(De.extname(i).toLowerCase())},async testParse(i){return Eh.test(i)||o1.test(i)},async parse(i,t,e){const n=Eh.test(i)?Eh.parse(i):o1.parse(i),{src:s}=t,{page:o}=n,l=[];for(let d=0;d<o.length;++d){const p=o[d].file;let g=De.join(De.dirname(s),p);g=t1(g,s),l.push(g)}const h=await e.load(l),f=l.map(d=>h[d]);return Mr.install(n,f,!0)},async load(i,t){return(await yt.ADAPTER.fetch(i)).text()},unload(i){i.destroy()}};At.add(DA);const l1=class wa extends Lr{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new wa(Object.keys(wa.defaultOptions).reduce((e,n)=>({...e,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete wa.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:n}=wa;if(n[t]){const s=n[t];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return yt.ADAPTER.fetch(t).then(s=>s.blob()).then(async s=>new Promise((o,l)=>{const h=URL.createObjectURL(s),f=new FileReader;f.onload=()=>o([h,f.result]),f.onerror=l,f.readAsDataURL(s)})).then(async([s,o])=>{const l=Object.assign({family:De.basename(t,De.extname(t)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:t,fontFace:null},e);n[t]=l,this._fonts.push(l),this.styleID++;const h=new FontFace(l.family,`url(${l.src})`,{weight:l.weight,style:l.style,display:l.display});l.fontFace=h,await h.load(),document.fonts.add(h),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(n=>!this._overrides.includes(n));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(n=>this._overrides.includes(n));e.length>0&&(this._overrides=this._overrides.filter(n=>!e.includes(n)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style};
                font-display: ${e.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=_9(t)),typeof t=="number"?v9(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const o=`${n}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,wa.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=yt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};l1.availableFonts={},l1.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let dp=l1;const uh=class Ca extends Wa{constructor(t="",e={}){super(pt.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,s=pt.from(n,{scaleMode:yt.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Ot,s.trim=new Ot,this.texture=s;const o="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",h=document.createElementNS(o,"svg"),f=document.createElementNS(o,"foreignObject"),d=document.createElementNS(l,"div"),p=document.createElementNS(l,"style");f.setAttribute("width","10000"),f.setAttribute("height","10000"),f.style.overflow="hidden",h.appendChild(f),this.maxWidth=Ca.defaultMaxWidth,this.maxHeight=Ca.defaultMaxHeight,this._domElement=d,this._styleElement=p,this._svgRoot=h,this._foreignObject=f,this._foreignObject.appendChild(p),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=Ca.defaultAutoResolution,this._resolution=Ca.defaultResolution??yt.RESOLUTION,this.text=t,this.style=e}measureText(t){const{text:e,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:l,height:h}=o;(l>this.maxWidth||h>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const f=Math.min(this.maxWidth,Math.ceil(l)),d=Math.min(this.maxHeight,Math.ceil(h));return this._svgRoot.setAttribute("width",f.toString()),this._svgRoot.setAttribute("height",d.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(s)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:f+n.padding*2,height:d+n.padding*2}}async updateText(t=!0){const{style:e,_image:n,_loadImage:s}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:o,height:l}=this.measureText();n.width=s.width=Math.ceil(Math.max(1,o)),n.height=s.height=Math.ceil(Math.max(1,l)),this._updateID++;const h=this._updateID;await new Promise(f=>{s.onload=async()=>{if(h<this._updateID){f();return}await e.onBeforeDraw(),n.src=s.src,s.onload=null,s.src="",this.updateTexture(),f()};const d=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(d)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:n,resolution:s}=this,{padding:o}=t,{baseTexture:l}=e;e.trim.width=e._frame.width=n.width/s,e.trim.height=e._frame.height=n.height/s,e.trim.x=-o,e.trim.y=-o,e.orig.width=e._frame.width-o*2,e.orig.height=e._frame.height-o*2,this._onTextureUpdate(),l.setRealSize(n.width,n.height,s),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Ca.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=e,this._svgRoot?.remove(),this._svgRoot=e,this._domElement?.remove(),this._domElement=e,this._foreignObject?.remove(),this._foreignObject=e,this._styleElement?.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Ir(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Ir(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof dp?(this.ownsStyle=!1,this._style=t):t instanceof Lr?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=dp.from(t)):(this.ownsStyle=!0,this._style=new dp(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};uh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},uh.defaultMaxWidth=2024,uh.defaultMaxHeight=2024,uh.defaultAutoResolution=!0;function OA(i){return i}var pp=1,Sh=2,u1=3,hh=4,p3=1e-6;function BA(i){return"translate("+i+",0)"}function IA(i){return"translate(0,"+i+")"}function NA(i){return t=>+i(t)}function PA(i,t){return t=Math.max(0,i.bandwidth()-t*2)/2,i.round()&&(t=Math.round(t)),e=>+i(e)+t}function LA(){return!this.__axis}function U6(i,t){var e=[],n=null,s=null,o=6,l=6,h=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=i===pp||i===hh?-1:1,p=i===hh||i===Sh?"x":"y",g=i===pp||i===u1?BA:IA;function v(_){var x=n??(t.ticks?t.ticks.apply(t,e):t.domain()),b=s??(t.tickFormat?t.tickFormat.apply(t,e):OA),E=Math.max(o,0)+h,A=t.range(),I=+A[0]+f,C=+A[A.length-1]+f,N=(t.bandwidth?PA:NA)(t.copy(),f),R=_.selection?_.selection():_,F=R.selectAll(".domain").data([null]),D=R.selectAll(".tick").data(x,t).order(),X=D.exit(),J=D.enter().append("g").attr("class","tick"),rt=D.select("line"),q=D.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(J),rt=rt.merge(J.append("line").attr("stroke","currentColor").attr(p+"2",d*o)),q=q.merge(J.append("text").attr("fill","currentColor").attr(p,d*E).attr("dy",i===pp?"0em":i===u1?"0.71em":"0.32em")),_!==R&&(F=F.transition(_),D=D.transition(_),rt=rt.transition(_),q=q.transition(_),X=X.transition(_).attr("opacity",p3).attr("transform",function(H){return isFinite(H=N(H))?g(H+f):this.getAttribute("transform")}),J.attr("opacity",p3).attr("transform",function(H){var W=this.parentNode.__axis;return g((W&&isFinite(W=W(H))?W:N(H))+f)})),X.remove(),F.attr("d",i===hh||i===Sh?l?"M"+d*l+","+I+"H"+f+"V"+C+"H"+d*l:"M"+f+","+I+"V"+C:l?"M"+I+","+d*l+"V"+f+"H"+C+"V"+d*l:"M"+I+","+f+"H"+C),D.attr("opacity",1).attr("transform",function(H){return g(N(H)+f)}),rt.attr(p+"2",d*o),q.attr(p,d*E).text(b),R.filter(LA).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",i===Sh?"start":i===hh?"end":"middle"),R.each(function(){this.__axis=N})}return v.scale=function(_){return arguments.length?(t=_,v):t},v.ticks=function(){return e=Array.from(arguments),v},v.tickArguments=function(_){return arguments.length?(e=_==null?[]:Array.from(_),v):e.slice()},v.tickValues=function(_){return arguments.length?(n=_==null?null:Array.from(_),v):n&&n.slice()},v.tickFormat=function(_){return arguments.length?(s=_,v):s},v.tickSize=function(_){return arguments.length?(o=l=+_,v):o},v.tickSizeInner=function(_){return arguments.length?(o=+_,v):o},v.tickSizeOuter=function(_){return arguments.length?(l=+_,v):l},v.tickPadding=function(_){return arguments.length?(h=+_,v):h},v.offset=function(_){return arguments.length?(f=+_,v):f},v}function UA(i){return U6(Sh,i)}function FA(i){return U6(u1,i)}function wh(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function kA(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function F6(i){let t,e,n;i.length!==2?(t=wh,e=(h,f)=>wh(i(h),f),n=(h,f)=>i(h)-f):(t=i===wh||i===kA?i:zA,e=i,n=i);function s(h,f,d=0,p=h.length){if(d<p){if(t(f,f)!==0)return p;do{const g=d+p>>>1;e(h[g],f)<0?d=g+1:p=g}while(d<p)}return d}function o(h,f,d=0,p=h.length){if(d<p){if(t(f,f)!==0)return p;do{const g=d+p>>>1;e(h[g],f)<=0?d=g+1:p=g}while(d<p)}return d}function l(h,f,d=0,p=h.length){const g=s(h,f,d,p-1);return g>d&&n(h[g-1],f)>-n(h[g],f)?g-1:g}return{left:s,center:l,right:o}}function zA(){return 0}function GA(i){return i===null?NaN:+i}const HA=F6(wh),jA=HA.right;F6(GA).center;class m3 extends Map{constructor(t,e=YA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(g3(this,t))}has(t){return super.has(g3(this,t))}set(t,e){return super.set(XA(this,t),e)}delete(t){return super.delete(VA(this,t))}}function g3({_intern:i,_key:t},e){const n=t(e);return i.has(n)?i.get(n):e}function XA({_intern:i,_key:t},e){const n=t(e);return i.has(n)?i.get(n):(i.set(n,e),e)}function VA({_intern:i,_key:t},e){const n=t(e);return i.has(n)&&(e=i.get(e),i.delete(n)),e}function YA(i){return i!==null&&typeof i=="object"?i.valueOf():i}const qA=Math.sqrt(50),$A=Math.sqrt(10),WA=Math.sqrt(2);function Wh(i,t,e){const n=(t-i)/Math.max(0,e),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),l=o>=qA?10:o>=$A?5:o>=WA?2:1;let h,f,d;return s<0?(d=Math.pow(10,-s)/l,h=Math.round(i*d),f=Math.round(t*d),h/d<i&&++h,f/d>t&&--f,d=-d):(d=Math.pow(10,s)*l,h=Math.round(i/d),f=Math.round(t/d),h*d<i&&++h,f*d>t&&--f),f<h&&.5<=e&&e<2?Wh(i,t,e*2):[h,f,d]}function ZA(i,t,e){if(t=+t,i=+i,e=+e,!(e>0))return[];if(i===t)return[i];const n=t<i,[s,o,l]=n?Wh(t,i,e):Wh(i,t,e);if(!(o>=s))return[];const h=o-s+1,f=new Array(h);if(n)if(l<0)for(let d=0;d<h;++d)f[d]=(o-d)/-l;else for(let d=0;d<h;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<h;++d)f[d]=(s+d)/-l;else for(let d=0;d<h;++d)f[d]=(s+d)*l;return f}function h1(i,t,e){return t=+t,i=+i,e=+e,Wh(i,t,e)[2]}function KA(i,t,e){t=+t,i=+i,e=+e;const n=t<i,s=n?h1(t,i,e):h1(i,t,e);return(n?-1:1)*(s<0?1/-s:s)}function c1(i,t){let e;if(t===void 0)for(const n of i)n!=null&&(e<n||e===void 0&&n>=n)&&(e=n);else{let n=-1;for(let s of i)(s=t(s,++n,i))!=null&&(e<s||e===void 0&&s>=s)&&(e=s)}return e}function mp(i,t){let e=0;if(t===void 0)for(let n of i)(n=+n)&&(e+=n);else{let n=-1;for(let s of i)(s=+t(s,++n,i))&&(e+=s)}return e}function k6(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}const y3=Symbol("implicit");function z6(){var i=new m3,t=[],e=[],n=y3;function s(o){let l=i.get(o);if(l===void 0){if(n!==y3)return n;i.set(o,l=t.push(o)-1)}return e[l%e.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],i=new m3;for(const l of o)i.has(l)||i.set(l,t.push(l)-1);return s},s.range=function(o){return arguments.length?(e=Array.from(o),s):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return z6(t,e).unknown(n)},k6.apply(s,arguments),s}function G1(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function G6(i,t){var e=Object.create(i.prototype);for(var n in t)e[n]=t[n];return e}function Sl(){}var yl=.7,Zh=1/yl,Fa="\\s*([+-]?\\d+)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QA=/^#([0-9a-f]{3,8})$/,JA=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),tS=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),eS=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${vl}\\)$`),iS=new RegExp(`^rgba\\(${mn},${mn},${mn},${vl}\\)$`),nS=new RegExp(`^hsl\\(${vl},${mn},${mn}\\)$`),rS=new RegExp(`^hsla\\(${vl},${mn},${mn},${vl}\\)$`),v3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G1(Sl,Ur,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:_3,formatHex:_3,formatHex8:sS,formatHsl:aS,formatRgb:x3,toString:x3});function _3(){return this.rgb().formatHex()}function sS(){return this.rgb().formatHex8()}function aS(){return H6(this).formatHsl()}function x3(){return this.rgb().formatRgb()}function Ur(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=QA.exec(i))?(e=t[1].length,t=parseInt(t[1],16),e===6?b3(t):e===3?new ii(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?ch(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?ch(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JA.exec(i))?new ii(t[1],t[2],t[3],1):(t=tS.exec(i))?new ii(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eS.exec(i))?ch(t[1],t[2],t[3],t[4]):(t=iS.exec(i))?ch(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nS.exec(i))?A3(t[1],t[2]/100,t[3]/100,1):(t=rS.exec(i))?A3(t[1],t[2]/100,t[3]/100,t[4]):v3.hasOwnProperty(i)?b3(v3[i]):i==="transparent"?new ii(NaN,NaN,NaN,0):null}function b3(i){return new ii(i>>16&255,i>>8&255,i&255,1)}function ch(i,t,e,n){return n<=0&&(i=t=e=NaN),new ii(i,t,e,n)}function oS(i){return i instanceof Sl||(i=Ur(i)),i?(i=i.rgb(),new ii(i.r,i.g,i.b,i.opacity)):new ii}function f1(i,t,e,n){return arguments.length===1?oS(i):new ii(i,t,e,n??1)}function ii(i,t,e,n){this.r=+i,this.g=+t,this.b=+e,this.opacity=+n}G1(ii,f1,G6(Sl,{brighter(i){return i=i==null?Zh:Math.pow(Zh,i),new ii(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?yl:Math.pow(yl,i),new ii(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new ii(ws(this.r),ws(this.g),ws(this.b),Kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T3,formatHex:T3,formatHex8:lS,formatRgb:E3,toString:E3}));function T3(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}`}function lS(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}${Es((isNaN(this.opacity)?1:this.opacity)*255)}`}function E3(){const i=Kh(this.opacity);return`${i===1?"rgb(":"rgba("}${ws(this.r)}, ${ws(this.g)}, ${ws(this.b)}${i===1?")":`, ${i})`}`}function Kh(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function ws(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function Es(i){return i=ws(i),(i<16?"0":"")+i.toString(16)}function A3(i,t,e,n){return n<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new Yi(i,t,e,n)}function H6(i){if(i instanceof Yi)return new Yi(i.h,i.s,i.l,i.opacity);if(i instanceof Sl||(i=Ur(i)),!i)return new Yi;if(i instanceof Yi)return i;i=i.rgb();var t=i.r/255,e=i.g/255,n=i.b/255,s=Math.min(t,e,n),o=Math.max(t,e,n),l=NaN,h=o-s,f=(o+s)/2;return h?(t===o?l=(e-n)/h+(e<n)*6:e===o?l=(n-t)/h+2:l=(t-e)/h+4,h/=f<.5?o+s:2-o-s,l*=60):h=f>0&&f<1?0:l,new Yi(l,h,f,i.opacity)}function uS(i,t,e,n){return arguments.length===1?H6(i):new Yi(i,t,e,n??1)}function Yi(i,t,e,n){this.h=+i,this.s=+t,this.l=+e,this.opacity=+n}G1(Yi,uS,G6(Sl,{brighter(i){return i=i==null?Zh:Math.pow(Zh,i),new Yi(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?yl:Math.pow(yl,i),new Yi(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,s=2*e-n;return new ii(gp(i>=240?i-240:i+120,s,n),gp(i,s,n),gp(i<120?i+240:i-120,s,n),this.opacity)},clamp(){return new Yi(S3(this.h),fh(this.s),fh(this.l),Kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=Kh(this.opacity);return`${i===1?"hsl(":"hsla("}${S3(this.h)}, ${fh(this.s)*100}%, ${fh(this.l)*100}%${i===1?")":`, ${i})`}`}}));function S3(i){return i=(i||0)%360,i<0?i+360:i}function fh(i){return Math.max(0,Math.min(1,i||0))}function gp(i,t,e){return(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)*255}const H1=i=>()=>i;function hS(i,t){return function(e){return i+e*t}}function cS(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(n){return Math.pow(i+n*t,e)}}function fS(i){return(i=+i)==1?j6:function(t,e){return e-t?cS(t,e,i):H1(isNaN(t)?e:t)}}function j6(i,t){var e=t-i;return e?hS(i,e):H1(isNaN(i)?t:i)}const _l=(function i(t){var e=fS(t);function n(s,o){var l=e((s=f1(s)).r,(o=f1(o)).r),h=e(s.g,o.g),f=e(s.b,o.b),d=j6(s.opacity,o.opacity);return function(p){return s.r=l(p),s.g=h(p),s.b=f(p),s.opacity=d(p),s+""}}return n.gamma=i,n})(1);function dS(i,t){t||(t=[]);var e=i?Math.min(t.length,i.length):0,n=t.slice(),s;return function(o){for(s=0;s<e;++s)n[s]=i[s]*(1-o)+t[s]*o;return n}}function pS(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function mS(i,t){var e=t?t.length:0,n=i?Math.min(e,i.length):0,s=new Array(n),o=new Array(e),l;for(l=0;l<n;++l)s[l]=j1(i[l],t[l]);for(;l<e;++l)o[l]=t[l];return function(h){for(l=0;l<n;++l)o[l]=s[l](h);return o}}function gS(i,t){var e=new Date;return i=+i,t=+t,function(n){return e.setTime(i*(1-n)+t*n),e}}function Xi(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}function yS(i,t){var e={},n={},s;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in i?e[s]=j1(i[s],t[s]):n[s]=t[s];return function(o){for(s in e)n[s]=e[s](o);return n}}var d1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yp=new RegExp(d1.source,"g");function vS(i){return function(){return i}}function _S(i){return function(t){return i(t)+""}}function X6(i,t){var e=d1.lastIndex=yp.lastIndex=0,n,s,o,l=-1,h=[],f=[];for(i=i+"",t=t+"";(n=d1.exec(i))&&(s=yp.exec(t));)(o=s.index)>e&&(o=t.slice(e,o),h[l]?h[l]+=o:h[++l]=o),(n=n[0])===(s=s[0])?h[l]?h[l]+=s:h[++l]=s:(h[++l]=null,f.push({i:l,x:Xi(n,s)})),e=yp.lastIndex;return e<t.length&&(o=t.slice(e),h[l]?h[l]+=o:h[++l]=o),h.length<2?f[0]?_S(f[0].x):vS(t):(t=f.length,function(d){for(var p=0,g;p<t;++p)h[(g=f[p]).i]=g.x(d);return h.join("")})}function j1(i,t){var e=typeof t,n;return t==null||e==="boolean"?H1(t):(e==="number"?Xi:e==="string"?(n=Ur(t))?(t=n,_l):X6:t instanceof Ur?_l:t instanceof Date?gS:pS(t)?dS:Array.isArray(t)?mS:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yS:Xi)(i,t)}function xS(i,t){return i=+i,t=+t,function(e){return Math.round(i*(1-e)+t*e)}}var w3=180/Math.PI,V6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Y6(i,t,e,n,s,o){var l,h,f;return(l=Math.sqrt(i*i+t*t))&&(i/=l,t/=l),(f=i*e+t*n)&&(e-=i*f,n-=t*f),(h=Math.sqrt(e*e+n*n))&&(e/=h,n/=h,f/=h),i*n<t*e&&(i=-i,t=-t,f=-f,l=-l),{translateX:s,translateY:o,rotate:Math.atan2(t,i)*w3,skewX:Math.atan(f)*w3,scaleX:l,scaleY:h}}var dh;function bS(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?V6:Y6(t.a,t.b,t.c,t.d,t.e,t.f)}function TS(i){return i==null||(dh||(dh=document.createElementNS("http://www.w3.org/2000/svg","g")),dh.setAttribute("transform",i),!(i=dh.transform.baseVal.consolidate()))?V6:(i=i.matrix,Y6(i.a,i.b,i.c,i.d,i.e,i.f))}function q6(i,t,e,n){function s(d){return d.length?d.pop()+" ":""}function o(d,p,g,v,_,x){if(d!==g||p!==v){var b=_.push("translate(",null,t,null,e);x.push({i:b-4,x:Xi(d,g)},{i:b-2,x:Xi(p,v)})}else(g||v)&&_.push("translate("+g+t+v+e)}function l(d,p,g,v){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),v.push({i:g.push(s(g)+"rotate(",null,n)-2,x:Xi(d,p)})):p&&g.push(s(g)+"rotate("+p+n)}function h(d,p,g,v){d!==p?v.push({i:g.push(s(g)+"skewX(",null,n)-2,x:Xi(d,p)}):p&&g.push(s(g)+"skewX("+p+n)}function f(d,p,g,v,_,x){if(d!==g||p!==v){var b=_.push(s(_)+"scale(",null,",",null,")");x.push({i:b-4,x:Xi(d,g)},{i:b-2,x:Xi(p,v)})}else(g!==1||v!==1)&&_.push(s(_)+"scale("+g+","+v+")")}return function(d,p){var g=[],v=[];return d=i(d),p=i(p),o(d.translateX,d.translateY,p.translateX,p.translateY,g,v),l(d.rotate,p.rotate,g,v),h(d.skewX,p.skewX,g,v),f(d.scaleX,d.scaleY,p.scaleX,p.scaleY,g,v),d=p=null,function(_){for(var x=-1,b=v.length,E;++x<b;)g[(E=v[x]).i]=E.x(_);return g.join("")}}}var ES=q6(bS,"px, ","px)","deg)"),AS=q6(TS,", ",")",")"),SS=1e-12;function C3(i){return((i=Math.exp(i))+1/i)/2}function wS(i){return((i=Math.exp(i))-1/i)/2}function CS(i){return((i=Math.exp(2*i))-1)/(i+1)}const MS=(function i(t,e,n){function s(o,l){var h=o[0],f=o[1],d=o[2],p=l[0],g=l[1],v=l[2],_=p-h,x=g-f,b=_*_+x*x,E,A;if(b<SS)A=Math.log(v/d)/t,E=function(D){return[h+D*_,f+D*x,d*Math.exp(t*D*A)]};else{var I=Math.sqrt(b),C=(v*v-d*d+n*b)/(2*d*e*I),N=(v*v-d*d-n*b)/(2*v*e*I),R=Math.log(Math.sqrt(C*C+1)-C),F=Math.log(Math.sqrt(N*N+1)-N);A=(F-R)/t,E=function(D){var X=D*A,J=C3(R),rt=d/(e*I)*(J*CS(t*X+R)-wS(R));return[h+rt*_,f+rt*x,d*J/C3(t*X+R)]}}return E.duration=A*1e3*t/Math.SQRT2,E}return s.rho=function(o){var l=Math.max(.001,+o),h=l*l,f=h*h;return i(l,h,f)},s})(Math.SQRT2,2,4);function RS(i,t){for(var e=new Array(t),n=0;n<t;++n)e[n]=i(n/(t-1));return e}function DS(i){return function(){return i}}function OS(i){return+i}var M3=[0,1];function Ra(i){return i}function p1(i,t){return(t-=i=+i)?function(e){return(e-i)/t}:DS(isNaN(t)?NaN:.5)}function BS(i,t){var e;return i>t&&(e=i,i=t,t=e),function(n){return Math.max(i,Math.min(t,n))}}function IS(i,t,e){var n=i[0],s=i[1],o=t[0],l=t[1];return s<n?(n=p1(s,n),o=e(l,o)):(n=p1(n,s),o=e(o,l)),function(h){return o(n(h))}}function NS(i,t,e){var n=Math.min(i.length,t.length)-1,s=new Array(n),o=new Array(n),l=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=p1(i[l],i[l+1]),o[l]=e(t[l],t[l+1]);return function(h){var f=jA(i,h,1,n)-1;return o[f](s[f](h))}}function PS(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function LS(){var i=M3,t=M3,e=j1,n,s,o,l=Ra,h,f,d;function p(){var v=Math.min(i.length,t.length);return l!==Ra&&(l=BS(i[0],i[v-1])),h=v>2?NS:IS,f=d=null,g}function g(v){return v==null||isNaN(v=+v)?o:(f||(f=h(i.map(n),t,e)))(n(l(v)))}return g.invert=function(v){return l(s((d||(d=h(t,i.map(n),Xi)))(v)))},g.domain=function(v){return arguments.length?(i=Array.from(v,OS),p()):i.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),e=xS,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Ra,p()):l!==Ra},g.interpolate=function(v){return arguments.length?(e=v,p()):e},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,_){return n=v,s=_,p()}}function US(){return LS()(Ra,Ra)}function FS(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function Qh(i,t){if((e=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var e,n=i.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+i.slice(e+1)]}function Ha(i){return i=Qh(Math.abs(i)),i?i[1]:NaN}function kS(i,t){return function(e,n){for(var s=e.length,o=[],l=0,h=i[0],f=0;s>0&&h>0&&(f+h+1>n&&(h=Math.max(1,n-f)),o.push(e.substring(s-=h,s+h)),!((f+=h+1)>n));)h=i[l=(l+1)%i.length];return o.reverse().join(t)}}function zS(i){return function(t){return t.replace(/[0-9]/g,function(e){return i[+e]})}}var GS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jh(i){if(!(t=GS.exec(i)))throw new Error("invalid format: "+i);var t;return new X1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jh.prototype=X1.prototype;function X1(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}X1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HS(i){t:for(var t=i.length,e=1,n=-1,s;e<t;++e)switch(i[e]){case".":n=s=e;break;case"0":n===0&&(n=e),s=e;break;default:if(!+i[e])break t;n>0&&(n=0);break}return n>0?i.slice(0,n)+i.slice(s+1):i}var $6;function jS(i,t){var e=Qh(i,t);if(!e)return i+"";var n=e[0],s=e[1],o=s-($6=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Qh(i,Math.max(0,t+o-1))[0]}function R3(i,t){var e=Qh(i,t);if(!e)return i+"";var n=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const D3={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:FS,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>R3(i*100,t),r:R3,s:jS,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function O3(i){return i}var B3=Array.prototype.map,I3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XS(i){var t=i.grouping===void 0||i.thousands===void 0?O3:kS(B3.call(i.grouping,Number),i.thousands+""),e=i.currency===void 0?"":i.currency[0]+"",n=i.currency===void 0?"":i.currency[1]+"",s=i.decimal===void 0?".":i.decimal+"",o=i.numerals===void 0?O3:zS(B3.call(i.numerals,String)),l=i.percent===void 0?"%":i.percent+"",h=i.minus===void 0?"":i.minus+"",f=i.nan===void 0?"NaN":i.nan+"";function d(g){g=Jh(g);var v=g.fill,_=g.align,x=g.sign,b=g.symbol,E=g.zero,A=g.width,I=g.comma,C=g.precision,N=g.trim,R=g.type;R==="n"?(I=!0,R="g"):D3[R]||(C===void 0&&(C=12),N=!0,R="g"),(E||v==="0"&&_==="=")&&(E=!0,v="0",_="=");var F=b==="$"?e:b==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",D=b==="$"?n:/[%p]/.test(R)?l:"",X=D3[R],J=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function rt(q){var H=F,W=D,L,nt,S;if(R==="c")W=X(q)+W,q="";else{q=+q;var M=q<0||1/q<0;if(q=isNaN(q)?f:X(Math.abs(q),C),N&&(q=HS(q)),M&&+q==0&&x!=="+"&&(M=!1),H=(M?x==="("?x:h:x==="-"||x==="("?"":x)+H,W=(R==="s"?I3[8+$6/3]:"")+W+(M&&x==="("?")":""),J){for(L=-1,nt=q.length;++L<nt;)if(S=q.charCodeAt(L),48>S||S>57){W=(S===46?s+q.slice(L+1):q.slice(L))+W,q=q.slice(0,L);break}}}I&&!E&&(q=t(q,1/0));var O=H.length+q.length+W.length,z=O<A?new Array(A-O+1).join(v):"";switch(I&&E&&(q=t(z+q,z.length?A-W.length:1/0),z=""),_){case"<":q=H+q+W+z;break;case"=":q=H+z+q+W;break;case"^":q=z.slice(0,O=z.length>>1)+H+q+W+z.slice(O);break;default:q=z+H+q+W;break}return o(q)}return rt.toString=function(){return g+""},rt}function p(g,v){var _=d((g=Jh(g),g.type="f",g)),x=Math.max(-8,Math.min(8,Math.floor(Ha(v)/3)))*3,b=Math.pow(10,-x),E=I3[8+x/3];return function(A){return _(b*A)+E}}return{format:d,formatPrefix:p}}var ph,W6,Z6;VS({thousands:",",grouping:[3],currency:["$",""]});function VS(i){return ph=XS(i),W6=ph.format,Z6=ph.formatPrefix,ph}function YS(i){return Math.max(0,-Ha(Math.abs(i)))}function qS(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ha(t)/3)))*3-Ha(Math.abs(i)))}function $S(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,Ha(t)-Ha(i))+1}function WS(i,t,e,n){var s=KA(i,t,e),o;switch(n=Jh(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(i),Math.abs(t));return n.precision==null&&!isNaN(o=qS(s,l))&&(n.precision=o),Z6(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=$S(s,Math.max(Math.abs(i),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=YS(s))&&(n.precision=o-(n.type==="%")*2);break}}return W6(n)}function ZS(i){var t=i.domain;return i.ticks=function(e){var n=t();return ZA(n[0],n[n.length-1],e??10)},i.tickFormat=function(e,n){var s=t();return WS(s[0],s[s.length-1],e??10,n)},i.nice=function(e){e==null&&(e=10);var n=t(),s=0,o=n.length-1,l=n[s],h=n[o],f,d,p=10;for(h<l&&(d=l,l=h,h=d,d=s,s=o,o=d);p-- >0;){if(d=h1(l,h,e),d===f)return n[s]=l,n[o]=h,t(n);if(d>0)l=Math.floor(l/d)*d,h=Math.ceil(h/d)*d;else if(d<0)l=Math.ceil(l*d)/d,h=Math.floor(h*d)/d;else break;f=d}return i},i}function ja(){var i=US();return i.copy=function(){return PS(i,ja())},k6.apply(i,arguments),ZS(i)}class KS{constructor(t,e=!0,n,s,o,l){this._showLabels=!0,this._offsetX=0,this._offsetY=0,this._flipX=!1,this._flipY=!1,this.visible=!0,this.createOrGet=h=>{const{mainGroup:f}=this;let d=f.select(`g.${h}`);return d.empty()&&(d=f.append("g").attr("class",h)),d},this.mainGroup=t,this._showLabels=e,this._labelXDesc=n,this._labelYDesc=s,this._unitOfMeasure=o,l&&l.offsetX&&(this._offsetX=l.offsetX),l&&l.offsetX&&(this._offsetY=l.offsetY),l&&l.visible&&(this.visible=l.visible),this.mainGroup.style("pointer-events","none"),this._scaleX=ja().domain([0,1]).range([0,1]),this._scaleY=ja().domain([0,1]).range([0,1])}renderLabelx(){const{_labelXDesc:t,_unitOfMeasure:e,_showLabels:n,_scaleX:s}=this,[,o]=s.range(),l=this.renderGx();let h=l.select("text.axis-labelx");return n?h.empty()&&(h=l.append("text").attr("class","axis-labelx").attr("fill","rgba(0,0,0,0.3)").style("text-anchor","middle").style("font-weight","800").style("font-size","10px").text(`${t} (${e})`)):h.remove(),h.attr("transform",`translate(${o/2},-4)`),h}renderLabely(){const{_labelYDesc:t,_unitOfMeasure:e,_showLabels:n,_scaleY:s}=this,[,o]=s.range(),l=this.renderGy();let h=l.select("text.axis-labely");return n?(h.empty()&&(h=l.append("text").attr("class","axis-labely").attr("fill","rgba(0,0,0,0.3)").style("text-anchor","middle").style("font-weight","800").style("font-size","10px").text(`${t} (${e})`)),h.attr("transform",`translate(-10,${o/2})rotate(90)`)):h.remove(),h}renderGy(){const{_scaleX:t,_scaleY:e}=this,n=UA(e),[,s]=t.range(),o=this.createOrGet("y-axis");return o.call(n),o.attr("transform",`translate(${s},0)`),o}renderGx(){const{_scaleX:t,_scaleY:e}=this,n=FA(t),[,s]=e.range(),o=this.createOrGet("x-axis");return o.attr("transform",`translate(0 ${s})`),o.call(n),o}render(){this.renderLabelx(),this.renderLabely()}onResize(t){this.mainGroup.attr("height",`${t.height}px`).attr("width",`${t.width}px`)}onRescale(t){const{_scaleX:e,_scaleY:n,offsetX:s,offsetY:o}=this,{xScale:l,yScale:h}=t,f=l.domain(),d=h.domain(),p=l.range(),g=h.range();e.domain([f[0]-s,f[1]-s]).range(p),n.domain([d[0]-o,d[1]-o]).range(g),this.flipX(this._flipX),this.flipY(this._flipY),this.visible&&this.render()}show(){return this.visible=!0,this.mainGroup.attr("visibility","visible"),this.render(),this}hide(){return this.visible=!1,this.mainGroup.attr("visibility","hidden"),this}flipX(t){this._flipX=t;const e=this._scaleX.domain(),n=t?-1:1;return this._scaleX.domain([n*e[0],n*e[1]]),this}flipY(t){this._flipY=t;const e=this._scaleY.domain(),n=t?-1:1;return this._scaleY.domain([n*e[0],n*e[1]]),this}showLabels(){return this._showLabels=!0,this.render(),this}hideLabels(){return this._showLabels=!1,this.render(),this}setLabelX(t){return this._labelXDesc=t,this}setLabelY(t){return this._labelYDesc=t,this}setUnitOfMeasure(t){return this._unitOfMeasure=t,this}setLabels(t,e,n){return this._labelXDesc=t,this._labelYDesc=e,this._unitOfMeasure=n,this}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t}get scaleX(){return this._scaleX.copy()}get scaleY(){return this._scaleY.copy()}}const QS=Math.PI/180;function Xa(i,t=0,e=1){return i<t?t:i>e?e:i}function JS(i){return i*QS}function Qo(i,t,e){e===void 0&&(e=i);for(var n=0;n<i.length;n++)e[n]=i[n]+t[n];return e}function Jo(i,t,e){e===void 0&&(e=i);for(var n=0;n<i.length;n++)e[n]=i[n]-t[n];return e}function _s(i,t,e){e===void 0&&(e=i);for(var n=0;n<i.length;n++)e[n]=i[n]*t;return e}function tw(i){for(var t=0,e=0;e<i.length;e++)t+=Math.pow(i[e],2);return t}function cl(i){var t=tw(i);return t===0?t:Math.sqrt(t)}function N3(i,t){t===void 0&&(t=i);var e=cl(i);return e===0?ew(0,t):_s(i,1/e,t)}function ew(i,t){for(var e=0;e<t.length;e++)t[e]=i;return t}function iw(i,t){for(var e=0,n=0;n<i.length;n++)e+=Math.pow(t[n]-i[n],2);return e===0?e:Math.sqrt(e)}function nw(i,t){for(var e=0,n=0;n<i.length;n++)e+=i[n]*t[n];return e}function rw(i,t,e,n){n===void 0&&(n=i);for(var s=Xa(e,0,1),o=1-s,l=0;l<i.length;l++)n[l]=i[l]*o+t[l]*s;return n}function sw(i,t,e){e===void 0&&(e=i);for(var n=0;n<i.length;n++)e[n]=t(i[n],n);return e}function P3(i,t){t===void 0&&(t=0),t===void 0&&(t=0);for(var e=0;e<i.length;e++)if(Math.abs(i[e])>t)return!1;return!0}var vp=180/Math.PI,aw=Math.PI/180;function _p(i,t,e){var n=Math.cos(t),s=Math.sin(t),o=i[0];return e[0]=n*o-s*i[1],e[1]=s*o+n*i[1],e}function L3(i){return Math.atan2(i[1],i[0])}function tl(i,t){var e=Math.atan2(t[1],t[0])-Math.atan2(i[1],i[0]);return e>Math.PI?e-=2*Math.PI:e<=-Math.PI&&(e+=2*Math.PI),e}var ti=(function(){function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.isMutating=!1,this.length=2,typeof t=="number"?typeof e[0]=="number"?(this[0]=t,this[1]=e[0]):(this[0]=t,this[1]=t):"x"in t&&"y"in t?(this[0]=t.x,this[1]=t.y):(this[0]=t[0],this[1]=t[1])}return Object.defineProperty(i.prototype,"x",{get:function(){return this[0]},set:function(t){this[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this[1]},set:function(t){this[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"magnitude",{get:function(){return cl(this)},set:function(t){var e=cl(this);_s(this,t/e,this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mutable",{get:function(){return this.isMutating=!0,this},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"immutable",{get:function(){return this.isMutating=!1,this},enumerable:!1,configurable:!0}),i.prototype.set=function(t,e){return typeof t=="number"?typeof e=="number"?(this[0]=t,this[1]=e):(this[0]=t,this[1]=t):(this[0]=t[0],this[1]=t[1]),this},i.prototype.add=function(t,e){return e===void 0&&(e=0),typeof t=="number"?this.isMutating?Qo(this,[t,e]):Qo(this.clone(),[t,e]):this.isMutating?Qo(this,t):Qo(this.clone(),t)},i.add=function(t,e){var n=new i(t);return Qo(n,e)},i.prototype.sub=function(t,e){return e===void 0&&(e=0),typeof t=="number"?this.isMutating?Jo(this,[t,e]):Jo(this.clone(),[t,e]):this.isMutating?Jo(this,t):Jo(this.clone(),t)},i.sub=function(t,e){var n=new i(t);return Jo(n,e)},i.prototype.subFrom=function(t,e){return e===void 0&&(e=0),typeof t=="number"?this.isMutating?(this[0]=t-this[0],this[1]=e-this[1],this):new i(t-this[0],e-this[1]):this.isMutating?(this[0]=t[0]-this[0],this[1]=t[1]-this[1],this):new i(t[0]-this[0],t[1]-this[1])},i.divide=function(t,e){var n=new i(t);return _s(n,1/e)},i.multiply=function(t,e){var n=new i(t);return _s(n,e)},i.prototype.scale=function(t){return _s(this,t,this.isMutating?this:i.zero)},i.prototype.rescale=function(t){var e=cl(this);return e<=0?this.isMutating?this:i.zero:_s(this,t/e,this.isMutating?this:i.zero)},i.prototype.clampMagnitude=function(t){var e=cl(this);return e>t?_s(this,t/e,this.isMutating?this:i.zero):this.isMutating?this:this.clone()},i.prototype.rotate=function(t){return _p(this,t,this.isMutating?this:i.zero)},i.prototype.rotateDeg=function(t){return _p(this,t*aw,this.isMutating?this:i.zero)},i.prototype.rotate90=function(){return t=this,e=this.isMutating?this:i.zero,n=t[0],e[0]=-t[1],e[1]=n,e;var t,e,n},i.prototype.rotate180=function(){return t=this,(e=this.isMutating?this:i.zero)[0]=-t[0],e[1]=-t[1],e;var t,e},i.prototype.rotate270=function(){return t=this,e=this.isMutating?this:i.zero,n=t[0],e[0]=t[1],e[1]=-n,e;var t,e,n},i.prototype.normalize=function(){return N3(this)},i.prototype.normalized=function(){return N3(this,i.zero)},i.distance=function(t,e){return iw(t,e)},i.dot=function(t,e){return nw(t,e)},i.cross=function(t,e){return(function(n,s){return n[0]*s[1]-n[1]*s[0]})(t,e)},i.angleRight=function(t){return L3(t)},i.angleRightDeg=function(t){return L3(t)*vp},i.angle=function(t,e){return Math.abs(tl(t,e))},i.angleDeg=function(t,e){return Math.abs(tl(t,e))*vp},i.signedAngle=function(t,e){return tl(t,e)},i.signedAngleDeg=function(t,e){return tl(t,e)*vp},i.lerp=function(t,e,n){var s=new i(t);return rw(s,e,n)},i.lerpRot=function(t,e,n){return(function(s,o,l,h){return h===void 0&&(h=s),_p(s,l*tl(s,o),h)})(t,e,n,i.zero)},i.prototype.clone=function(){return new i(this[0],this[1])},i.equals=function(t,e,n){return n===void 0&&(n=0),!(Math.abs(t[0]-e[0])>n)&&!(Math.abs(t[1]-e[1])>n)},i.prototype.equals=function(t,e){return e===void 0&&(e=0),i.equals(this,t,e)},i.isZeroVector=function(t,e){return e===void 0&&(e=0),P3(t,e)},i.prototype.isZeroVector=function(t){return t===void 0&&(t=0),P3(this,t)},i.prototype.toArray=function(){return[this[0],this[1]]},i.prototype.modify=function(t){return sw(this,t)},i.prototype[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){switch(e++){case 0:return{value:t[0],done:!1};case 1:return{value:t[1],done:!1};default:return{value:-1,done:!0}}}}},Object.defineProperty(i,"zero",{get:function(){return new i(0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"one",{get:function(){return new i(1,1)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"positiveInfinity",{get:function(){return new i(1/0,1/0)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"negativeInfinity",{get:function(){return new i(-1/0,-1/0)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"up",{get:function(){return new i(0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"right",{get:function(){return new i(1,0)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"down",{get:function(){return new i(0,-1)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"left",{get:function(){return new i(-1,0)},enumerable:!1,configurable:!0}),i})();var m1=function(i,t){return m1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},m1(i,t)};function K6(i,t){function e(){this.constructor=i}m1(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var tc=function(){return tc=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i},tc.apply(this,arguments)};function U3(i,t){for(var e=new Array(i.length),n=0;n<i.length;n++)e[n]=2*i[n]-t[n];return e}function g1(i,t,e){var n,s,o,l,h=t.length-1;if(e)n=t[i-1<0?h:i-1],s=t[i%t.length],o=t[(i+1)%t.length],l=t[(i+2)%t.length];else{if(i===h)throw Error("There is no spline segment at this index for a closed curve!");s=t[i],o=t[i+1],n=i>0?t[i-1]:U3(s,o),l=i<h-1?t[i+2]:U3(o,s)}return[n,s,o,l]}function ow(i,t,e){e===void 0&&(e=!1);var n=e?t.length:t.length-1;if(i===1)return{index:n-1,weight:1};var s=n*i,o=Math.floor(s);return{index:o,weight:s-o}}function lw(i,t){for(var e=0;e<i.length;e++)i[e]=t;return i}function uw(i,t){for(var e=0;e<i.length;e++)i[e]=t(i[e],e);return i}function hw(i,t,e){e===void 0&&(e=0);for(var n=0;n<i.length;n++)e=t(e,i[n],n);return e}function Ch(i,t){t=t||new Array(i.length);for(var e=0;e<i.length;e++)t[e]=i[e];return t}function Je(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),i<t?t:i>e?e:i}function y1(i,t){var e=t[0];if(i>=t[t.length-1])return t.length-1;if(i<=e)return 0;for(var n=0,s=t.length-1;n<=s;){var o=Math.floor((n+s)/2),l=t[o];if(l<i)n=o+1;else{if(!(l>i))return o;s=o-1}}return Math.max(0,s)}var Ii=Math.pow(2,-42);function F3(i){var t=Math.pow(Math.abs(i),.3333333333333333);return i<0?-t:t}function Q6(i,t,e){if(Math.abs(i)<Ii)return Math.abs(t)<Ii?[]:[-e/t];var n=t*t-4*i*e;return Math.abs(n)<Ii?[-t/(2*i)]:n>0?[(-t+Math.sqrt(n))/(2*i),(-t-Math.sqrt(n))/(2*i)]:[]}function cw(i,t,e,n){if(Math.abs(i)<Ii)return Q6(t,e,n);var s,o=(3*i*e-t*t)/(3*i*i),l=(2*t*t*t-9*i*t*e+27*i*i*n)/(27*i*i*i);if(Math.abs(o)<Ii)s=[F3(-l)];else if(Math.abs(l)<Ii)s=[0].concat(o<0?[Math.sqrt(-o),-Math.sqrt(-o)]:[]);else{var h=l*l/4+o*o*o/27;if(Math.abs(h)<Ii)s=[-1.5*l/o,3*l/o];else if(h>0)s=[(f=F3(-l/2-Math.sqrt(h)))-o/(3*f)];else{var f=2*Math.sqrt(-o/3),d=Math.acos(3*l/o/f)/3,p=2*Math.PI/3;s=[f*Math.cos(d),f*Math.cos(d-p),f*Math.cos(d-2*p)]}}for(var g=0;g<s.length;g++)s[g]-=t/(3*i);return s}function mh(i,t){if(i.length!==t.length)throw Error("Vectors must be of equal length!");for(var e=0,n=0;n<i.length;n++)e+=i[n]*t[n];return e}function zi(i,t,e){if(!(i.length>3)){e=e||new Array(3);var n=i[0],s=i[1],o=i[2]||0,l=t[0],h=t[1],f=t[2]||0;return e[0]=s*f-o*h,e[1]=o*l-n*f,e[2]=n*h-s*l,e}}function J6(i,t){for(var e=0,n=0;n<i.length;n++)e+=(i[n]-t[n])*(i[n]-t[n]);return e}function Ts(i){for(var t=0,e=0;e<i.length;e++)t+=i[e]*i[e];return Math.sqrt(t)}function ec(i,t){var e=J6(i,t);return e===0?0:Math.sqrt(e)}function Xn(i,t){var e=t?Ch(i,t):i,n=hw(e,(function(o,l){return o+Math.pow(l,2)})),s=Math.sqrt(n);return s===0?lw(e,0):uw(e,(function(o){return o/s}))}function k3(i,t,e,n){t===void 0&&(t=[0,1,0]),e===void 0&&(e=0);var s=Math.cos(e),o=Math.sin(e),l=1-s,h=i[0],f=i[1],d=i[2],p=t[0],g=t[1],v=t[2],_=l*p,x=l*g;return(n=n||i)[0]=(_*p+s)*h+(_*g-o*v)*f+(_*v+o*g)*d,n[1]=(_*g+o*v)*h+(x*g+s)*f+(x*v-o*p)*d,n[2]=(_*v-o*g)*h+(x*v+o*p)*f+(l*v*v+s)*d,n}function fw(i,t,e,n,s){if(s===void 0&&(s=0),s===0)return[0,1,2,3];var o=function(f,d){return Math.pow(J6(f,d),.5*s)},l=o(t,i),h=o(e,t)+l;return[0,l,h,o(n,e)+h]}function dw(i,t,e,n,s){for(var o=Number.isFinite(s.tension)?s.tension:.5,l=Number.isFinite(s.alpha)?s.alpha:null,h=l>0?fw(i,t,e,n,l):null,f=new Array(i.length),d=0;d<i.length;d++){var p=0,g=0,v=i[d],_=t[d],x=e[d],b=n[d];if(h){var E=h[0],A=h[1],I=h[2],C=h[3];A-I!=0&&(E-A!=0&&E-I!=0&&(p=(1-o)*(I-A)*((v-_)/(E-A)-(v-x)/(E-I)+(_-x)/(A-I))),A-C!=0&&I-C!=0&&(g=(1-o)*(I-A)*((_-x)/(A-I)-(_-b)/(A-C)+(x-b)/(I-C))))}else p=(1-o)*(x-v)*.5,g=(1-o)*(b-_)*.5;var N=2*_-2*x+p+g,R=-3*_+3*x-2*p-g,F=p,D=_;f[d]=[N,R,F,D]}return f}function Da(i,t){var e=i*i,n=i*e;return t[0]*n+t[1]*e+t[2]*i+t[3]}function Oa(i,t){var e=i*i;return 3*t[0]*e+2*t[1]*i+t[2]}function xp(i,t){return 6*t[0]*i+2*t[1]}function pw(i,t){var e=t[0],n=t[1],s=t[2],o=t[3]-i;return e===0&&n===0&&s===0&&o===0?[0]:cw(e,n,s,o).filter((function(l){return l>-Ii&&l<=1+Ii})).map((function(l){return Je(l,0,1)}))}function v1(i,t,e,n){n===void 0&&(n=null),n=n||new Array(e.length);for(var s=0;s<e.length;s++)n[s]=i(t,e[s]);return n}var t5=(function(){function i(t){t===void 0&&(t=null),this._alpha=0,this._tension=.5,this._closed=!1,this._onInvalidateCache=null,this._onInvalidateCache=t,this._cache={arcLengths:null,coefficients:null}}return i.prototype._invalidateCache=function(){this.points&&(this._cache={arcLengths:null,coefficients:null},this._onInvalidateCache&&this._onInvalidateCache())},Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(t){Number.isFinite(t)&&t!==this._alpha&&(this._invalidateCache(),this._alpha=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tension",{get:function(){return this._tension},set:function(t){Number.isFinite(t)&&t!==this._tension&&(this._invalidateCache(),this._tension=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"points",{get:function(){return this._points},set:function(t){if(!t||t.length<2)throw Error("At least 2 control points are required!");this._points=t,this._invalidateCache()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"closed",{get:function(){return this._closed},set:function(t){t=!!t,this._closed!==t&&(this._invalidateCache(),this._closed=t)},enumerable:!1,configurable:!0}),i.prototype.reset=function(){this._invalidateCache()},i.prototype.evaluateForT=function(t,e,n){var s=ow(e,this.points,this.closed),o=s.index;return v1(t,s.weight,this.getCoefficients(o),n)},i.prototype.getCoefficients=function(t){if(this.points){if(this._cache.coefficients||(this._cache.coefficients=new Map),!this._cache.coefficients.has(t)){var e=g1(t,this.points,this.closed),n=dw(e[0],e[1],e[2],e[3],{tension:this.tension,alpha:this.alpha});this._cache.coefficients.set(t,n)}return this._cache.coefficients.get(t)}},i})(),mw=(function(i){function t(e,n){e===void 0&&(e=300),n===void 0&&(n=null);var s=i.call(this,n)||this;return s._subDivisions=e,s}return K6(t,i),Object.defineProperty(t.prototype,"arcLengths",{get:function(){return this._cache.arcLengths||(this._cache.arcLengths=this.computeArcLengths()),this._cache.arcLengths},enumerable:!1,configurable:!0}),t.prototype._invalidateCache=function(){i.prototype._invalidateCache.call(this),this._cache.arcLengths=null},t.prototype.computeArcLengths=function(){var e,n=[],s=this.evaluateForT(Da,0),o=0;n.push(0);for(var l=1;l<=this._subDivisions;l++)o+=ec(e=this.evaluateForT(Da,l/this._subDivisions),s),n.push(o),s=e;return n},t.prototype.lengthAt=function(e){var n=this.arcLengths;return e*n[n.length-1]},t.prototype.getT=function(e){var n=this.arcLengths,s=n.length,o=e*n[s-1],l=y1(o,n);if(n[l]===o)return l/(s-1);var h=n[l];return(l+(o-h)/(n[l+1]-h))/(s-1)},t.prototype.getU=function(e){if(e===0)return 0;if(e===1)return 1;var n=this.arcLengths,s=n.length-1,o=n[s],l=e*s,h=Math.floor(l),f=n[h];if(l===h)return f/o;var d=h/s;return(f+ec(this.evaluateForT(Da,d),this.evaluateForT(Da,e)))/o},t})(t5),e5=[[[-.906179845938664,.23692688505618908],[-.5384693101056831,.47862867049936647],[0,.5688888888888889],[.5384693101056831,.47862867049936647],[.906179845938664,.23692688505618908]],[[-.932469514203152,.17132449237917036],[-.6612093864662645,.3607615730481386],[-.2386191860831969,.46791393457269104],[.2386191860831969,.46791393457269104],[.6612093864662645,.3607615730481386],[.932469514203152,.17132449237917036]],[[-.9491079123427585,.1294849661688697],[-.7415311855993945,.27970539148927664],[-.4058451513773972,.3818300505051189],[0,.4179591836734694],[.4058451513773972,.3818300505051189],[.7415311855993945,.27970539148927664],[.9491079123427585,.1294849661688697]],[[-.9602898564975363,.10122853629037626],[-.7966664774136267,.22238103445337448],[-.525532409916329,.31370664587788727],[-.1834346424956498,.362683783378362],[.1834346424956498,.362683783378362],[.525532409916329,.31370664587788727],[.7966664774136267,.22238103445337448],[.9602898564975363,.10122853629037626]],[[-.9681602395076261,.08127438836157441],[-.8360311073266358,.1806481606948574],[-.6133714327005904,.26061069640293544],[-.3242534234038089,.31234707704000286],[0,.3302393550012598],[.3242534234038089,.31234707704000286],[.6133714327005904,.26061069640293544],[.8360311073266358,.1806481606948574],[.9681602395076261,.08127438836157441]],[[-.9739065285171717,.06667134430868814],[-.8650633666889845,.1494513491505806],[-.6794095682990244,.21908636251598204],[-.4333953941292472,.26926671930999635],[-.14887433898163122,.29552422471475287],[.14887433898163122,.29552422471475287],[.4333953941292472,.26926671930999635],[.6794095682990244,.21908636251598204],[.8650633666889845,.1494513491505806],[.9739065285171717,.06667134430868814]],[[-.978228658146056,.0556685671161736],[-.887062599768095,.125580369464904],[-.730152005574049,.186290210927734],[-.519096129206811,.23319376459199],[-.269543155952344,.262804544510246],[0,.2729250867779],[.269543155952344,.262804544510246],[.519096129206811,.23319376459199],[.730152005574049,.186290210927734],[.887062599768095,.125580369464904],[.978228658146056,.0556685671161736]],[[-.981560634246719,.0471753363865118],[-.904117256370474,.106939325995318],[-.769902674194304,.160078328543346],[-.587317954286617,.203167426723065],[-.36783149899818,.233492536538354],[-.125233408511468,.249147045813402],[.125233408511468,.249147045813402],[.36783149899818,.233492536538354],[.587317954286617,.203167426723065],[.769902674194304,.160078328543346],[.904117256370474,.106939325995318],[.981560634246719,.0471753363865118]],[[-.984183054718588,.0404840047653158],[-.917598399222977,.0921214998377284],[-.801578090733309,.138873510219787],[-.64234933944034,.178145980761945],[-.448492751036446,.207816047536888],[-.230458315955134,.226283180262897],[0,.232551553230873],[.230458315955134,.226283180262897],[.448492751036446,.207816047536888],[.64234933944034,.178145980761945],[.801578090733309,.138873510219787],[.917598399222977,.0921214998377284],[.984183054718588,.0404840047653158]],[[-.986283808696812,.0351194603317518],[-.928434883663573,.0801580871597602],[-.827201315069764,.121518570687903],[-.687292904811685,.157203167158193],[-.515248636358154,.185538397477937],[-.319112368927889,.205198463721295],[-.108054948707343,.215263853463157],[.108054948707343,.215263853463157],[.319112368927889,.205198463721295],[.515248636358154,.185538397477937],[.687292904811685,.157203167158193],[.827201315069764,.121518570687903],[.928434883663573,.0801580871597602],[.986283808696812,.0351194603317518]],[[-.987992518020485,.0307532419961172],[-.937273392400705,.0703660474881081],[-.848206583410427,.107159220467171],[-.72441773136017,.139570677926154],[-.570972172608538,.166269205816993],[-.394151347077563,.186161000015562],[-.201194093997434,.198431485327111],[0,.202578241925561],[.201194093997434,.198431485327111],[.394151347077563,.186161000015562],[.570972172608538,.166269205816993],[.72441773136017,.139570677926154],[.848206583410427,.107159220467171],[.937273392400705,.0703660474881081],[.987992518020485,.0307532419961172]],[[-.989400934991649,.027152459411754],[-.944575023073232,.0622535239386478],[-.865631202387831,.0951585116824927],[-.755404408355003,.124628971255533],[-.617876244402643,.149595988816576],[-.458016777657227,.169156519395002],[-.281603550779258,.182603415044923],[-.0950125098376374,.189450610455068],[.0950125098376374,.189450610455068],[.281603550779258,.182603415044923],[.458016777657227,.169156519395002],[.617876244402643,.149595988816576],[.755404408355003,.124628971255533],[.865631202387831,.0951585116824927],[.944575023073232,.0622535239386478],[.989400934991649,.027152459411754]],[[-.990575475314417,.0241483028685479],[-.950675521768767,.0554595293739872],[-.880239153726985,.0850361483171791],[-.781514003896801,.111883847193403],[-.65767115921669,.135136368468525],[-.512690537086476,.15404576107681],[-.351231763453876,.16800410215645],[-.178484181495847,.176562705366992],[0,.179446470356206],[.178484181495847,.176562705366992],[.351231763453876,.16800410215645],[.512690537086476,.15404576107681],[.65767115921669,.135136368468525],[.781514003896801,.111883847193403],[.880239153726985,.0850361483171791],[.950675521768767,.0554595293739872],[.990575475314417,.0241483028685479]],[[-.99156516842093,.0216160135264833],[-.955823949571397,.0497145488949698],[-.892602466497555,.076425730254889],[-.803704958972523,.100942044106287],[-.691687043060353,.122555206711478],[-.559770831073947,.14064291467065],[-.411751161462842,.154684675126265],[-.251886225691505,.164276483745832],[-.0847750130417353,.169142382963143],[.0847750130417353,.169142382963143],[.251886225691505,.164276483745832],[.411751161462842,.154684675126265],[.559770831073947,.14064291467065],[.691687043060353,.122555206711478],[.803704958972523,.100942044106287],[.892602466497555,.076425730254889],[.955823949571397,.0497145488949697],[.99156516842093,.0216160135264833]],[[-.992406843843584,.0194617882297264],[-.96020815213483,.0448142267656996],[-.903155903614817,.0690445427376412],[-.822714656537142,.0914900216224499],[-.720966177335229,.111566645547333],[-.600545304661681,.128753962539336],[-.46457074137596,.142606702173606],[-.316564099963629,.152766042065859],[-.160358645640225,.158968843393954],[0,.161054449848783],[.160358645640225,.158968843393954],[.316564099963629,.152766042065859],[.46457074137596,.142606702173606],[.600545304661681,.128753962539336],[.720966177335229,.111566645547333],[.822714656537142,.0914900216224499],[.903155903614817,.0690445427376412],[.96020815213483,.0448142267656996],[.992406843843584,.0194617882297264]],[[-.993128599185094,.0176140071391521],[-.963971927277913,.0406014298003869],[-.912234428251325,.062672048334109],[-.839116971822218,.0832767415767047],[-.74633190646015,.10193011981724],[-.636053680726515,.118194531961518],[-.510867001950827,.131688638449176],[-.373706088715419,.142096109318382],[-.227785851141645,.149172986472603],[-.0765265211334973,.152753387130725],[.0765265211334973,.152753387130725],[.227785851141645,.149172986472603],[.373706088715419,.142096109318382],[.510867001950827,.131688638449176],[.636053680726515,.118194531961518],[.74633190646015,.10193011981724],[.839116971822218,.0832767415767047],[.912234428251325,.062672048334109],[.963971927277913,.0406014298003869],[.993128599185094,.0176140071391521]],[[-.993752170620389,.0160172282577743],[-.967226838566306,.0369537897708524],[-.9200993341504,.0571344254268572],[-.853363364583317,.0761001136283793],[-.768439963475677,.0934444234560338],[-.667138804197412,.108797299167148],[-.551618835887219,.121831416053728],[-.424342120207438,.132268938633337],[-.288021316802401,.139887394791073],[-.145561854160895,.14452440398997],[0,.14608113364969],[.145561854160895,.14452440398997],[.288021316802401,.139887394791073],[.424342120207438,.132268938633337],[.551618835887219,.121831416053728],[.667138804197412,.108797299167148],[.768439963475677,.0934444234560338],[.853363364583317,.0761001136283793],[.9200993341504,.0571344254268572],[.967226838566306,.0369537897708524],[.993752170620389,.0160172282577743]],[[-.994294585482399,.0146279952982722],[-.970060497835428,.0337749015848141],[-.926956772187174,.0522933351526832],[-.8658125777203,.0697964684245204],[-.787816805979208,.0859416062170677],[-.694487263186682,.10041414444288],[-.587640403506911,.112932296080539],[-.469355837986757,.123252376810512],[-.341935820892084,.131173504787062],[-.207860426688221,.136541498346015],[-.0697392733197222,.139251872855631],[.0697392733197222,.139251872855631],[.207860426688221,.136541498346015],[.341935820892084,.131173504787062],[.469355837986757,.123252376810512],[.587640403506911,.112932296080539],[.694487263186682,.10041414444288],[.787816805979208,.0859416062170677],[.8658125777203,.0697964684245204],[.926956772187174,.0522933351526832],[.970060497835428,.0337749015848141],[.994294585482399,.0146279952982722]],[[-.994769334997552,.0134118594871417],[-.972542471218115,.0309880058569794],[-.932971086826016,.0480376717310846],[-.876752358270441,.0642324214085258],[-.804888401618839,.0792814117767189],[-.71866136313195,.0929157660600351],[-.619609875763646,.104892091464541],[-.509501477846007,.114996640222411],[-.39030103803029,.123049084306729],[-.264135680970344,.128905722188082],[-.133256824298466,.132462039404696],[0,.133654572186106],[.133256824298466,.132462039404696],[.264135680970344,.128905722188082],[.39030103803029,.123049084306729],[.509501477846007,.114996640222411],[.619609875763646,.104892091464541],[.71866136313195,.0929157660600351],[.804888401618839,.0792814117767189],[.876752358270441,.0642324214085258],[.932971086826016,.0480376717310846],[.972542471218115,.0309880058569794],[.994769334997552,.0134118594871417]],[[-.995187219997021,.0123412297999872],[-.974728555971309,.0285313886289336],[-.938274552002732,.0442774388174198],[-.886415527004401,.0592985849154367],[-.820001985973902,.0733464814110803],[-.740124191578554,.0861901615319532],[-.648093651936975,.0976186521041138],[-.545421471388839,.107444270115965],[-.433793507626045,.115505668053725],[-.315042679696163,.121670472927803],[-.191118867473616,.125837456346828],[-.0640568928626056,.127938195346752],[.0640568928626056,.127938195346752],[.191118867473616,.125837456346828],[.315042679696163,.121670472927803],[.433793507626045,.115505668053725],[.545421471388839,.107444270115965],[.648093651936975,.0976186521041138],[.740124191578554,.0861901615319532],[.820001985973902,.0733464814110803],[.886415527004401,.0592985849154367],[.938274552002732,.0442774388174198],[.974728555971309,.0285313886289336],[.995187219997021,.0123412297999872]],[[-.995556969790498,.0113937985010262],[-.976663921459517,.0263549866150321],[-.942974571228974,.0409391567013063],[-.894991997878275,.0549046959758351],[-.833442628760834,.0680383338123569],[-.759259263037357,.080140700335001],[-.673566368473468,.0910282619829636],[-.577662930241222,.10053594906705],[-.473002731445714,.108519624474263],[-.361172305809387,.114858259145711],[-.243866883720988,.119455763535784],[-.12286469261071,.12224244299031],[0,.123176053726715],[.12286469261071,.12224244299031],[.243866883720988,.119455763535784],[.361172305809387,.114858259145711],[.473002731445714,.108519624474263],[.577662930241222,.10053594906705],[.673566368473468,.0910282619829636],[.759259263037357,.080140700335001],[.833442628760834,.0680383338123569],[.894991997878275,.0549046959758351],[.942974571228974,.0409391567013063],[.976663921459517,.0263549866150321],[.995556969790498,.0113937985010262]],[[-.995885701145616,.010551372617343],[-.97838544595647,.0244178510926319],[-.947159066661714,.0379623832943627],[-.902637861984307,.0509758252971478],[-.845445942788498,.0632740463295748],[-.776385948820678,.0746841497656597],[-.696427260419957,.0850458943134852],[-.606692293017618,.0942138003559141],[-.508440714824505,.102059161094425],[-.403051755123486,.108471840528576],[-.292004839485956,.113361816546319],[-.17685882035689,.116660443485296],[-.0592300934293132,.118321415279262],[.0592300934293132,.118321415279262],[.17685882035689,.116660443485296],[.292004839485956,.113361816546319],[.403051755123486,.108471840528576],[.508440714824505,.102059161094425],[.606692293017618,.0942138003559141],[.696427260419957,.0850458943134852],[.776385948820678,.0746841497656597],[.845445942788498,.0632740463295748],[.902637861984307,.0509758252971478],[.947159066661714,.0379623832943627],[.97838544595647,.0244178510926319],[.995885701145616,.010551372617343]],[[-.996179262888988,.00979899605129436],[-.979923475961501,.0226862315961806],[-.950900557814705,.0352970537574197],[-.909482320677491,.047449412520615],[-.856207908018294,.0589835368598335],[-.791771639070508,.0697488237662455],[-.717013473739423,.0796048677730577],[-.632907971946495,.0884231585437569],[-.540551564579456,.0960887273700285],[-.441148251750026,.102501637817745],[-.335993903638508,.107578285788533],[-.226459365439536,.111252488356845],[-.113972585609529,.113476346108965],[0,.114220867378956],[.113972585609529,.113476346108965],[.226459365439536,.111252488356845],[.335993903638508,.107578285788533],[.441148251750026,.102501637817745],[.540551564579456,.0960887273700285],[.632907971946495,.0884231585437569],[.717013473739423,.0796048677730577],[.791771639070508,.0697488237662455],[.856207908018294,.0589835368598336],[.909482320677491,.047449412520615],[.950900557814705,.0352970537574197],[.979923475961501,.0226862315961806],[.996179262888988,.00979899605129436]],[[-.996442497573954,.00912428259309452],[-.981303165370872,.0211321125927712],[-.954259280628938,.0329014277823043],[-.915633026392132,.0442729347590042],[-.865892522574395,.0551073456757167],[-.805641370917179,.0652729239669995],[-.735610878013631,.0746462142345687],[-.656651094038864,.0831134172289012],[-.569720471811401,.0905717443930328],[-.475874224955118,.0969306579979299],[-.376251516089078,.10211296757806],[-.272061627635178,.106055765922846],[-.16456928213338,.108711192258294],[-.0550792898840342,.110047013016475],[.0550792898840342,.110047013016475],[.16456928213338,.108711192258294],[.272061627635178,.106055765922846],[.376251516089078,.10211296757806],[.475874224955118,.0969306579979299],[.569720471811401,.0905717443930328],[.656651094038864,.0831134172289012],[.735610878013631,.0746462142345687],[.805641370917179,.0652729239669995],[.865892522574395,.0551073456757167],[.915633026392132,.0442729347590042],[.954259280628938,.0329014277823043],[.981303165370872,.0211321125927712],[.996442497573954,.00912428259309452]],[[-.996679442260596,.00851690387874641],[-.982545505261413,.0197320850561227],[-.957285595778087,.0307404922020936],[-.921180232953058,.0414020625186828],[-.874637804920102,.0515948269024979],[-.818185487615252,.0612030906570791],[-.752462851734477,.0701179332550512],[-.678214537602686,.0782383271357637],[-.596281797138227,.0854722573661725],[-.507592955124227,.0917377571392587],[-.413152888174008,.0969638340944086],[-.314031637867639,.101091273759914],[-.211352286166001,.104073310077729],[-.106278230132679,.10587615509732],[0,.106479381718314],[.106278230132679,.10587615509732],[.211352286166001,.104073310077729],[.314031637867639,.101091273759914],[.413152888174008,.0969638340944086],[.507592955124227,.0917377571392587],[.596281797138227,.0854722573661725],[.678214537602686,.0782383271357637],[.752462851734477,.0701179332550512],[.818185487615252,.0612030906570791],[.874637804920102,.0515948269024979],[.921180232953058,.0414020625186828],[.957285595778087,.0307404922020936],[.982545505261413,.0197320850561227],[.996679442260596,.00851690387874641]],[[-.996893484074649,.0079681924961666],[-.983668123279747,.0184664683110909],[-.960021864968307,.0287847078833233],[-.926200047429274,.038799192569627],[-.882560535792052,.048402672830594],[-.829565762382768,.057493156217619],[-.767777432104826,.0659742298821805],[-.697850494793315,.0737559747377052],[-.620526182989242,.0807558952294202],[-.536624148142019,.0868997872010829],[-.447033769538089,.0921225222377861],[-.352704725530878,.0963687371746442],[-.254636926167889,.0995934205867952],[-.153869913608583,.101762389748405],[-.0514718425553176,.102852652893558],[.0514718425553176,.102852652893558],[.153869913608583,.101762389748405],[.254636926167889,.0995934205867952],[.352704725530878,.0963687371746442],[.447033769538089,.0921225222377861],[.536624148142019,.0868997872010829],[.620526182989242,.0807558952294202],[.697850494793315,.0737559747377052],[.767777432104826,.0659742298821805],[.829565762382768,.057493156217619],[.882560535792052,.048402672830594],[.926200047429274,.038799192569627],[.960021864968307,.0287847078833233],[.983668123279747,.0184664683110909],[.996893484074649,.0079681924961666]]],z3=e5.length+5,gw=(function(i){function t(e,n,s){e===void 0&&(e=24),n===void 0&&(n=21);var o=i.call(this,s)||this;return o._nSamples=21,o._gauss=(function(l){if(l<5||l>z3)throw Error("Order for Gaussian Quadrature must be in the range of ".concat(5," and ").concat(z3,"."));return e5[l-5]})(e),o._nSamples=n,o}return K6(t,i),t.prototype._invalidateCache=function(){i.prototype._invalidateCache.call(this),this._cache.arcLengths=null,this._cache.samples=null},Object.defineProperty(t.prototype,"arcLengths",{get:function(){return this._cache.arcLengths||(this._cache.arcLengths=this.computeArcLengths()),this._cache.arcLengths},enumerable:!1,configurable:!0}),t.prototype.getSamples=function(e){if(this.points){if(this._cache.samples||(this._cache.samples=new Map),!this._cache.samples.has(e)){for(var n=this._nSamples,s=[],o=[],l=this.getCoefficients(e),h=0;h<n;++h){var f=h/(n-1);s.push(this.computeArcLength(e,0,f));var d=Ts(v1(Oa,f,l)),p=d===0?0:1/d;this.tension>.95&&(p=Je(p,-1,1)),o.push(p)}var g=n-1,v=[],_=[],x=s[0],b=o[0],E=1/g;for(h=0;h<g;++h){var A=x,I=(x=s[h+1])-A,C=b,N=o[h+1];b=N;var R=E/I,F=(C+N-2*R)/(I*I),D=(3*R-2*C-N)/I;v.push(F),_.push(D)}this._cache.samples.set(e,[s,o,_,v])}return this._cache.samples.get(e)}},t.prototype.computeArcLength=function(e,n,s){if(n===void 0&&(n=0),s===void 0&&(s=1),n===s)return 0;for(var o=this.getCoefficients(e),l=.5*(s-n),h=0,f=0;f<this._gauss.length;f++){var d=this._gauss[f],p=d[0];h+=d[1]*Ts(v1(Oa,l*p+l+n,o))}return l*h},t.prototype.computeArcLengths=function(){if(this.points){var e=[];e.push(0);for(var n=this.closed?this.points.length:this.points.length-1,s=0,o=0;o<n;o++)s+=this.computeArcLength(o),e.push(s);return e}},t.prototype.inverse=function(e,n){var s=1/(this._nSamples-1),o=this.getSamples(e),l=o[0],h=o[1],f=o[2],d=o[3];if(n>=l[l.length-1])return 1;if(n<=0)return 0;var p=Math.max(0,y1(n,l)),g=p*s;if(l[p]===n)return g;var v=h[p],_=d[p],x=f[p],b=n-l[p];return((_*b+x)*b+v)*b+g},t.prototype.lengthAt=function(e){return e*this.arcLengths[this.arcLengths.length-1]},t.prototype.getT=function(e){var n=this.arcLengths,s=n.length,o=e*n[s-1],l=y1(o,n),h=l/(s-1);if(n[l]===o)return h;var f=o-n[l];return(l+this.inverse(l,f))/(s-1)},t.prototype.getU=function(e){if(e===0)return 0;if(e===1)return 1;var n=this.arcLengths,s=n.length-1,o=n[s],l=e*s,h=Math.floor(l),f=n[h];if(l===h)return f/o;var d=l-h;return(f+this.computeArcLength(h,0,d))/o},t})(t5),yw=(function(){function i(t,e){e===void 0&&(e={});var n=this;this._cache=new Map;var s=(e=tc({tension:.5,alpha:0,closed:!1},e)).arcDivisions?new mw(e.arcDivisions,(function(){return n._invalidateCache()})):new gw(e.numericalApproximationOrder,e.numericalInverseSamples,(function(){return n._invalidateCache()}));s.alpha=e.alpha,s.tension=e.tension,s.closed=e.closed,s.points=t,this._lmargin=e.lmargin||1-s.tension,this._curveMapper=s}return i.prototype.getTimeFromPosition=function(t,e){return e===void 0&&(e=!1),this._curveMapper.getT(e?Je(t,0,1):t)},i.prototype.getPositionFromTime=function(t,e){return e===void 0&&(e=!1),this._curveMapper.getU(e?Je(t,0,1):t)},i.prototype.getPositionFromLength=function(t,e){e===void 0&&(e=!1);var n=e?Je(t,0,this.length):t;return this._curveMapper.getU(n/this.length)},i.prototype.getLengthAt=function(t,e){return t===void 0&&(t=1),e===void 0&&(e=!1),this._curveMapper.lengthAt(e?Je(t,0,1):t)},i.prototype.getTimeAtKnot=function(t){if(t<0||t>this.points.length-1)throw Error("Invalid index!");return t===0?0:this.closed||t!==this.points.length-1?t/(this.closed?this.points.length:this.points.length-1):1},i.prototype.getPositionAtKnot=function(t){return this.getPositionFromTime(this.getTimeAtKnot(t))},i.prototype.getPointAtTime=function(t,e){return(t=Je(t,0,1))===0?Ch(this.points[0],e):t===1?Ch(this.closed?this.points[0]:this.points[this.points.length-1],e):this._curveMapper.evaluateForT(Da,t,e)},i.prototype.getPointAt=function(t,e){return this.getPointAtTime(this.getTimeFromPosition(t),e)},i.prototype.getTangentAt=function(t,e){var n=Je(this.getTimeFromPosition(t),0,1);return this.getTangentAtTime(n,e)},i.prototype.getTangentAtTime=function(t,e){return Xn(this._curveMapper.evaluateForT(Oa,t,e))},i.prototype.getNormalAt=function(t,e){var n=Je(this.getTimeFromPosition(t),0,1);return this.getNormalAtTime(n,e)},i.prototype.getNormalAtTime=function(t,e){var n=Xn(this._curveMapper.evaluateForT(Oa,t));if(!(n.length<2||n.length>3)){var s=e||new Array(n.length);if(n.length===2)return s[0]=-n[1],s[1]=n[0],s;var o=Xn(this._curveMapper.evaluateForT(xp,t));return Xn(zi(zi(n,o),n),s)}},i.prototype.getFrenetFrames=function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=1),!(e<0||n>1||n<e)){for(var s=new Array(t+1),o=new Array(t+1),l=0;l<=t;l++){var h=e===0&&n===1?l/t:e+l/t*(n-e);s[l]=this.getTangentAt(h)}if(this.dim===2){for(l=0;l<s.length;l++)o[l]=[-s[l][1],s[l][0]];return{tangents:s,normals:o}}if(this.dim===3){var f=new Array(t+1),d=void 0,p=Number.MAX_VALUE,g=Math.abs(s[0][0]),v=Math.abs(s[0][1]);g<=p&&(p=g,d=[1,0,0]),v<=p&&(p=v,d=[0,1,0]),Math.abs(s[0][2])<=p&&(d=[0,0,1]);var _=Xn(zi(s[0],d));for(o[0]=zi(s[0],_),f[0]=zi(s[0],o[0]),l=1;l<=t;l++){if(_=zi(s[l-1],s[l]),o[l]=Ch(o[l-1]),Ts(_)>Ii){Xn(_);var x=Math.acos(Je(mh(s[l-1],s[l]),-1,1));k3(o[l-1],_,x,o[l])}f[l]=zi(s[l],o[l])}if(this.closed===!0)for(x=Math.acos(Je(mh(o[0],o[t]),-1,1))/t,mh(s[0],zi(o[0],o[t]))>0&&(x=-x),l=1;l<=t;l++)k3(o[l],s[l],x*l,o[l]),f[l]=zi(s[l],o[l]);return{tangents:s,normals:o,binormals:f}}}},i.prototype.getCurvatureAt=function(t){var e=Je(this.getTimeFromPosition(t),0,1);return this.getCurvatureAtTime(e)},i.prototype.getCurvatureAtTime=function(t){var e=this._curveMapper.evaluateForT(Oa,t),n=this._curveMapper.evaluateForT(xp,t),s=Xn(e,[]),o=0,l=void 0;if(e.length===2){if((g=Math.pow(e[0]*e[0]+e[1]*e[1],1.5))!==0){var h=(e[0]*n[1]-e[1]*n[0])/g;l=h<0?[s[1],-s[0]]:[-s[1],s[0]],o=Math.abs(h)}}else if(e.length===3){var f=Ts(e),d=zi(e,n);l=Xn(zi(d,e)),f!==0&&(o=Ts(d)/Math.pow(f,3))}else{f=Ts(e);var p=Ts(n),g=Math.pow(f,3),v=mh(e,n);g!==0&&(o=Math.sqrt(Math.pow(f,2)*Math.pow(p,2)-Math.pow(v,2))/g)}return{curvature:o,radius:o!==0?1/o:0,tangent:s,direction:l}},i.prototype.getDerivativeAt=function(t,e){var n=Je(this.getTimeFromPosition(t),0,1);return this._curveMapper.evaluateForT(Oa,n,e)},i.prototype.getSecondDerivativeAt=function(t,e){var n=Je(this.getTimeFromPosition(t),0,1);return this._curveMapper.evaluateForT(xp,n,e)},i.prototype.getBoundingBox=function(t,e){if(t===void 0&&(t=0),e===void 0&&(e=1),t===0&&e===1&&this._cache.has("bbox"))return this._cache.get("bbox");for(var n=[],s=[],o=this.getTimeFromPosition(t),l=this.getTimeFromPosition(e),h=this.getPointAtTime(o),f=this.getPointAtTime(l),d=this.closed?this.points.length:this.points.length-1,p=Math.floor(d*o),g=Math.ceil(d*l),v=0;v<h.length;v++)n[v]=Math.min(h[v],f[v]),s[v]=Math.max(h[v],f[v]);for(var _=function(A){var I=g1(A-1,x.points,x.closed)[2];if(A<g)for(var C=0;C<I.length;C++)I[C]<n[C]&&(n[C]=I[C]),I[C]>s[C]&&(s[C]=I[C]);if(x.tension<1){var N=d*o-(A-1),R=d*l-(A-1),F=function(J){return J>-Ii&&J<=1+Ii&&(A-1!==p||J>N)&&(A!==g||J<R)},D=x._curveMapper.getCoefficients(A-1),X=function(J){var rt=D[J];Q6(3*rt[0],2*rt[1],rt[2]).filter(F).forEach((function(q){var H=Da(q,D[J]);H<n[J]&&(n[J]=H),H>s[J]&&(s[J]=H)}))};for(C=0;C<D.length;C++)X(C)}},x=this,b=p+1;b<=g;b++)_(b);var E={min:n,max:s};return t===0&&e===1&&this._cache.set("bbox",E),E},i.prototype.getPoints=function(t,e,n,s){if(t===void 0&&(t=100),n===void 0&&(n=0),s===void 0&&(s=1),!t||t<=0)throw Error("Invalid arguments passed to getPoints(). You must specify at least 1 sample/segment.");if(!(n<0||s>1||s<n)){for(var o=[],l=0;l<=t;l++){var h=n===0&&s===1?l/t:n+l/t*(s-n);o.push(this.getPointAt(h,e&&new e))}return o}},i.prototype.getNearestPosition=function(t,e,n){var s=this;if(e===void 0&&(e=1e-5),e<=0||!Number.isFinite(e))throw Error("Invalid threshold. Must be a number greater than zero!");n=n||10*this.points.length-1;var o=new Array(t.length),l=1/0,h=0,f=this.createLookupTable((function(v){return s.getPointAt(v)}),n,{cacheKey:"lut_nearest_".concat(n)});Array.from(f.keys()).forEach((function(v){var _=f.get(v),x=ec(t,_);if(x<l)return l=x,h=v,!0}));for(var d=this.getTimeFromPosition(h),p=function(v){if(v>=0&&v<=1){s.getPointAtTime(v,o);var _=ec(t,o);if(_<l)return l=_,d=v,!0}},g=.005;g>e;)p(d-g)||p(d+g)||(g/=2);return{u:h=this._curveMapper.getU(d),distance:l,point:o}},i.prototype.getIntersects=function(t,e,n,s){var o=this;e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=this._lmargin);var l=this.getIntersectsAsTime(t,e,n,s).map((function(h){return o.getPointAtTime(h)}));return Math.abs(n)===1?l.length===1?l[0]:null:l},i.prototype.getIntersectsAsPositions=function(t,e,n,s){var o=this;return e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=this._lmargin),this.getIntersectsAsTime(t,e,n,s).map((function(l){return o.getPositionFromTime(l)}))},i.prototype.getIntersectsAsTime=function(t,e,n,s){e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=this._lmargin);for(var o=e,l=new Set,h=this.closed?this.points.length:this.points.length-1,f=0;f<h&&(n===0||l.size<Math.abs(n));f+=1){var d=n<0?h-(f+1):f,p=g1(d,this.points,this.closed),g=p[1],v=p[2],_=this._curveMapper.getCoefficients(d),x=void 0,b=void 0;if(g[o]<v[o]?(x=g[o],b=v[o]):(x=v[o],b=g[o]),t-s<=b&&t+s>=x){var E=pw(t,_[o]);n<0?E.sort((function(C,N){return N-C})):n>=0&&E.sort((function(C,N){return C-N}));for(var A=0;A<E.length;A++){var I=(E[A]+d)/h;if(l.add(I),n!==0&&l.size===Math.abs(n))break}}}return Array.from(l)},i.prototype.createLookupTable=function(t,e,n){if(!e||e<=1)throw Error("Invalid arguments passed to createLookupTable(). You must specify at least 2 samples.");var s=tc({from:0,to:1,cacheForceUpdate:!1},n),o=s.from,l=s.to,h=s.cacheKey,f=s.cacheForceUpdate;if(!(o<0||l>1||l<o)){var d=null;if(h&&!f&&this._cache.has(h))h&&this._cache.has(h)&&(d=this._cache.get(h));else{d=new Map;for(var p=0;p<e;p++){var g=o===0&&l===1?p/(e-1):o+p/(e-1)*(l-o),v=t(g);d.set(g,v)}h&&this._cache.set(h,d)}return d}},i.prototype.forEach=function(t,e,n,s){var o=this;n===void 0&&(n=0),s===void 0&&(s=1);var l=[];if(Number.isFinite(e)){var h=e;if(h<=1)throw Error("Invalid arguments passed to forEach(). You must specify at least 2 samples.");for(var f=0;f<h;f++){var d=n===0&&s===1?f/(h-1):n+f/(h-1)*(s-n);l.push(d)}}else Array.isArray(e)&&(l=e);var p=null;l.forEach((function(g,v){if(!Number.isFinite(g)||g<0||g>1)throw Error("Invalid position (u) for sample in forEach!");var _=o.getTimeFromPosition(g),x=t({u:g,t:_,i:v,prev:p});p={u:g,t:_,i:v,value:x}}))},i.prototype.map=function(t,e,n,s){var o=this;n===void 0&&(n=0),s===void 0&&(s=1);var l=[];if(Number.isFinite(e)){var h=e;if(h<=1)throw Error("Invalid arguments passed to map(). You must specify at least 2 samples.");for(var f=0;f<h;f++){var d=n===0&&s===1?f/(h-1):n+f/(h-1)*(s-n);l.push(d)}}else Array.isArray(e)&&(l=e);var p=null;return l.map((function(g,v){if(!Number.isFinite(g)||g<0||g>1)throw Error("Invalid position (u) for sample in map()!");var _=o.getTimeFromPosition(g),x=t({u:g,t:_,i:v,prev:p});return p={u:g,t:_,i:v,value:x},x}))},i.prototype.reduce=function(t,e,n,s,o){var l=this;s===void 0&&(s=0),o===void 0&&(o=1);var h=[];if(Number.isFinite(n)){var f=n;if(f<=1)throw Error("Invalid arguments passed to map(). You must specify at least 2 samples.");for(var d=0;d<f;d++){var p=s===0&&o===1?d/(f-1):s+d/(f-1)*(o-s);h.push(p)}}else Array.isArray(n)&&(h=n);return h.reduce((function(g,v,_){if(!Number.isFinite(v)||v<0||v>1)throw Error("Invalid position (u) for sample in map()!");var x=l.getTimeFromPosition(v);return t({acc:g,u:v,t:x,i:_})}),e)},i.prototype._invalidateCache=function(){return this._cache=new Map,this},i.prototype.reset=function(){this._curveMapper.reset()},Object.defineProperty(i.prototype,"points",{get:function(){return this._curveMapper.points},set:function(t){this._curveMapper.points=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tension",{get:function(){return this._curveMapper.tension},set:function(t){this._curveMapper.tension=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._curveMapper.alpha},set:function(t){this._curveMapper.alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"closed",{get:function(){return this._curveMapper.closed},set:function(t){this._curveMapper.closed=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._curveMapper.lengthAt(1)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minX",{get:function(){return this.getBoundingBox().min[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.getBoundingBox().max[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.getBoundingBox().min[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.getBoundingBox().max[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minZ",{get:function(){return this.getBoundingBox().min[2]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxZ",{get:function(){return this.getBoundingBox().max[2]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dim",{get:function(){var t;return((t=this.points[0])===null||t===void 0?void 0:t.length)||void 0},enumerable:!1,configurable:!0}),i})();class ic{static newton(t,e=.01,n=1e3,s=.5,o=0,l=1){let h=s;for(let f=0;f<n;f++){const d=t(h);if(Math.abs(d)<e)return Xa(h,o,l);const p=(t(h+1e-4)-d)/1e-4;h=h-d/p}}static bisect(t,e=.01,n=1e3,s=.5,o=0,l=1){let h=o,f=l,d=s,p,g;for(g=0;g<n;g++){if(p=t(d),Math.abs(p)<e)return d;p<0?f=d:h=d,d=(f+h)/2}return d}static findRoot(t,e=.01,n=1e3,s=.5,o=0,l=1){let h=ic.newton(t,e,n,s);return h==null&&(h=ic.bisect(t,e,n,s,o,l)),h}}class vw{static bisect(t,e=0,n=1,s=.005,o=4,l=10){const h=(g,v,_,x,b,E,A=0)=>{const I=(g+v)/2,C=t(I),N=ti.distance(_,C),R=ti.distance(C,x),F=N+R;if(A>=o&&Math.abs(F-b)<E||A>=l)return F;const D=E/2,X=A+1;return h(g,I,_,C,N,D,X)+h(I,v,C,x,R,D,X)},f=t(e),d=t(n),p=ti.distance(f,d);return h(e,n,f,d,p,s)}static trapezoid(t,e=0,n=1,s=1e3){let o=0,l=t(e);const h=(n-e)/(s-1);for(let f=1;f<s;f++){const d=t(e+f*h),p=ti.distance(l,d);o+=p,l=d}return o}}class _w{static search(t,e){let n=0,s=t.length-1,o=Math.floor(n+s/2);for(;o>n&&o<s;){const l=t[o],h=t[o+1];if(l!=null&&h!=null&&l<=e&&h>=e)return o;l!=null&&e<l?s=o:n=o,o=Math.floor(n+s/2)}return o}}class bp extends yw{constructor(t,e){super(t,e),this.arcLengthLookup=[],this.findTForArcLength=this.findTForArcLength.bind(this),this.findTByRootForArcLength=this.findTByRootForArcLength.bind(this),this.findApproxTForArcLength=this.findApproxTForArcLength.bind(this),this.findTQuickForArcLength=this.findTQuickForArcLength.bind(this),this.generateArcLengthLookup=this.generateArcLengthLookup.bind(this),this.getArcLength=this.getArcLength.bind(this),this.getQuickArcLength=this.getQuickArcLength.bind(this),this.getPointAtArcLength=this.getPointAtArcLength.bind(this),this.getPointAt=this.getPointAt.bind(this)}findTForArcLength(t,e){let n;return e!=null&&e.approxT?n=this.findApproxTForArcLength(t,e?.normalizedLength):e!=null&&e.quickT?n=this.findTQuickForArcLength(t):n=this.findTByRootForArcLength(t),n}findTByRootForArcLength(t,e=.01,n=100){return t<=0?0:t>=this.length?1:ic.findRoot(s=>t-this.getQuickArcLength(0,s),e,n,t/this.length)}findApproxTForArcLength(t,e){return t/(e||this.length)}findTQuickForArcLength(t){this.arcLengthLookup.length===0&&this.generateArcLengthLookup();const e=_w.search(this.arcLengthLookup,t),n=this.arcLengthLookup[e],s=this.arcLengthLookup[e+1];return(e+(t-n)/(s-n))/this.arcLengthLookup.length}generateArcLengthLookup(t=1e3){let e=this.getPointAt(0),n=0;for(let s=0;s<t;s++){const o=this.getPointAt(s/(t-1)),l=ti.distance(e,o);n+=l,this.arcLengthLookup.push(n),e=o}}getArcLength(t=0,e=1){return t===0&&e===1?this.length:vw.bisect(n=>this.getPointAt(n),t,e,.002)}getQuickArcLength(t=0,e=1){let n=0,s=this.length;if(this.arcLengthLookup.length===0&&this.generateArcLengthLookup(),t!==0){const o=Math.floor(t*this.arcLengthLookup.length),l=this.arcLengthLookup[o],h=this.arcLengthLookup[o+1];n=l+t*this.arcLengthLookup.length%this.arcLengthLookup.length*(h-l)}if(e!==1){const o=Math.floor(e*this.arcLengthLookup.length),l=this.arcLengthLookup[o],h=this.arcLengthLookup[o+1];s=l+t*this.arcLengthLookup.length%this.arcLengthLookup.length*(h-l)}return s-n}getPointAtArcLength(t,e){const n=this.findTForArcLength(t,e);return this.getPointAt(n)}getPointAt(t){const e=Xa(t,0,1);return super.getPointAt(e)}}const G3=.75,H3=5e3,j3=.001,xw=1e3,bw=1e3,Tw=5e-4,Ew=.1,Aw={approxT:!0};class Va{constructor(t,e){if(this.path=[],this.projectedPath=[],this._offset=0,t.length<1)throw new Error("Missing coordinates");if(t[0]&&t[0].length!==3)throw new Error("Coordinates should be in 3d");this.setPath(t,e),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.getPosition=this.getPosition.bind(this),this.getProjectedLength=this.getProjectedLength.bind(this),this.getTrajectory=this.getTrajectory.bind(this)}setPath(t,e={}){this.options={...Aw,...e};const{arcDivisions:n,tension:s,calculateDisplacementFromBottom:o}=this.options;this.path=t,this.projectedPath=Va.toDisplacement(t);const[l]=this.projectedPath[this.projectedPath.length-1];this.displacement=l,this.interpolators={curve:e.curveInterpolator||new bp(t),trajectory:e.trajectoryInterpolator||new bp(t.map(d=>[d[0],d[1]]),{tension:s||G3,arcDivisions:n||H3}),curtain:e.curtainInterpolator||new bp(this.projectedPath,{tension:s||G3,arcDivisions:n||H3})};const h=this.getTrajectoryVector(),f=h.map(d=>d*-1);o?(this.endVector=f,this.startVector=h):(this.endVector=h,this.startVector=f),this._curtainPathCache=void 0}project(t){const{curtain:e}=this.interpolators,{calculateDisplacementFromBottom:n}=this.options,s=Xa(n?this.length-(t-this._offset):t-this._offset,0,this.length);return e.getPointAtArcLength(s,this.options)}curtainTangent(t){const{curtain:e}=this.interpolators,n=t-this._offset,s=e.findTForArcLength(n,this.options);return s&&e.getTangentAt(s)}getCurtainPath(t,e,n=!1){if(!this._curtainPathCache){const s=[];let o=Math.PI*2;for(let l=this._offset;l<=this.length+this._offset;l+=Ew){const h=this.project(l),f=Math.atan2(h[1],h[0]);Math.abs(f-o)>Tw&&(s.push({point:h,md:l}),o=f)}this._curtainPathCache=s}if(n){const s={point:this.project(t),md:t},o=this._curtainPathCache.filter(h=>h.md>t&&h.md<e),l={point:this.project(e),md:e};return[s,...o,l]}return this._curtainPathCache.filter(s=>s.md>=t&&s.md<=e)}unproject(t){const{normalizedLength:e,calculateDisplacementFromBottom:n}=this.options,s=n?this.displacement-t:t,o=e||this.length;if(s<0)return s;if(s>this.displacement)return o+(s-this.displacement);const l=this.interpolators.curtain.getIntersectsAsPositions(s,0,1);if(l&&l.length)return l[0]*o+this._offset}getProjectedLength(t){const{curtain:e}=this.interpolators,n=this.project(t)[0]/e.maxX;return Number.isFinite(n)?Xa(n,0,1):0}getPosition(t){const{trajectory:e}=this.interpolators,n=this.getProjectedLength(t);return e.getPointAt(n)}getTrajectory(t,e=0,n=1){const s=e<0?-e:0,o=n>1?n-1:0,l=this.interpolators.trajectory.getPointAt(0),h=this.interpolators.trajectory.getPointAt(1);let f,d,p=0;const g=Math.max(0,e),v=Math.min(1,n),_=this.interpolators.trajectory.getPointAt(g),x=this.interpolators.trajectory.getPointAt(v);s?(f=[l[0]+this.startVector[0]*s*this.displacement,l[1]+this.startVector[1]*s*this.displacement],p=-ti.distance(f,l)):e>0&&(p=ti.distance(_,l)),o&&(d=[h[0]+this.endVector[0]*o*this.displacement,h[1]+this.endVector[1]*o*this.displacement]);const b=[],E=n-e,A=Math.floor(s/E*t),I=Math.ceil((v-g)/E*t),C=t-I-A;if(f){b.push(f);for(let R=1;R<A;R++){const F=R/A*s*this.displacement;b.push([f[0]-this.startVector[0]*F,f[1]-this.startVector[1]*F])}}const N=this.interpolators.trajectory.getPoints(I-1,null,g,v);if(b.push(...N),d){for(let R=1;R<C-1;R++){const F=R/C*o*this.displacement;b.push([x[0]+this.endVector[0]*F,x[1]+this.endVector[1]*F])}b.push(d)}return{points:b,offset:p}}getExtendedTrajectory(t,e=xw,n=bw){if(!isFinite(e)||e<0)throw new Error("Invalid parameter, getExtendedTrajectory() must be called with a valid and positive startExtensionLength parameter");if(!isFinite(n)||n<0)throw new Error("Invalid parameter, getExtendedTrajectory() must be called with a valid and positive endExtensionLength parameter");const s=this.displacement+e+n,o=Math.floor(e/s*t),l=Math.max(Math.ceil(this.displacement/s*t),1),h=t-l-o,f=[],d=new ti(this.interpolators.trajectory.getPointAt(0)),p=new ti(this.startVector),g=e/o;for(let A=o;A>0;A--){const I=A*g,C=d.add(p.scale(I));f.push(C.toArray())}const v=this.interpolators.trajectory.getPoints(l,null,0,1);f.push(...v);const _=new ti(this.interpolators.trajectory.getPointAt(1)),x=new ti(this.endVector),b=n/(h-1);for(let A=1;A<h;A++){const I=A*b,C=_.add(x.scale(I));f.push(C.toArray())}const E=-e;return{points:f,offset:E}}getTrajectoryVector(){const{trajectoryAngle:t,calculateDisplacementFromBottom:e}=this.options;if(t!=null&&isFinite(t)){const n=JS(t);return new ti(Math.cos(n),Math.sin(n)).toArray()}return Va.getDirectionVector(this.interpolators.trajectory,e?j3:1-j3,e?0:1)}static toDisplacement(t,e=0){let n=t[0],s=0;return t.map(o=>{const l=o[0]-n[0],h=o[1]-n[1];return s+=Math.sqrt(l**2+h**2),n=o,[e>0?e-s:s,o[2]||0]})}static getDirectionVector(t,e,n){const s=t.getPointAt(n),o=t.getPointAt(e);return Xn([s[0]-o[0],s[1]-o[1]])}get length(){var t;return((t=this.interpolators.curve)==null?void 0:t.length)??0}get offset(){return this._offset}set offset(t){this._curtainPathCache=void 0,this._offset=t}}var _1="http://www.w3.org/1999/xhtml";const X3={svg:"http://www.w3.org/2000/svg",xhtml:_1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bc(i){var t=i+="",e=t.indexOf(":");return e>=0&&(t=i.slice(0,e))!=="xmlns"&&(i=i.slice(e+1)),X3.hasOwnProperty(t)?{space:X3[t],local:i}:i}function Sw(i){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===_1&&t.documentElement.namespaceURI===_1?t.createElement(i):t.createElementNS(e,i)}}function ww(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function i5(i){var t=bc(i);return(t.local?ww:Sw)(t)}function Cw(){}function V1(i){return i==null?Cw:function(){return this.querySelector(i)}}function Mw(i){typeof i!="function"&&(i=V1(i));for(var t=this._groups,e=t.length,n=new Array(e),s=0;s<e;++s)for(var o=t[s],l=o.length,h=n[s]=new Array(l),f,d,p=0;p<l;++p)(f=o[p])&&(d=i.call(f,f.__data__,p,o))&&("__data__"in f&&(d.__data__=f.__data__),h[p]=d);return new yi(n,this._parents)}function Rw(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function Dw(){return[]}function n5(i){return i==null?Dw:function(){return this.querySelectorAll(i)}}function Ow(i){return function(){return Rw(i.apply(this,arguments))}}function Bw(i){typeof i=="function"?i=Ow(i):i=n5(i);for(var t=this._groups,e=t.length,n=[],s=[],o=0;o<e;++o)for(var l=t[o],h=l.length,f,d=0;d<h;++d)(f=l[d])&&(n.push(i.call(f,f.__data__,d,l)),s.push(f));return new yi(n,s)}function r5(i){return function(){return this.matches(i)}}function s5(i){return function(t){return t.matches(i)}}var Iw=Array.prototype.find;function Nw(i){return function(){return Iw.call(this.children,i)}}function Pw(){return this.firstElementChild}function Lw(i){return this.select(i==null?Pw:Nw(typeof i=="function"?i:s5(i)))}var Uw=Array.prototype.filter;function Fw(){return Array.from(this.children)}function kw(i){return function(){return Uw.call(this.children,i)}}function zw(i){return this.selectAll(i==null?Fw:kw(typeof i=="function"?i:s5(i)))}function Gw(i){typeof i!="function"&&(i=r5(i));for(var t=this._groups,e=t.length,n=new Array(e),s=0;s<e;++s)for(var o=t[s],l=o.length,h=n[s]=[],f,d=0;d<l;++d)(f=o[d])&&i.call(f,f.__data__,d,o)&&h.push(f);return new yi(n,this._parents)}function a5(i){return new Array(i.length)}function Hw(){return new yi(this._enter||this._groups.map(a5),this._parents)}function nc(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}nc.prototype={constructor:nc,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function jw(i){return function(){return i}}function Xw(i,t,e,n,s,o){for(var l=0,h,f=t.length,d=o.length;l<d;++l)(h=t[l])?(h.__data__=o[l],n[l]=h):e[l]=new nc(i,o[l]);for(;l<f;++l)(h=t[l])&&(s[l]=h)}function Vw(i,t,e,n,s,o,l){var h,f,d=new Map,p=t.length,g=o.length,v=new Array(p),_;for(h=0;h<p;++h)(f=t[h])&&(v[h]=_=l.call(f,f.__data__,h,t)+"",d.has(_)?s[h]=f:d.set(_,f));for(h=0;h<g;++h)_=l.call(i,o[h],h,o)+"",(f=d.get(_))?(n[h]=f,f.__data__=o[h],d.delete(_)):e[h]=new nc(i,o[h]);for(h=0;h<p;++h)(f=t[h])&&d.get(v[h])===f&&(s[h]=f)}function Yw(i){return i.__data__}function qw(i,t){if(!arguments.length)return Array.from(this,Yw);var e=t?Vw:Xw,n=this._parents,s=this._groups;typeof i!="function"&&(i=jw(i));for(var o=s.length,l=new Array(o),h=new Array(o),f=new Array(o),d=0;d<o;++d){var p=n[d],g=s[d],v=g.length,_=$w(i.call(p,p&&p.__data__,d,n)),x=_.length,b=h[d]=new Array(x),E=l[d]=new Array(x),A=f[d]=new Array(v);e(p,g,b,E,A,_,t);for(var I=0,C=0,N,R;I<x;++I)if(N=b[I]){for(I>=C&&(C=I+1);!(R=E[C])&&++C<x;);N._next=R||null}}return l=new yi(l,n),l._enter=h,l._exit=f,l}function $w(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Ww(){return new yi(this._exit||this._groups.map(a5),this._parents)}function Zw(i,t,e){var n=this.enter(),s=this,o=this.exit();return typeof i=="function"?(n=i(n),n&&(n=n.selection())):n=n.append(i+""),t!=null&&(s=t(s),s&&(s=s.selection())),e==null?o.remove():e(o),n&&s?n.merge(s).order():s}function Kw(i){for(var t=i.selection?i.selection():i,e=this._groups,n=t._groups,s=e.length,o=n.length,l=Math.min(s,o),h=new Array(s),f=0;f<l;++f)for(var d=e[f],p=n[f],g=d.length,v=h[f]=new Array(g),_,x=0;x<g;++x)(_=d[x]||p[x])&&(v[x]=_);for(;f<s;++f)h[f]=e[f];return new yi(h,this._parents)}function Qw(){for(var i=this._groups,t=-1,e=i.length;++t<e;)for(var n=i[t],s=n.length-1,o=n[s],l;--s>=0;)(l=n[s])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Jw(i){i||(i=tC);function t(g,v){return g&&v?i(g.__data__,v.__data__):!g-!v}for(var e=this._groups,n=e.length,s=new Array(n),o=0;o<n;++o){for(var l=e[o],h=l.length,f=s[o]=new Array(h),d,p=0;p<h;++p)(d=l[p])&&(f[p]=d);f.sort(t)}return new yi(s,this._parents).order()}function tC(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function eC(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function iC(){return Array.from(this)}function nC(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],s=0,o=n.length;s<o;++s){var l=n[s];if(l)return l}return null}function rC(){let i=0;for(const t of this)++i;return i}function sC(){return!this.node()}function aC(i){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s=t[e],o=0,l=s.length,h;o<l;++o)(h=s[o])&&i.call(h,h.__data__,o,s);return this}function oC(i){return function(){this.removeAttribute(i)}}function lC(i){return function(){this.removeAttributeNS(i.space,i.local)}}function uC(i,t){return function(){this.setAttribute(i,t)}}function hC(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function cC(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(i):this.setAttribute(i,e)}}function fC(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,e)}}function dC(i,t){var e=bc(i);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((t==null?e.local?lC:oC:typeof t=="function"?e.local?fC:cC:e.local?hC:uC)(e,t))}function o5(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function pC(i){return function(){this.style.removeProperty(i)}}function mC(i,t,e){return function(){this.style.setProperty(i,t,e)}}function gC(i,t,e){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(i):this.style.setProperty(i,n,e)}}function yC(i,t,e){return arguments.length>1?this.each((t==null?pC:typeof t=="function"?gC:mC)(i,t,e??"")):Ya(this.node(),i)}function Ya(i,t){return i.style.getPropertyValue(t)||o5(i).getComputedStyle(i,null).getPropertyValue(t)}function vC(i){return function(){delete this[i]}}function _C(i,t){return function(){this[i]=t}}function xC(i,t){return function(){var e=t.apply(this,arguments);e==null?delete this[i]:this[i]=e}}function bC(i,t){return arguments.length>1?this.each((t==null?vC:typeof t=="function"?xC:_C)(i,t)):this.node()[i]}function l5(i){return i.trim().split(/^|\s+/)}function Y1(i){return i.classList||new u5(i)}function u5(i){this._node=i,this._names=l5(i.getAttribute("class")||"")}u5.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function h5(i,t){for(var e=Y1(i),n=-1,s=t.length;++n<s;)e.add(t[n])}function c5(i,t){for(var e=Y1(i),n=-1,s=t.length;++n<s;)e.remove(t[n])}function TC(i){return function(){h5(this,i)}}function EC(i){return function(){c5(this,i)}}function AC(i,t){return function(){(t.apply(this,arguments)?h5:c5)(this,i)}}function SC(i,t){var e=l5(i+"");if(arguments.length<2){for(var n=Y1(this.node()),s=-1,o=e.length;++s<o;)if(!n.contains(e[s]))return!1;return!0}return this.each((typeof t=="function"?AC:t?TC:EC)(e,t))}function wC(){this.textContent=""}function CC(i){return function(){this.textContent=i}}function MC(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function RC(i){return arguments.length?this.each(i==null?wC:(typeof i=="function"?MC:CC)(i)):this.node().textContent}function DC(){this.innerHTML=""}function OC(i){return function(){this.innerHTML=i}}function BC(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function IC(i){return arguments.length?this.each(i==null?DC:(typeof i=="function"?BC:OC)(i)):this.node().innerHTML}function NC(){this.nextSibling&&this.parentNode.appendChild(this)}function PC(){return this.each(NC)}function LC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UC(){return this.each(LC)}function FC(i){var t=typeof i=="function"?i:i5(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kC(){return null}function zC(i,t){var e=typeof i=="function"?i:i5(i),n=t==null?kC:typeof t=="function"?t:V1(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})}function GC(){var i=this.parentNode;i&&i.removeChild(this)}function HC(){return this.each(GC)}function jC(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function XC(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function VC(i){return this.select(i?XC:jC)}function YC(i){return arguments.length?this.property("__data__",i):this.node().__data__}function qC(i){return function(t){i.call(this,t,this.__data__)}}function $C(i){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function WC(i){return function(){var t=this.__on;if(t){for(var e=0,n=-1,s=t.length,o;e<s;++e)o=t[e],(!i.type||o.type===i.type)&&o.name===i.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function ZC(i,t,e){return function(){var n=this.__on,s,o=qC(t);if(n){for(var l=0,h=n.length;l<h;++l)if((s=n[l]).type===i.type&&s.name===i.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=e),s.value=t;return}}this.addEventListener(i.type,o,e),s={type:i.type,name:i.name,value:t,listener:o,options:e},n?n.push(s):this.__on=[s]}}function KC(i,t,e){var n=$C(i+""),s,o=n.length,l;if(arguments.length<2){var h=this.node().__on;if(h){for(var f=0,d=h.length,p;f<d;++f)for(s=0,p=h[f];s<o;++s)if((l=n[s]).type===p.type&&l.name===p.name)return p.value}return}for(h=t?ZC:WC,s=0;s<o;++s)this.each(h(n[s],t,e));return this}function f5(i,t,e){var n=o5(i),s=n.CustomEvent;typeof s=="function"?s=new s(t,e):(s=n.document.createEvent("Event"),e?(s.initEvent(t,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(t,!1,!1)),i.dispatchEvent(s)}function QC(i,t){return function(){return f5(this,i,t)}}function JC(i,t){return function(){return f5(this,i,t.apply(this,arguments))}}function tM(i,t){return this.each((typeof t=="function"?JC:QC)(i,t))}function*eM(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],s=0,o=n.length,l;s<o;++s)(l=n[s])&&(yield l)}var d5=[null];function yi(i,t){this._groups=i,this._parents=t}function wl(){return new yi([[document.documentElement]],d5)}function iM(){return this}yi.prototype=wl.prototype={constructor:yi,select:Mw,selectAll:Bw,selectChild:Lw,selectChildren:zw,filter:Gw,data:qw,enter:Hw,exit:Ww,join:Zw,merge:Kw,selection:iM,order:Qw,sort:Jw,call:eC,nodes:iC,node:nC,size:rC,empty:sC,each:aC,attr:dC,style:yC,property:bC,classed:SC,text:RC,html:IC,raise:PC,lower:UC,append:FC,insert:zC,remove:HC,clone:VC,datum:YC,on:KC,dispatch:tM,[Symbol.iterator]:eM};function Di(i){return typeof i=="string"?new yi([[document.querySelector(i)]],[document.documentElement]):new yi([[i]],d5)}function nM(i){let t;for(;t=i.sourceEvent;)i=t;return i}function Rr(i,t){if(i=nM(i),t===void 0&&(t=i.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var n=e.createSVGPoint();return n.x=i.clientX,n.y=i.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[i.clientX-s.left-t.clientLeft,i.clientY-s.top-t.clientTop]}}return[i.pageX,i.pageY]}var rM={value:()=>{}};function q1(){for(var i=0,t=arguments.length,e={},n;i<t;++i){if(!(n=arguments[i]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new Mh(e)}function Mh(i){this._=i}function sM(i,t){return i.trim().split(/^|\s+/).map(function(e){var n="",s=e.indexOf(".");if(s>=0&&(n=e.slice(s+1),e=e.slice(0,s)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}Mh.prototype=q1.prototype={constructor:Mh,on:function(i,t){var e=this._,n=sM(i+"",e),s,o=-1,l=n.length;if(arguments.length<2){for(;++o<l;)if((s=(i=n[o]).type)&&(s=aM(e[s],i.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(s=(i=n[o]).type)e[s]=V3(e[s],i.name,t);else if(t==null)for(s in e)e[s]=V3(e[s],i.name,null);return this},copy:function(){var i={},t=this._;for(var e in t)i[e]=t[e].slice();return new Mh(i)},call:function(i,t){if((s=arguments.length-2)>0)for(var e=new Array(s),n=0,s,o;n<s;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(o=this._[i],n=0,s=o.length;n<s;++n)o[n].value.apply(t,e)},apply:function(i,t,e){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],s=0,o=n.length;s<o;++s)n[s].value.apply(t,e)}};function aM(i,t){for(var e=0,n=i.length,s;e<n;++e)if((s=i[e]).name===t)return s.value}function V3(i,t,e){for(var n=0,s=i.length;n<s;++n)if(i[n].name===t){i[n]=rM,i=i.slice(0,n).concat(i.slice(n+1));break}return e!=null&&i.push({name:t,value:e}),i}const x1={capture:!0,passive:!1};function b1(i){i.preventDefault(),i.stopImmediatePropagation()}function oM(i){var t=i.document.documentElement,e=Di(i).on("dragstart.drag",b1,x1);"onselectstart"in t?e.on("selectstart.drag",b1,x1):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function lM(i,t){var e=i.document.documentElement,n=Di(i).on("dragstart.drag",null);t&&(n.on("click.drag",b1,x1),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in e?n.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var qa=0,fl=0,el=0,p5=1e3,rc,dl,sc=0,Rs=0,Tc=0,xl=typeof performance=="object"&&performance.now?performance:Date,m5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function $1(){return Rs||(m5(uM),Rs=xl.now()+Tc)}function uM(){Rs=0}function ac(){this._call=this._time=this._next=null}ac.prototype=g5.prototype={constructor:ac,restart:function(i,t,e){if(typeof i!="function")throw new TypeError("callback is not a function");e=(e==null?$1():+e)+(t==null?0:+t),!this._next&&dl!==this&&(dl?dl._next=this:rc=this,dl=this),this._call=i,this._time=e,T1()},stop:function(){this._call&&(this._call=null,this._time=1/0,T1())}};function g5(i,t,e){var n=new ac;return n.restart(i,t,e),n}function hM(){$1(),++qa;for(var i=rc,t;i;)(t=Rs-i._time)>=0&&i._call.call(void 0,t),i=i._next;--qa}function Y3(){Rs=(sc=xl.now())+Tc,qa=fl=0;try{hM()}finally{qa=0,fM(),Rs=0}}function cM(){var i=xl.now(),t=i-sc;t>p5&&(Tc-=t,sc=i)}function fM(){for(var i,t=rc,e,n=1/0;t;)t._call?(n>t._time&&(n=t._time),i=t,t=t._next):(e=t._next,t._next=null,t=i?i._next=e:rc=e);dl=i,T1(n)}function T1(i){if(!qa){fl&&(fl=clearTimeout(fl));var t=i-Rs;t>24?(i<1/0&&(fl=setTimeout(Y3,i-xl.now()-Tc)),el&&(el=clearInterval(el))):(el||(sc=xl.now(),el=setInterval(cM,p5)),qa=1,m5(Y3))}}function q3(i,t,e){var n=new ac;return t=t==null?0:+t,n.restart(s=>{n.stop(),i(s+t)},t,e),n}var dM=q1("start","end","cancel","interrupt"),pM=[],y5=0,$3=1,E1=2,Rh=3,W3=4,A1=5,Dh=6;function Ec(i,t,e,n,s,o){var l=i.__transition;if(!l)i.__transition={};else if(e in l)return;mM(i,e,{name:t,index:n,group:s,on:dM,tween:pM,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:y5})}function W1(i,t){var e=Zi(i,t);if(e.state>y5)throw new Error("too late; already scheduled");return e}function _n(i,t){var e=Zi(i,t);if(e.state>Rh)throw new Error("too late; already running");return e}function Zi(i,t){var e=i.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function mM(i,t,e){var n=i.__transition,s;n[t]=e,e.timer=g5(o,0,e.time);function o(d){e.state=$3,e.timer.restart(l,e.delay,e.time),e.delay<=d&&l(d-e.delay)}function l(d){var p,g,v,_;if(e.state!==$3)return f();for(p in n)if(_=n[p],_.name===e.name){if(_.state===Rh)return q3(l);_.state===W3?(_.state=Dh,_.timer.stop(),_.on.call("interrupt",i,i.__data__,_.index,_.group),delete n[p]):+p<t&&(_.state=Dh,_.timer.stop(),_.on.call("cancel",i,i.__data__,_.index,_.group),delete n[p])}if(q3(function(){e.state===Rh&&(e.state=W3,e.timer.restart(h,e.delay,e.time),h(d))}),e.state=E1,e.on.call("start",i,i.__data__,e.index,e.group),e.state===E1){for(e.state=Rh,s=new Array(v=e.tween.length),p=0,g=-1;p<v;++p)(_=e.tween[p].value.call(i,i.__data__,e.index,e.group))&&(s[++g]=_);s.length=g+1}}function h(d){for(var p=d<e.duration?e.ease.call(null,d/e.duration):(e.timer.restart(f),e.state=A1,1),g=-1,v=s.length;++g<v;)s[g].call(i,p);e.state===A1&&(e.on.call("end",i,i.__data__,e.index,e.group),f())}function f(){e.state=Dh,e.timer.stop(),delete n[t];for(var d in n)return;delete i.__transition}}function Oh(i,t){var e=i.__transition,n,s,o=!0,l;if(e){t=t==null?null:t+"";for(l in e){if((n=e[l]).name!==t){o=!1;continue}s=n.state>E1&&n.state<A1,n.state=Dh,n.timer.stop(),n.on.call(s?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete e[l]}o&&delete i.__transition}}function gM(i){return this.each(function(){Oh(this,i)})}function yM(i,t){var e,n;return function(){var s=_n(this,i),o=s.tween;if(o!==e){n=e=o;for(var l=0,h=n.length;l<h;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}s.tween=n}}function vM(i,t,e){var n,s;if(typeof e!="function")throw new Error;return function(){var o=_n(this,i),l=o.tween;if(l!==n){s=(n=l).slice();for(var h={name:t,value:e},f=0,d=s.length;f<d;++f)if(s[f].name===t){s[f]=h;break}f===d&&s.push(h)}o.tween=s}}function _M(i,t){var e=this._id;if(i+="",arguments.length<2){for(var n=Zi(this.node(),e).tween,s=0,o=n.length,l;s<o;++s)if((l=n[s]).name===i)return l.value;return null}return this.each((t==null?yM:vM)(e,i,t))}function Z1(i,t,e){var n=i._id;return i.each(function(){var s=_n(this,n);(s.value||(s.value={}))[t]=e.apply(this,arguments)}),function(s){return Zi(s,n).value[t]}}function v5(i,t){var e;return(typeof t=="number"?Xi:t instanceof Ur?_l:(e=Ur(t))?(t=e,_l):X6)(i,t)}function xM(i){return function(){this.removeAttribute(i)}}function bM(i){return function(){this.removeAttributeNS(i.space,i.local)}}function TM(i,t,e){var n,s=e+"",o;return function(){var l=this.getAttribute(i);return l===s?null:l===n?o:o=t(n=l,e)}}function EM(i,t,e){var n,s=e+"",o;return function(){var l=this.getAttributeNS(i.space,i.local);return l===s?null:l===n?o:o=t(n=l,e)}}function AM(i,t,e){var n,s,o;return function(){var l,h=e(this),f;return h==null?void this.removeAttribute(i):(l=this.getAttribute(i),f=h+"",l===f?null:l===n&&f===s?o:(s=f,o=t(n=l,h)))}}function SM(i,t,e){var n,s,o;return function(){var l,h=e(this),f;return h==null?void this.removeAttributeNS(i.space,i.local):(l=this.getAttributeNS(i.space,i.local),f=h+"",l===f?null:l===n&&f===s?o:(s=f,o=t(n=l,h)))}}function wM(i,t){var e=bc(i),n=e==="transform"?AS:v5;return this.attrTween(i,typeof t=="function"?(e.local?SM:AM)(e,n,Z1(this,"attr."+i,t)):t==null?(e.local?bM:xM)(e):(e.local?EM:TM)(e,n,t))}function CM(i,t){return function(e){this.setAttribute(i,t.call(this,e))}}function MM(i,t){return function(e){this.setAttributeNS(i.space,i.local,t.call(this,e))}}function RM(i,t){var e,n;function s(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&MM(i,o)),e}return s._value=t,s}function DM(i,t){var e,n;function s(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&CM(i,o)),e}return s._value=t,s}function OM(i,t){var e="attr."+i;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var n=bc(i);return this.tween(e,(n.local?RM:DM)(n,t))}function BM(i,t){return function(){W1(this,i).delay=+t.apply(this,arguments)}}function IM(i,t){return t=+t,function(){W1(this,i).delay=t}}function NM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?BM:IM)(t,i)):Zi(this.node(),t).delay}function PM(i,t){return function(){_n(this,i).duration=+t.apply(this,arguments)}}function LM(i,t){return t=+t,function(){_n(this,i).duration=t}}function UM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?PM:LM)(t,i)):Zi(this.node(),t).duration}function FM(i,t){if(typeof t!="function")throw new Error;return function(){_n(this,i).ease=t}}function kM(i){var t=this._id;return arguments.length?this.each(FM(t,i)):Zi(this.node(),t).ease}function zM(i,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;_n(this,i).ease=e}}function GM(i){if(typeof i!="function")throw new Error;return this.each(zM(this._id,i))}function HM(i){typeof i!="function"&&(i=r5(i));for(var t=this._groups,e=t.length,n=new Array(e),s=0;s<e;++s)for(var o=t[s],l=o.length,h=n[s]=[],f,d=0;d<l;++d)(f=o[d])&&i.call(f,f.__data__,d,o)&&h.push(f);return new Kn(n,this._parents,this._name,this._id)}function jM(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,e=i._groups,n=t.length,s=e.length,o=Math.min(n,s),l=new Array(n),h=0;h<o;++h)for(var f=t[h],d=e[h],p=f.length,g=l[h]=new Array(p),v,_=0;_<p;++_)(v=f[_]||d[_])&&(g[_]=v);for(;h<n;++h)l[h]=t[h];return new Kn(l,this._parents,this._name,this._id)}function XM(i){return(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function VM(i,t,e){var n,s,o=XM(t)?W1:_n;return function(){var l=o(this,i),h=l.on;h!==n&&(s=(n=h).copy()).on(t,e),l.on=s}}function YM(i,t){var e=this._id;return arguments.length<2?Zi(this.node(),e).on.on(i):this.each(VM(e,i,t))}function qM(i){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==i)return;t&&t.removeChild(this)}}function $M(){return this.on("end.remove",qM(this._id))}function WM(i){var t=this._name,e=this._id;typeof i!="function"&&(i=V1(i));for(var n=this._groups,s=n.length,o=new Array(s),l=0;l<s;++l)for(var h=n[l],f=h.length,d=o[l]=new Array(f),p,g,v=0;v<f;++v)(p=h[v])&&(g=i.call(p,p.__data__,v,h))&&("__data__"in p&&(g.__data__=p.__data__),d[v]=g,Ec(d[v],t,e,v,d,Zi(p,e)));return new Kn(o,this._parents,t,e)}function ZM(i){var t=this._name,e=this._id;typeof i!="function"&&(i=n5(i));for(var n=this._groups,s=n.length,o=[],l=[],h=0;h<s;++h)for(var f=n[h],d=f.length,p,g=0;g<d;++g)if(p=f[g]){for(var v=i.call(p,p.__data__,g,f),_,x=Zi(p,e),b=0,E=v.length;b<E;++b)(_=v[b])&&Ec(_,t,e,b,v,x);o.push(v),l.push(p)}return new Kn(o,l,t,e)}var KM=wl.prototype.constructor;function QM(){return new KM(this._groups,this._parents)}function JM(i,t){var e,n,s;return function(){var o=Ya(this,i),l=(this.style.removeProperty(i),Ya(this,i));return o===l?null:o===e&&l===n?s:s=t(e=o,n=l)}}function _5(i){return function(){this.style.removeProperty(i)}}function tR(i,t,e){var n,s=e+"",o;return function(){var l=Ya(this,i);return l===s?null:l===n?o:o=t(n=l,e)}}function eR(i,t,e){var n,s,o;return function(){var l=Ya(this,i),h=e(this),f=h+"";return h==null&&(f=h=(this.style.removeProperty(i),Ya(this,i))),l===f?null:l===n&&f===s?o:(s=f,o=t(n=l,h))}}function iR(i,t){var e,n,s,o="style."+t,l="end."+o,h;return function(){var f=_n(this,i),d=f.on,p=f.value[o]==null?h||(h=_5(t)):void 0;(d!==e||s!==p)&&(n=(e=d).copy()).on(l,s=p),f.on=n}}function nR(i,t,e){var n=(i+="")=="transform"?ES:v5;return t==null?this.styleTween(i,JM(i,n)).on("end.style."+i,_5(i)):typeof t=="function"?this.styleTween(i,eR(i,n,Z1(this,"style."+i,t))).each(iR(this._id,i)):this.styleTween(i,tR(i,n,t),e).on("end.style."+i,null)}function rR(i,t,e){return function(n){this.style.setProperty(i,t.call(this,n),e)}}function sR(i,t,e){var n,s;function o(){var l=t.apply(this,arguments);return l!==s&&(n=(s=l)&&rR(i,l,e)),n}return o._value=t,o}function aR(i,t,e){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,sR(i,t,e??""))}function oR(i){return function(){this.textContent=i}}function lR(i){return function(){var t=i(this);this.textContent=t??""}}function uR(i){return this.tween("text",typeof i=="function"?lR(Z1(this,"text",i)):oR(i==null?"":i+""))}function hR(i){return function(t){this.textContent=i.call(this,t)}}function cR(i){var t,e;function n(){var s=i.apply(this,arguments);return s!==e&&(t=(e=s)&&hR(s)),t}return n._value=i,n}function fR(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,cR(i))}function dR(){for(var i=this._name,t=this._id,e=x5(),n=this._groups,s=n.length,o=0;o<s;++o)for(var l=n[o],h=l.length,f,d=0;d<h;++d)if(f=l[d]){var p=Zi(f,t);Ec(f,i,e,d,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Kn(n,this._parents,i,e)}function pR(){var i,t,e=this,n=e._id,s=e.size();return new Promise(function(o,l){var h={value:l},f={value:function(){--s===0&&o()}};e.each(function(){var d=_n(this,n),p=d.on;p!==i&&(t=(i=p).copy(),t._.cancel.push(h),t._.interrupt.push(h),t._.end.push(f)),d.on=t}),s===0&&o()})}var mR=0;function Kn(i,t,e,n){this._groups=i,this._parents=t,this._name=e,this._id=n}function x5(){return++mR}var jn=wl.prototype;Kn.prototype={constructor:Kn,select:WM,selectAll:ZM,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:HM,merge:jM,selection:QM,transition:dR,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:YM,attr:wM,attrTween:OM,style:nR,styleTween:aR,text:uR,textTween:fR,remove:$M,tween:_M,delay:NM,duration:UM,ease:kM,easeVarying:GM,end:pR,[Symbol.iterator]:jn[Symbol.iterator]};function gR(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var yR={time:null,delay:0,duration:250,ease:gR};function vR(i,t){for(var e;!(e=i.__transition)||!(e=e[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return e}function _R(i){var t,e;i instanceof Kn?(t=i._id,i=i._name):(t=x5(),(e=yR).time=$1(),i=i==null?null:i+"");for(var n=this._groups,s=n.length,o=0;o<s;++o)for(var l=n[o],h=l.length,f,d=0;d<h;++d)(f=l[d])&&Ec(f,i,t,d,l,e||vR(f,t));return new Kn(n,this._parents,i,t)}wl.prototype.interrupt=gM;wl.prototype.transition=_R;const gh=i=>()=>i;function xR(i,{sourceEvent:t,target:e,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function $n(i,t,e){this.k=i,this.x=t,this.y=e}$n.prototype={constructor:$n,scale:function(i){return i===1?this:new $n(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new $n(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var K1=new $n(1,0,0);$n.prototype;function Tp(i){i.stopImmediatePropagation()}function il(i){i.preventDefault(),i.stopImmediatePropagation()}function bR(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function TR(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function Z3(){return this.__zoom||K1}function ER(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function AR(){return navigator.maxTouchPoints||"ontouchstart"in this}function SR(i,t,e){var n=i.invertX(t[0][0])-e[0][0],s=i.invertX(t[1][0])-e[1][0],o=i.invertY(t[0][1])-e[0][1],l=i.invertY(t[1][1])-e[1][1];return i.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function wR(){var i=bR,t=TR,e=SR,n=ER,s=AR,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],h=250,f=MS,d=q1("start","zoom","end"),p,g,v,_=500,x=150,b=0,E=10;function A(L){L.property("__zoom",Z3).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",rt).filter(s).on("touchstart.zoom",q).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(L,nt,S,M){var O=L.selection?L.selection():L;O.property("__zoom",Z3),L!==O?R(L,nt,S,M):O.interrupt().each(function(){F(this,arguments).event(M).start().zoom(null,typeof nt=="function"?nt.apply(this,arguments):nt).end()})},A.scaleBy=function(L,nt,S,M){A.scaleTo(L,function(){var O=this.__zoom.k,z=typeof nt=="function"?nt.apply(this,arguments):nt;return O*z},S,M)},A.scaleTo=function(L,nt,S,M){A.transform(L,function(){var O=t.apply(this,arguments),z=this.__zoom,U=S==null?N(O):typeof S=="function"?S.apply(this,arguments):S,w=z.invert(U),P=typeof nt=="function"?nt.apply(this,arguments):nt;return e(C(I(z,P),U,w),O,l)},S,M)},A.translateBy=function(L,nt,S,M){A.transform(L,function(){return e(this.__zoom.translate(typeof nt=="function"?nt.apply(this,arguments):nt,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),l)},null,M)},A.translateTo=function(L,nt,S,M,O){A.transform(L,function(){var z=t.apply(this,arguments),U=this.__zoom,w=M==null?N(z):typeof M=="function"?M.apply(this,arguments):M;return e(K1.translate(w[0],w[1]).scale(U.k).translate(typeof nt=="function"?-nt.apply(this,arguments):-nt,typeof S=="function"?-S.apply(this,arguments):-S),z,l)},M,O)};function I(L,nt){return nt=Math.max(o[0],Math.min(o[1],nt)),nt===L.k?L:new $n(nt,L.x,L.y)}function C(L,nt,S){var M=nt[0]-S[0]*L.k,O=nt[1]-S[1]*L.k;return M===L.x&&O===L.y?L:new $n(L.k,M,O)}function N(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function R(L,nt,S,M){L.on("start.zoom",function(){F(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(M).end()}).tween("zoom",function(){var O=this,z=arguments,U=F(O,z).event(M),w=t.apply(O,z),P=S==null?N(w):typeof S=="function"?S.apply(O,z):S,k=Math.max(w[1][0]-w[0][0],w[1][1]-w[0][1]),V=O.__zoom,tt=typeof nt=="function"?nt.apply(O,z):nt,ot=f(V.invert(P).concat(k/V.k),tt.invert(P).concat(k/tt.k));return function(ut){if(ut===1)ut=tt;else{var ft=ot(ut),dt=k/ft[2];ut=new $n(dt,P[0]-ft[0]*dt,P[1]-ft[1]*dt)}U.zoom(null,ut)}})}function F(L,nt,S){return!S&&L.__zooming||new D(L,nt)}function D(L,nt){this.that=L,this.args=nt,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,nt),this.taps=0}D.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,nt){return this.mouse&&L!=="mouse"&&(this.mouse[1]=nt.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=nt.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=nt.invert(this.touch1[0])),this.that.__zoom=nt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var nt=Di(this.that).datum();d.call(L,this.that,new xR(L,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:d}),nt)}};function X(L,...nt){if(!i.apply(this,arguments))return;var S=F(this,nt).event(L),M=this.__zoom,O=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,n.apply(this,arguments)))),z=Rr(L);if(S.wheel)(S.mouse[0][0]!==z[0]||S.mouse[0][1]!==z[1])&&(S.mouse[1]=M.invert(S.mouse[0]=z)),clearTimeout(S.wheel);else{if(M.k===O)return;S.mouse=[z,M.invert(z)],Oh(this),S.start()}il(L),S.wheel=setTimeout(U,x),S.zoom("mouse",e(C(I(M,O),S.mouse[0],S.mouse[1]),S.extent,l));function U(){S.wheel=null,S.end()}}function J(L,...nt){if(v||!i.apply(this,arguments))return;var S=L.currentTarget,M=F(this,nt,!0).event(L),O=Di(L.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",k,!0),z=Rr(L,S),U=L.clientX,w=L.clientY;oM(L.view),Tp(L),M.mouse=[z,this.__zoom.invert(z)],Oh(this),M.start();function P(V){if(il(V),!M.moved){var tt=V.clientX-U,ot=V.clientY-w;M.moved=tt*tt+ot*ot>b}M.event(V).zoom("mouse",e(C(M.that.__zoom,M.mouse[0]=Rr(V,S),M.mouse[1]),M.extent,l))}function k(V){O.on("mousemove.zoom mouseup.zoom",null),lM(V.view,M.moved),il(V),M.event(V).end()}}function rt(L,...nt){if(i.apply(this,arguments)){var S=this.__zoom,M=Rr(L.changedTouches?L.changedTouches[0]:L,this),O=S.invert(M),z=S.k*(L.shiftKey?.5:2),U=e(C(I(S,z),M,O),t.apply(this,nt),l);il(L),h>0?Di(this).transition().duration(h).call(R,U,M,L):Di(this).call(A.transform,U,M,L)}}function q(L,...nt){if(i.apply(this,arguments)){var S=L.touches,M=S.length,O=F(this,nt,L.changedTouches.length===M).event(L),z,U,w,P;for(Tp(L),U=0;U<M;++U)w=S[U],P=Rr(w,this),P=[P,this.__zoom.invert(P),w.identifier],O.touch0?!O.touch1&&O.touch0[2]!==P[2]&&(O.touch1=P,O.taps=0):(O.touch0=P,z=!0,O.taps=1+!!p);p&&(p=clearTimeout(p)),z&&(O.taps<2&&(g=P[0],p=setTimeout(function(){p=null},_)),Oh(this),O.start())}}function H(L,...nt){if(this.__zooming){var S=F(this,nt).event(L),M=L.changedTouches,O=M.length,z,U,w,P;for(il(L),z=0;z<O;++z)U=M[z],w=Rr(U,this),S.touch0&&S.touch0[2]===U.identifier?S.touch0[0]=w:S.touch1&&S.touch1[2]===U.identifier&&(S.touch1[0]=w);if(U=S.that.__zoom,S.touch1){var k=S.touch0[0],V=S.touch0[1],tt=S.touch1[0],ot=S.touch1[1],ut=(ut=tt[0]-k[0])*ut+(ut=tt[1]-k[1])*ut,ft=(ft=ot[0]-V[0])*ft+(ft=ot[1]-V[1])*ft;U=I(U,Math.sqrt(ut/ft)),w=[(k[0]+tt[0])/2,(k[1]+tt[1])/2],P=[(V[0]+ot[0])/2,(V[1]+ot[1])/2]}else if(S.touch0)w=S.touch0[0],P=S.touch0[1];else return;S.zoom("touch",e(C(U,w,P),S.extent,l))}}function W(L,...nt){if(this.__zooming){var S=F(this,nt).event(L),M=L.changedTouches,O=M.length,z,U;for(Tp(L),v&&clearTimeout(v),v=setTimeout(function(){v=null},_),z=0;z<O;++z)U=M[z],S.touch0&&S.touch0[2]===U.identifier?delete S.touch0:S.touch1&&S.touch1[2]===U.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(U=Rr(U,this),Math.hypot(g[0]-U[0],g[1]-U[1])<E)){var w=Di(this).on("dblclick.zoom");w&&w.apply(this,arguments)}}}return A.wheelDelta=function(L){return arguments.length?(n=typeof L=="function"?L:gh(+L),A):n},A.filter=function(L){return arguments.length?(i=typeof L=="function"?L:gh(!!L),A):i},A.touchable=function(L){return arguments.length?(s=typeof L=="function"?L:gh(!!L),A):s},A.extent=function(L){return arguments.length?(t=typeof L=="function"?L:gh([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),A):t},A.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],A):[o[0],o[1]]},A.translateExtent=function(L){return arguments.length?(l[0][0]=+L[0][0],l[1][0]=+L[1][0],l[0][1]=+L[0][1],l[1][1]=+L[1][1],A):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},A.constrain=function(L){return arguments.length?(e=L,A):e},A.duration=function(L){return arguments.length?(h=+L,A):h},A.interpolate=function(L){return arguments.length?(f=L,A):f},A.on=function(){var L=d.on.apply(d,arguments);return L===d?A:L},A.clickDistance=function(L){return arguments.length?(b=(L=+L)*L,A):Math.sqrt(b)},A.tapDistance=function(L){return arguments.length?(E=+L,A):E},A}const CR=.1,MR=256;class RR{constructor(t,e,n={maxZoomLevel:MR,minZoomLevel:CR}){this.xBounds=[0,1],this.yBounds=[0,1],this.translateBoundsX=[0,1],this.translateBoundsY=[0,1],this._zFactor=1,this._enableTranslateExtent=!1,this.container=Di(t),this.options=n,this.onRescale=e,this.onZoom=this.onZoom.bind(this),this.calculateTransform=this.calculateTransform.bind(this),this.applyTransform=this.applyTransform.bind(this),this.recalculateZoomTransform=this.recalculateZoomTransform.bind(this),this.rescale=this.rescale.bind(this),this.adjustToSize=this.adjustToSize.bind(this),this.setViewport=this.setViewport.bind(this),this.currentStateAsEvent=this.currentStateAsEvent.bind(this),this.updateTranslateExtent=this.updateTranslateExtent.bind(this),this.scaleX=ja().domain(this.xBounds).range([0,1]),this.scaleY=ja().domain(this.yBounds).range([0,1]),this.init()}get width(){return this.scaleX.range()[1]??0}get height(){return this.scaleY.range()[1]??0}get xSpan(){const{xBounds:t}=this;return Math.abs(t[1]-t[0])}get ySpan(){const{yBounds:t}=this;return Math.abs(t[1]-t[0])}get viewportRatio(){return this.width/(this.height||1)}get xRatio(){const t=this.scaleX.domain();return Math.abs(this.width/(t[1]-t[0]))}get yRatio(){const t=this.scaleY.domain();return Math.abs(this.height/(t[1]-t[0]))}get zFactor(){return this._zFactor}set zFactor(t){this._zFactor=t,this.recalculateZoomTransform()}get isXInverted(){return this.xBounds[1]<this.xBounds[0]}get isYInverted(){return this.yBounds[1]<this.yBounds[0]}get enableTranslateExtent(){return this._enableTranslateExtent}set enableTranslateExtent(t){this._enableTranslateExtent=t,this.updateTranslateExtent()}updateTranslateExtent(){const{width:t,xSpan:e,zFactor:n,enableTranslateExtent:s,translateBoundsX:o,translateBoundsY:l}=this;let h=-1/0,f=-1/0,d=1/0,p=1/0;if(s){const g=t/e;h=o[0]*g,d=o[1]*g,f=l[0]*g*n,p=l[1]*g*n}this.zoom.translateExtent([[h,f],[d,p]])}currentStateAsEvent(){const{scaleX:t,scaleY:e,xBounds:n,yBounds:s,zFactor:o,viewportRatio:l,currentTransform:h,xRatio:f,yRatio:d,width:p,height:g}=this;return{xScale:t.copy(),yScale:e.copy(),xBounds:n,yBounds:s,zFactor:o,viewportRatio:l,xRatio:f,yRatio:d,width:p,height:g,transform:Object.assign({},h)}}rescale(){const{currentStateAsEvent:t}=this;this.onRescale(t())}init(){this.zoom=wR().scaleExtent([this.options.minZoomLevel,this.options.maxZoomLevel]).on("zoom",this.onZoom),this.container.call(this.zoom)}onZoom(t){const{transform:e}=t;e&&(this.applyTransform(e),this.rescale())}applyTransform(t){const{width:e,scaleX:n,scaleY:s,xSpan:o,xBounds:l,yBounds:h,zFactor:f}=this,{viewportRatio:d,isXInverted:p,isYInverted:g}=this,v=e*t.k,_=o/v,x=o/t.k,b=x/f/d,E=_*t.x,A=_/f*t.y,I=l[0]-(p?-E:E),C=h[0]-(g?-A:A);n.domain([I,I+(p?-x:x)]),s.domain([C,C+(g?-b:b)]),this.currentTransform=t}setViewport(t,e,n,s){const{zoom:o,container:l,calculateTransform:h,scaleX:f,scaleY:d,isXInverted:p}=this;if(t==null||n==null||isNaN(t)||isNaN(n)){const b=f.domain(),E=b[1]-b[0];(t==null||isNaN(t))&&(t=b[0]+E/2||0),(n==null||isNaN(n))&&(n=Math.abs(E)||1)}if(e==null||isNaN(e)){const b=d.domain();e=b[0]+(b[1]-b[0])/2||0}const g=p?-n:n,v=t-g/2,_=v+g,x=h(v,_,e);s!=null&&Number.isFinite(s)&&s>0?o.transform(l.transition().duration(s),x):o.transform(l,x)}setBounds(t,e){this.xBounds=t,this.yBounds=e,this.recalculateZoomTransform()}setTranslateBounds(t,e){this.translateBoundsX=t,this.translateBoundsY=e,this.updateTranslateExtent()}adjustToSize(t,e,n=!1){const{width:s,height:o,scaleX:l,scaleY:h,recalculateZoomTransform:f}=this;let d=0,p=0;if(typeof t=="number"&&typeof e=="number")p=e,d=t;else{const _=this.container.node();if(_){const{width:x,height:b}=_.getBoundingClientRect();d=x,p=b}}const g=Math.max(1,d),v=Math.max(1,p);!n&&s===g&&o===v||(l.range([0,g]),h.range([0,v]),f(),this.onRescale(this.currentStateAsEvent()))}calculateTransform(t,e,n){const{scaleX:s,xSpan:o,xBounds:l,yBounds:h,zFactor:f,viewportRatio:d,isXInverted:p,isYInverted:g}=this,[v,_]=s.range(),x=Math.abs(e-t),b=o/x,E=x/(_-v),A=n-(g?-x:x)/f/d/2,I=(l[0]-t)/(p?-E:E),C=(h[0]-A)/((g?-E:E)/f);return K1.translate(I,C).scale(b)}recalculateZoomTransform(){const{scaleX:t,scaleY:e,container:n,calculateTransform:s,updateTranslateExtent:o}=this,[l,h]=t.domain(),[f,d]=e.domain(),p=f+(d-f)/2,g=s(l,h,p);o(),this.zoom.transform(n,g)}setZoomLevelBoundary(t){return this.zoom.scaleExtent(t),this}setMaxZoomLevel(t){const e=this.zoom.scaleExtent();return this.zoom.scaleExtent([e[0],t]),this}setMinZoomLevel(t){const e=this.zoom.scaleExtent();return this.zoom.scaleExtent([t,e[1]]),this}}const DR={order:1,layerOpacity:1,interactive:!1};class Q1{constructor(t,e){this._interactive=!1,this._id=t||`layer-${Math.floor(Math.random()*1e3)}`;const n=e||DR;this._order=n.order||1,this._options={...n},this.loading=!1,this._element=void 0,this._opacity=n.layerOpacity||1,this._visible=!0,this._interactive=n.interactive||!1,e&&e.data&&this.setData(e.data),this._referenceSystem=e?.referenceSystem,this.onMount=this.onMount.bind(this),this.onUnmount=this.onUnmount.bind(this),this.onUpdate=this.onUpdate.bind(this),this.onRescale=this.onRescale.bind(this),this.onResize=this.onResize.bind(this),this.onOrderChanged=this.onOrderChanged.bind(this),this.onOpacityChanged=this.onOpacityChanged.bind(this),this.setVisibility=this.setVisibility.bind(this)}get id(){return this._id}get element(){return this._element}get options(){return this._options}set options(t){this._options=t}set isLoading(t){this.loading=t}get isLoading(){return this.loading}set opacity(t){this._opacity=t,this.onOpacityChanged(t)}get opacity(){return this._opacity}set order(t){this._order=t,this.onOrderChanged(t)}get order(){return this._order}set interactive(t){this._interactive=t,this.onInteractivityChanged(t)}get interactive(){return this._interactive}get referenceSystem(){return this._referenceSystem}set referenceSystem(t){this._referenceSystem=t}get data(){return this.getData()}set data(t){this.setData(t)}get isVisible(){return this._visible}getData(){return this._data}setData(t){this._data=t,this.element&&t!=null&&this.onUpdate({data:t})}clearData(t=!0){this._data=void 0,t&&(this.referenceSystem=void 0),this.onUpdate({})}setVisibility(t,e){this._visible=t}onMount(t){this._element=t.elm,this._options.onMount&&this._options.onMount(t,this)}onUnmount(t){this._options.onUnmount&&t!=null&&this._options.onUnmount(t,this)}onResize(t){this._options.onResize&&this._options.onResize(t,this)}onUpdate(t){t.data&&(this._data=t.data),this._options.onUpdate&&this._options.onUpdate(t,this)}onRescale(t){this.optionsRescale(t)}optionsRescale(t){this._options.onRescale&&this._options.onRescale(t,this)}getInternalLayerIds(){return[]}}const J1=200,tm=300,b5=40,T5=30,OR=100,BR=.6,IR=.3,NR=8,PR=16,Fr=64;class E5 extends Q1{onOpacityChanged(t){this.canvas&&this.updateStyle()}onOrderChanged(t){this.canvas&&this.updateStyle()}onInteractivityChanged(t){this.canvas&&this.updateStyle()}setVisibility(t){super.setVisibility(t),this.canvas&&this.updateStyle(t)}updateStyle(t){var e;const n=t||this.isVisible?"visible":"hidden",s=this.interactive?"auto":"none";(e=this.canvas)==null||e.setAttribute("style",`position:absolute;pointer-events:${s};z-index:${this.order};opacity:${this.opacity};visibility:${n}`)}onMount(t){super.onMount(t);const{elm:e}=t,n=t.width||parseInt(e?.getAttribute("width")??"",10)||J1,s=t.height||parseInt(e?.getAttribute("height")??"",10)||tm;this.elm=e;let o;this.canvas||(o=document.createElement("canvas"),this.canvas=o,t.elm.appendChild(o)),this.canvas.setAttribute("id",`${this.id}`),this.canvas.setAttribute("width",`${n}px`),this.canvas.setAttribute("height",`${s}px`),this.canvas.setAttribute("class","canvas-layer"),this.updateStyle(),this.ctx=this.canvas.getContext("2d")??void 0}onUnmount(){var t;super.onUnmount(),(t=this.canvas)==null||t.remove(),this.canvas=void 0}onResize(t){const{ctx:e}=this,{width:n,height:s}=t;e?.canvas.setAttribute("width",`${n}px`),e?.canvas.setAttribute("height",`${s}px`)}onUpdate(t){super.onUpdate(t)}resetTransform(){var t;(t=this.ctx)==null||t.resetTransform()}setTransform(t){var e,n;this.resetTransform();const s=t.xBounds[0]>t.xBounds[1],o=t.yBounds[0]>t.yBounds[1];(e=this.ctx)==null||e.translate(t.xScale(0),t.yScale(0)),(n=this.ctx)==null||n.scale(t.xRatio*(s?-1:1),t.yRatio*(o?-1:1))}clearCanvas(){const{ctx:t,canvas:e}=this;t?.save(),t?.resetTransform(),t?.clearRect(0,0,e?.width??0,e?.height??0),t?.restore()}}class LR extends Q1{onMount(t){super.onMount(t);const{elm:e}=t,n=t.width||parseInt(e.getAttribute("width")??"",10)||J1,s=t.height||parseInt(e.getAttribute("height")??"",10)||tm;this.elm||(this.elm=Di(e).append("svg"),this.elm.attr("id",`${this.id}`),this.elm.attr("class","svg-layer")),this.elm.attr("height",s).attr("width",n);const o=this.interactive?"auto":"none";this.elm.style("position","absolute").style("pointer-events",o).style("opacity",this.opacity).style("z-index",this.order)}onUnmount(){var t;super.onUnmount(),(t=this.elm)==null||t.remove(),this.elm=void 0}onResize(t){this.elm&&(super.onResize(t),this.elm.attr("height",t.height).attr("width",t.width))}setVisibility(t){super.setVisibility(t),this.elm&&this.elm.attr("visibility",t?"visible":"hidden")}onOpacityChanged(t){this.elm&&this.elm.style("opacity",t)}onOrderChanged(t){this.elm&&this.elm.style("z-index",t)}onInteractivityChanged(t){if(this.elm){const e=t?"auto":"none";this.elm.style("pointer-events",e)}}}class UR{constructor(t){const e={width:J1,height:tm,antialias:!0,backgroundAlpha:0,clearBeforeRender:!0,preserveDrawingBuffer:!0,...t};this.renderer=i6(e),this.stage=new gi}destroy(){var t,e,n,s,o;(t=this.stage)==null||t.destroy({children:!0,texture:!0,baseTexture:!0}),this.stage=void 0;const l=(e=this.renderer)==null?void 0:e.type,h=this.renderer instanceof yc?(n=this.renderer)==null?void 0:n.gl:void 0;l===D1.WEBGL&&h&&((s=h?.getExtension("WEBGL_lose_context"))==null||s.loseContext()),(o=this.renderer)==null||o.destroy(!0),this.renderer=void 0}get view(){var t;return(t=this.renderer)==null?void 0:t.view}render(){var t;this.stage!=null&&((t=this.renderer)==null||t.render(this.stage))}}class FR extends Q1{constructor(t,e,n){var s;super(e,n),this.ctx=t,this.container=new gi,(s=this.ctx.stage)==null||s.addChild(this.container)}render(){this.ctx.render()}addChild(t){this.container.addChild(t)}clearLayer(){this.container.removeChildren().forEach(t=>{t.destroy()})}onMount(t){var e,n;super.onMount(t),this.pixiViewContainer=((e=this.element)==null?void 0:e.querySelector("#webgl-layer"))??void 0,this.pixiViewContainer||(this.pixiViewContainer=document.createElement("div"),this.pixiViewContainer.setAttribute("id",`${this.id}`),this.pixiViewContainer.setAttribute("class","webgl-layer"),this.ctx.view!=null&&this.pixiViewContainer.appendChild(this.ctx.view),(n=this.element)==null||n.appendChild(this.pixiViewContainer),this.updateStyle())}onUnmount(t){var e,n;super.onUnmount(t),this.clearLayer(),(e=this.ctx.stage)==null||e.removeChild(this.container),this.container.destroy(),(n=this.pixiViewContainer)==null||n.remove(),this.pixiViewContainer=void 0}onResize(t){var e;super.onResize(t),(e=this.ctx.renderer)==null||e.resize(t.width,t.height)}onRescale(t){super.onRescale(t);const e=t.xBounds[0]>t.xBounds[1],n=t.yBounds[0]>t.yBounds[1];this.setContainerPosition(t.xScale(0),t.yScale(0)),this.setContainerScale(t.xRatio*(e?-1:1),t.yRatio*(n?-1:1))}setContainerPosition(t,e){this.container.position.set(t,e)}setContainerScale(t,e){this.container.scale.set(t,e)}updateStyle(t){var e;const n=t||this.isVisible,s=this.interactive?"auto":"none";this.container.visible=n;const o=[["position","absolute"],["pointer-events",`${s}`],["z-index",`${this.order}`],["opacity",`${this.opacity}`]].map(l=>l.join(":")).join(";");(e=this.pixiViewContainer)==null||e.setAttribute("style",o)}setVisibility(t,e){super.setVisibility(t,e),this.pixiViewContainer&&this.updateStyle(t)}onOpacityChanged(t){this.pixiViewContainer&&this.updateStyle()}onOrderChanged(t){this.pixiViewContainer&&this.updateStyle()}onInteractivityChanged(t){this.pixiViewContainer&&this.updateStyle()}renderType(){var t;return(t=this.ctx.renderer)==null?void 0:t.type}}function em(i){throw new Error(`Unexpected object: ${JSON.stringify(i)}`)}const kR=i=>i.kind==="pAndASymbol",zR=i=>i.kind==="cementSqueeze",GR=i=>i.kind==="cementPlug",HR=(i,t,e)=>n=>{switch(n.kind){case"screen":return i(n);case"tubing":return t(n);case"completionSymbol":return e(n);default:return em(n)}},Hr=(i,t)=>{switch(t){case"Perforation":return i.Perforation(t);case"Open hole gravel pack":return i.OpenHoleGravelPack(t);case"Open hole frac pack":return i.OpenHoleFracPack(t);case"Cased hole fracturation":return i.CasedHoleFracturation(t);case"Cased hole frac pack":return i.CasedHoleFracPack(t);case"Cased hole gravel pack":return i.CasedHoleGravelPack(t);default:return em(t)}},jR=i=>Hr({Perforation:()=>!1,OpenHoleGravelPack:()=>!0,OpenHoleFracPack:()=>!0,CasedHoleFracturation:()=>!1,CasedHoleGravelPack:()=>!0,CasedHoleFracPack:()=>!0},i.subKind);function XR(i){return Hr({Perforation:()=>!1,OpenHoleGravelPack:()=>!1,OpenHoleFracPack:()=>!0,CasedHoleFracturation:()=>!0,CasedHoleGravelPack:()=>!1,CasedHoleFracPack:()=>!0},i.subKind)}function VR(i){return Hr({Perforation:()=>!0,OpenHoleGravelPack:()=>!1,OpenHoleFracPack:()=>!1,CasedHoleFracturation:()=>!1,CasedHoleGravelPack:()=>!1,CasedHoleFracPack:()=>!1},i.subKind)}function YR(i){return Hr({Perforation:()=>!1,OpenHoleGravelPack:()=>!1,OpenHoleFracPack:()=>!1,CasedHoleFracturation:()=>!1,CasedHoleGravelPack:()=>!0,CasedHoleFracPack:()=>!1},i.subKind)}function qR(i){return Hr({Perforation:()=>!1,OpenHoleGravelPack:()=>!1,OpenHoleFracPack:()=>!1,CasedHoleFracturation:()=>!1,CasedHoleGravelPack:()=>!1,CasedHoleFracPack:()=>!0},i.subKind)}const $R=i=>i.subKind==="Cased hole fracturation",WR=(i,t)=>i.start<t.end&&i.end>t.start,ZR=i=>({holeLayerId:`${i}-hole`,casingLayerId:`${i}-casing`,completionLayerId:`${i}-completion`,cementLayerId:`${i}-cement`,pAndALayerId:`${i}-pAndA`,perforationLayerId:`${i}-perforation`}),KR={firstColor:"#8c541d",secondColor:"#eee3d8",lineColor:"#8b4513"},QR={solidColor:"#dcdcdc",lineColor:"#575757",shoeSize:{width:NR,length:PR},windowOptions:{dashColor:"#dc0000",dashLength:5,spaceLength:3}},JR={stroke:"rgba(0, 0, 0, 0.25)",yellow:"#FFFC00",grey:"gray",red:"#FF5050",outline:"black",transparent:"rgba(255, 255, 255, 0)",spikeWidth:50,spikeLength:50,packingOpacity:.7,fracLineCurve:10,fracLineLength:25,scalingFactor:25},tD={firstColor:"#c7b9ab",secondColor:"#5b5b5b",scalingFactor:4},eD={firstColor:"#8b6713",secondColor:"#000000",scalingFactor:4},iD={scalingFactor:4,lineColor:"#63666a"},nD={scalingFactor:1,innerColor:"#eeeeff",outerColor:"#777788"},rD={firstColor:"#c7b9ab",secondColor:"#000000",scalingFactor:4},A5=4,S5=2;function sD(i){const[t]=i.domain();return Math.abs(i(t+1))}function K3(i,t,e,n){return Xa(sD(n)*i,t,e)}function aD(i,t,e=A5,n=S5){const s=i.x+i.width+e,o=t.x+t.width+e,l=i.y+i.height+n,h=t.y+t.height+n;return!(t.x-e>s||t.y-n>l||o+e<i.x||h+n<i.y)}function Q3(i,t,e=A5,n=S5){const s=i.x+i.width,o=t.x+t.width,l=i.y+i.height,h=t.y+t.height;if(t.x-e>s||t.y-n>l||o+e<i.x||h+n<i.y)return;const f=i.x+i.width-t.x+e,d=i.y+i.height-t.y+n;return{dx:f,dy:d}}const oD=7,lD=11,uD=7,hD=20,cD=120,fD=19,dD="rgba(0, 0, 0, 0.5)",pD=5,mD=5;function gD(i,t){return i??t}const Gi={topleft:"topleft",topright:"topright",bottomleft:"bottomleft",bottomright:"bottomright"};class yD extends E5{constructor(t,e){super(t,e),this.callouts=[],this.groupFilter=[],this.renderAnnotation=(n,s,o,l,h,f)=>{this.renderText(n,o,l-h,h,f,"arial","bold"),this.renderText(s,o,l,h,f)},this.renderLine=(n,s,o,l,h,f,d=!0)=>{const{ctx:p}=this,g=d?n:n+o,v=d?n+o:n,_=s+2;p!=null&&(p.strokeStyle=f,p.lineWidth=1,p.beginPath(),p.moveTo(l,h),p.lineTo(g,_),p.lineTo(v,_),p.stroke())},this.minFontSize=e?.minFontSize||oD,this.maxFontSize=e?.maxFontSize||lD,this.fontSizeFactor=e?.fontSizeFactor||uD,this.offsetMin=e?.offsetMin||hD,this.offsetMax=e?.offsetMax||cD,this.offsetFactor=e?.offsetFactor||fD,this.fontColor=e?.fontColor,e!=null&&e.backgroundColor?(this.backgroundActive=!0,this.backgroundColor=e.backgroundColor):(this.backgroundActive=!1,this.backgroundColor=dD),this.backgroundPadding=e?.backgroundPadding||pD,this.backgroundBorderRadius=gD(e?.backgroundBorderRadius,mD)}setGroupFilter(t){this.groupFilter=t,this.callouts=[],this.render()}onUpdate(t){super.onUpdate(t),this.callouts=[],this.render()}onRescale(t){super.onRescale(t);const e=this.rescaleEvent&&this.rescaleEvent.xRatio===t.xRatio;this.rescaleEvent=t,this.render(e)}render(t=!1){requestAnimationFrame(()=>{if(this.clearCanvas(),!this.data||!this.rescaleEvent||!this.referenceSystem)return;const{xScale:e,yScale:n,xBounds:s}=this.rescaleEvent,o=K3(this.fontSizeFactor,this.minFontSize,this.maxFontSize,e);if(!t||this.callouts.length<=0){const{data:l,ctx:h,groupFilter:f}=this,{calculateDisplacementFromBottom:d}=this.referenceSystem.options,p=d?s[0]<s[1]:s[0]>s[1],g=0;h!=null&&(h.font=`bold ${o}px arial`);const v=l.filter(x=>f.length<=0||f.includes(x.group)),_=K3(this.offsetFactor,this.offsetMin,this.offsetMax,e);this.callouts=this.positionCallouts(v,p,e,n,g,o,_)}this.callouts.forEach(l=>{const{pos:h,title:f,color:d}=l,p=e(h.x),g=n(h.y),v={x:p,y:g,width:l.boundingBox.width,height:o,offsetX:l.dx,offsetY:l.dy};this.renderCallout(f,l.label,v,d,l.alignment)})})}renderBackground(t,e,n,s,o){const{ctx:l}=this;if(l==null)return;const h=this.backgroundPadding,f=this.backgroundBorderRadius,d=this.measureTextWidth(t,o,"arial","bold"),p=this.measureTextWidth(e,o),g=Math.max(d,p)+h*2,v=(o+h)*2,_=n-h,x=s-2*o-h;if(l.fillStyle=this.backgroundColor,f>0){const b=_+g,E=x+v;l.beginPath(),l.moveTo(_+f,x),l.lineTo(b-f,x),l.quadraticCurveTo(b,x,b,x+f),l.lineTo(b,E-f),l.quadraticCurveTo(b,E,b-f,E),l.lineTo(_+f,E),l.quadraticCurveTo(_,E,_,E-f),l.lineTo(_,x+f),l.quadraticCurveTo(_,x,_+f,x),l.fill()}else l.fillRect(_,x,g,v)}renderText(t,e,n,s,o,l="arial",h="normal"){const{ctx:f}=this;f!=null&&(f.font=`${h} ${s}px ${l}`,f.fillStyle=this.fontColor||o,f.fillText(t,e,n))}measureTextWidth(t,e,n="arial",s="normal"){const{ctx:o}=this;return o==null?0:(o.font=`${s} ${e}px ${n}`,o.measureText(t).width)}renderPoint(t,e,n,s=3){const{ctx:o}=this;o!=null&&(o.fillStyle=n,o.beginPath(),o.moveTo(t,e),o.arc(t,e,s,0,Math.PI*2),o.fill())}renderCallout(t,e,n,s,o){const l=this.getPosition(n,o),{x:h,y:f}=l,{height:d,width:p,x:g,y:v}=n,_=o===Gi.topright||o===Gi.bottomright;this.backgroundActive&&this.renderBackground(t,e,h,f,d),this.renderAnnotation(t,e,h,f,d,s),this.renderPoint(g,v,s),this.renderLine(h,f,p,g,v,s,_)}getPosition(t,e){const{x:n,y:s,offsetX:o=0,offsetY:l=0,width:h}=t;switch(e){case Gi.topleft:return{x:n-h-o,y:s-l};case Gi.topright:return{x:n+o,y:s-l};case Gi.bottomleft:return{x:n-h-o,y:s+l};case Gi.bottomright:return{x:n+o,y:s+l};default:return{x:n,y:s}}}positionCallouts(t,e,n,s,o,l,h=20){if(t.length===0)return[];const f=e?Gi.topleft:Gi.topright,d=t.map(v=>{var _;const x=v.pos?v.pos:(_=this.referenceSystem)==null?void 0:_.project(v.md);return{title:v.title,label:v.label,color:v.color,pos:{x:x?.[0],y:x?.[1]},group:v.group,alignment:f,boundingBox:this.getAnnotationBoundingBox(v.title,v.label,x,n,s,l),dx:h,dy:h}}),p=[d[d.length-1]],g=[];return this.chooseTopOrBottomPosition(d,g,p),this.adjustTopPositions(p),this.adjustBottomPositions(g),d}getAnnotationBoundingBox(t,e,n,s,o,l){const{ctx:h}=this,f=s(n[0]),d=o(n[1]),p=h?.measureText(e).width??0,g=h?.measureText(t).width??0,v=Math.max(p,g);return{x:f,y:d,width:v,height:l*2+4}}chooseTopOrBottomPosition(t,e,n){for(let s=t.length-2;s>=0;--s){const o=t[s],l=n[0];aD(o.boundingBox,l.boundingBox)?(o.alignment=o.alignment===Gi.topleft?Gi.bottomright:Gi.bottomleft,e.push(o),s>0&&n.unshift(t[--s])):n.unshift(o)}}adjustTopPositions(t){for(let e=t.length-2;e>=0;--e){const n=t[e];for(let s=t.length-1;s>e;--s){const o=t[s],l=Q3(n.boundingBox,o.boundingBox);l&&(n.dy+=l.dy,n.boundingBox.y-=l.dy)}}}adjustBottomPositions(t){for(let e=t.length-2;e>=0;--e){const n=t[e];for(let s=t.length-1;s>e;--s){const o=t[s],l=Q3(o.boundingBox,n.boundingBox);l&&(n.dy+=l.dy,n.boundingBox.y+=l.dy)}}}}function fs(i){const t=Ur(i);if(t!=null){const e=t?.formatHex();return parseInt(e.replace("#","0x"))}else throw Error(`Could not format string ${i} to hex code.`)}z6().domain([0,100]).range(RS(_l("#e6f1cf","#85906d"),10));const w5="lightgray",C5="gray",M5=.25,R5=.75,vD={minorColor:w5,majorColor:C5,minorWidth:M5,majorWidth:R5};class Bh extends E5{constructor(t,e){super(t,e),this._offsetX=0,this._offsetY=0,this.options={...this.options,...e||vD},this.render=this.render.bind(this)}onUpdate(t){super.onUpdate(t),this.render(t)}onRescale(t){super.onRescale(t),this.render(t)}render(t){const{ctx:e}=this,{minorWidth:n,minorColor:s,majorWidth:o,majorColor:l}=this.options;if(!e||(this.clearCanvas(),!(t.xScale||t.yScale)))return;const h=t.xScale.copy(),f=t.yScale.copy(),d=h.domain(),p=f.domain(),g=this.offsetX,v=this.offsetY;h.domain([d[0]-g,d[1]-g]),f.domain([p[0]-v,p[1]-v]);const[_,x]=h.range(),[b,E]=f.range();e.lineWidth=n||M5,e.strokeStyle=s||w5;const A=this.mapMinorTicks(h.ticks()),I=this.mapMinorTicks(f.ticks());this.renderTicksX(h,A,b,E),this.renderTicksY(f,I,_,x),e.lineWidth=o||R5,e.strokeStyle=l||C5,this.renderTicksX(h,h.ticks(),b,E),this.renderTicksY(f,f.ticks(),_,x),e.restore()}renderTicksX(t,e,n,s){e.forEach(o=>{const l=t(o);this.ctx!=null&&(this.ctx.beginPath(),this.ctx.moveTo(l,n),this.ctx.lineTo(l,s),this.ctx.stroke())})}renderTicksY(t,e,n,s){e.forEach(o=>{const l=t(o);this.ctx!=null&&(this.ctx.beginPath(),this.ctx.moveTo(n,l),this.ctx.lineTo(s,l),this.ctx.stroke())})}mapMinorTicks(t){let e=[];return t.length>=2&&(e=t.map(n=>n+(t[1]-t[0])/2),e.pop()),e}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t}}const _D={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},D5=class Dr{constructor(t,e={}){this.cursor=new Lt,this.scale=1,this.graphics=t,e={..._D,...e},this.dash=e.dash,this.dashSize=this.dash.reduce((n,s)=>n+s),this.useTexture=e.useTexture,this.options=e,this.setLineStyle()}setLineStyle(){const t=this.options;if(this.useTexture){const e=Dr.getTexture(t,this.dashSize);this.graphics.lineTextureStyle({width:t.width*t.scale,color:t.color,alpha:t.alpha,texture:e,alignment:t.alignment})}else this.graphics.lineStyle({width:t.width*t.scale,color:t.color,alpha:t.alpha,cap:t.cap,join:t.join,alignment:t.alignment});this.scale=t.scale}static distance(t,e,n,s){return Math.sqrt(Math.pow(n-t,2)+Math.pow(s-e,2))}moveTo(t,e){return this.lineLength=0,this.cursor.set(t,e),this.start=new Lt(t,e),this.graphics.moveTo(this.cursor.x,this.cursor.y),this}lineTo(t,e,n){typeof this.lineLength===void 0&&this.moveTo(0,0);const s=Dr.distance(this.cursor.x,this.cursor.y,t,e),o=Math.atan2(e-this.cursor.y,t-this.cursor.x),l=n&&t===this.start.x&&e===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(o),l&&this.dash.length%2===0){const h=Math.min(this.dash[this.dash.length-1],s);this.graphics.lineTo(t-Math.cos(o)*h,e-Math.sin(o)*h),this.graphics.closePath()}else this.graphics.lineTo(t,e);else{const h=Math.cos(o),f=Math.sin(o);let d=this.cursor.x,p=this.cursor.y;const g=this.lineLength%(this.dashSize*this.scale);let v=0,_=0,x=0;for(let E=0;E<this.dash.length;E++){const A=this.dash[E]*this.scale;if(g<x+A){v=E,_=g-x;break}else x+=A}let b=s;for(;b>0;){const E=this.dash[v]*this.scale-_,A=b>E?E:b;if(l&&Dr.distance(d+h*A,p+f*A,this.start.x,this.start.y)<=A){if(v%2===0){const I=Dr.distance(d,p,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;d+=h*I,p+=f*I,this.graphics.lineTo(d,p)}break}d+=h*A,p+=f*A,v%2?this.graphics.moveTo(d,p):this.graphics.lineTo(d,p),b-=A,v++,v=v===this.dash.length?0:v,_=0}}return this.lineLength+=s,this.cursor.set(t,e),this}closePath(){this.lineTo(this.start.x,this.start.y,!0)}drawCircle(t,e,n,s=80,o){const l=Math.PI*2/s;let h=0,f;o?(f=new Lt(t+Math.cos(h)*n,e+Math.sin(h)*n),o.apply(f,f),this.moveTo(f[0],f[1])):(f=new Lt(t+Math.cos(h)*n,e+Math.sin(h)*n),this.moveTo(f.x,f.y)),h+=l;for(let d=1;d<s+1;d++){const p=d===s?f:[t+Math.cos(h)*n,e+Math.sin(h)*n];this.lineTo(p[0],p[1]),h+=l}return this}drawEllipse(t,e,n,s,o=80,l){const h=Math.PI*2/o;let f;const d=new Lt;for(let p=0;p<Math.PI*2;p+=h){let g=t-n*Math.sin(p),v=e-s*Math.cos(p);l&&(d.set(g,v),l.apply(d,d),g=d.x,v=d.y),p===0?(this.moveTo(g,v),f={x:g,y:v}):this.lineTo(g,v)}return this.lineTo(f.x,f.y,!0),this}drawPolygon(t,e){const n=new Lt;if(typeof t[0]=="number")if(e){n.set(t[0],t[1]),e.apply(n,n),this.moveTo(n.x,n.y);for(let s=2;s<t.length;s+=2)n.set(t[s],t[s+1]),e.apply(n,n),this.lineTo(n.x,n.y,s===t.length-2)}else{this.moveTo(t[0],t[1]);for(let s=2;s<t.length;s+=2)this.lineTo(t[s],t[s+1],s===t.length-2)}else if(e){const s=t[0];n.copyFrom(s),e.apply(n,n),this.moveTo(n.x,n.y);for(let o=1;o<t.length;o++){const l=t[o];n.copyFrom(l),e.apply(n,n),this.lineTo(n.x,n.y,o===t.length-1)}}else{const s=t[0];this.moveTo(s.x,s.y);for(let o=1;o<t.length;o++){const l=t[o];this.lineTo(l.x,l.y,o===t.length-1)}}return this}drawRect(t,e,n,s,o){if(o){const l=new Lt;l.set(t,e),o.apply(l,l),this.moveTo(l.x,l.y),l.set(t+n,e),o.apply(l,l),this.lineTo(l.x,l.y),l.set(t+n,e+s),o.apply(l,l),this.lineTo(l.x,l.y),l.set(t,e+s),o.apply(l,l),this.lineTo(l.x,l.y),l.set(t,e),o.apply(l,l),this.lineTo(l.x,l.y,!0)}else this.moveTo(t,e).lineTo(t+n,e).lineTo(t+n,e+s).lineTo(t,e+s).lineTo(t,e,!0);return this}adjustLineStyle(t){const e=this.graphics.line;e.matrix=new re,t&&e.matrix.rotate(t),this.scale!==1&&e.matrix.scale(this.scale,this.scale);const n=-this.lineLength;e.matrix.translate(this.cursor.x+n*Math.cos(t),this.cursor.y+n*Math.sin(t)),this.graphics.lineStyle(e)}static getTexture(t,e){const n=t.dash.toString();if(Dr.dashTextureCache[n])return Dr.dashTextureCache[n];const s=document.createElement("canvas");s.width=e,s.height=Math.ceil(t.width);const o=s.getContext("2d");if(!o){console.warn("Did not get context from canvas");return}o.strokeStyle="white",o.globalAlpha=t.alpha,o.lineWidth=t.width;let l=0;const h=t.width/2;o.moveTo(l,h);for(let d=0;d<t.dash.length;d+=2)l+=t.dash[d],o.lineTo(l,h),t.dash.length!==d+1&&(l+=t.dash[d+1],o.moveTo(l,h));o.stroke();const f=Dr.dashTextureCache[n]=pt.from(s);return f.baseTexture.scaleMode=fn.NEAREST,f}};D5.dashTextureCache={};let xD=D5;const S1=i=>new ti(i.x,i.y),bD=i=>new Lt(i[0],i[1]),O5=i=>{if(i.length<2)return[new ti(0)];let t;return i.map((e,n,s)=>{const o=s[n],l=s[n+1];if(n<s.length-1&&o!=null&&l!=null){const h=S1(o);return t=S1(l).sub(h).rotate90().normalized(),t}return t})},B5=(i,t,e)=>{const n=S1(i);return bD(n.add(t.scale(e)))},w1=(i,t,e)=>{if(i.length!==t.length)throw new Error("Number of vectors does not match number of points");return i.map((n,s)=>{const o=t[s];if(o!=null)return B5(n,o,e);throw new Error(`Trying to read index ${s} of point ${n}, but no such vector was found!`)})},J3=(i,t,e,n)=>i<=n&&e<=t,TD=(i,t,e,n)=>i<n&&e<t,ED=i=>Array.from(new Set(i)),Ac=(i,t,e,n)=>{const s=n.filter(l=>J3(i,t,l.start,l.end)),o=e.filter(l=>J3(i,t,l.start,l.end));return{overlappingHoles:s,overlappingOuterStrings:o}},Sc=([i,t],e)=>{const n=e.flatMap(s=>[s.start-1e-4,s.start,s.end,s.end+1e-4]).filter(s=>s>=i&&s<=t);return n.push(i),n.push(t),ED(n).sort((s,o)=>s-o)},di=i=>i.kind==="casing"?i.innerDiameter:i.diameter,I5=(i,t,e,n)=>{const s=i.find(f=>f.start<=n&&f.end>=n),o=s?s.diameter:0,l=t.filter(f=>di(f)>o).sort((f,d)=>di(f)-di(d)).find(f=>f.start<=n&&f.end>=n),h=e.find(f=>f.start<=n&&f.end>=n&&f.diameter>o);return l?di(l):h?h.diameter:100},AD=(i,t,e,n)=>{const s=i.sort((l,h)=>h.diameter-l.diameter).find(l=>l.start<=e&&l.end>=e),o=t.find(l=>l.start<=e&&l.end>=e);return s&&n!=="Open hole frac pack"&&n!=="Open hole gravel pack"?di(s):o?o.diameter:100},SD=(i,t,e,n)=>{const s=i.sort((f,d)=>di(f)-di(d)).find(f=>f.start<=n&&f.end>=n);if(s)return di(s);const o=i.length?Math.min(...i.map(f=>di(f))):0,l=t.sort((f,d)=>di(f)-di(d)).find(f=>f.start<=n&&f.end>=n&&o<=di(f));if(l)return di(l);const h=e.find(f=>f.start<=n&&f.end>=n&&f.diameter);return h?h.diameter:100},wD=(i,t,e,n,s,o)=>{const{attachedStrings:l,nonAttachedStrings:h}=im(i.referenceIds,t,e);if(l.length===0)throw new Error(`Invalid cement data, can't find referenced casing/completion string for cement with id '${i.id}'`);l.sort((v,_)=>v.end-_.end);const f=l[l.length-1].end,{overlappingOuterStrings:d,overlappingHoles:p}=Ac(i.toc,f,h,n),g=[...d,...p].map(v=>({start:v.start,end:v.end}));return Sc([i.toc,f],g).flatMap((v,_,x)=>{if(_===x.length-1)return[];const b=x[_+1],E=I5(l,d,p,v);return[{top:v,bottom:b,diameter:E*s}]}).map(v=>({diameter:v.diameter,points:o(v.top,v.bottom)}))},im=(i,t,e)=>[...t,...e].reduce((n,s)=>i.includes(s.id)?{...n,attachedStrings:[...n.attachedStrings,s]}:{...n,nonAttachedStrings:[...n.nonAttachedStrings,s]},{attachedStrings:[],nonAttachedStrings:[]}),CD=(i,t,e,n,s,o)=>{const{attachedStrings:l,nonAttachedStrings:h}=im(i.referenceIds,t,e);if(l.length===0)throw new Error(`Invalid cement squeeze data, can't find referenced casing/completion for squeeze with id '${i.id}'`);const{overlappingOuterStrings:f,overlappingHoles:d}=Ac(i.start,i.end,h,n),p=[...f,...d].map(g=>({start:g.start,end:g.end}));return Sc([i.start,i.end],p).flatMap((g,v,_)=>{if(v===_.length-1)return[];const x=_[v+1],b=I5(l,f,d,g);return[{top:g,bottom:x,diameter:b*s}]}).map(g=>({diameter:g.diameter,points:o(g.top,g.bottom)}))},MD=(i,t,e,n,s,o)=>{const{attachedStrings:l,nonAttachedStrings:h}=im(i.referenceIds,t,e),{overlappingHoles:f,overlappingOuterStrings:d}=Ac(i.start,i.end,h,n),p=[...l,...f,...d].map(g=>({start:g.start,end:g.end}));return Sc([i.start,i.end],p).flatMap((g,v,_)=>{if(v===_.length-1)return[];const x=_[v+1],b=SD(l,d,f,g);return[{top:g,bottom:x,diameter:b*s}]}).map(g=>({diameter:g.diameter,points:o(g.top,g.bottom)}))},RD=(i,t,e,n,s)=>{const o=t.createLinearGradient(0,0,0,i.height);return o.addColorStop(0,e),o.addColorStop(.5-s,n),o.addColorStop(.5+s,n),o.addColorStop(1,e),o},DD=({firstColor:i,secondColor:t},e,n)=>{const s=document.createElement("canvas");s.width=e,s.height=n;const o=s.getContext("2d");if(o==null)throw Error("Could not get canvas context!");return o.fillStyle=RD(s,o,i,t,0),o.fillRect(0,0,s.width,s.height),pt.from(s)},OD=({scalingFactor:i})=>{const t=document.createElement("canvas"),e=Fr*i;t.width=e,t.height=e;const n=t.getContext("2d");if(n==null)throw Error("Could not get canvas context!");n.fillStyle="white",n.fillRect(0,0,t.width,t.height);const s=e/10;n.strokeStyle="#AAAAAA",n.lineWidth=s,n.beginPath();const o=e/3;for(let l=-t.width;l<t.width;l++)n.moveTo(-t.width+o*l,-t.height),n.lineTo(t.width+o*l,t.height*2);return n.stroke(),pt.from(t)},BD=({innerColor:i,outerColor:t,scalingFactor:e})=>{const n=Fr*e,s=document.createElement("canvas");s.width=n,s.height=n;const o=s.getContext("2d");if(o==null)throw Error("Could not get canvas context!");const l=o.createLinearGradient(0,0,0,n);return l.addColorStop(0,t),l.addColorStop(.3,i),l.addColorStop(.7,i),l.addColorStop(1,t),o.fillStyle=l,o.fillRect(0,0,s.width,s.height),pt.from(s)},ID=({firstColor:i,secondColor:t,scalingFactor:e})=>{const n=document.createElement("canvas"),s=Fr*e,o=e;n.width=s,n.height=s;const l=n.getContext("2d");if(l==null)throw Error("Could not get canvas context!");l.fillStyle=i,l.fillRect(0,0,n.width,n.height),l.lineWidth=o,l.fillStyle=t,l.beginPath();const h=s/12;for(let f=-n.width;f<n.width;f++)l.moveTo(-n.width+h*f,-n.height),l.lineTo(n.width+h*f,n.height);return l.stroke(),pt.from(n)},ND=({firstColor:i,secondColor:t,scalingFactor:e})=>{const n=document.createElement("canvas"),s=Fr*e;n.width=s,n.height=s;const o=n.getContext("2d");if(o==null)throw Error("Could not get canvas context!");o.fillStyle=i,o.fillRect(0,0,n.width,n.height),o.lineWidth=e,o.strokeStyle=t,o.beginPath(),o.setLineDash([20,10]);const l=s/12;for(let h=-n.width;h<n.width;h++)o.moveTo(-n.width+l*h,-n.height),o.lineTo(n.width+l*h,n.height*2);return o.stroke(),pt.from(n)},PD=({firstColor:i,secondColor:t,scalingFactor:e})=>{const n=document.createElement("canvas"),s=Fr*e,o=e;n.width=s,n.height=s;const l=n.getContext("2d");if(l==null)throw Error("Could not get canvas context!");l.lineWidth=o,l.fillStyle=i,l.strokeStyle=t,l.fillRect(0,0,n.width,n.height),l.beginPath(),l.setLineDash([20,10]);const h=s/12;for(let f=-n.width;f<n.width;f++)l.moveTo(-n.width+h*f,-n.height),l.lineTo(n.width+h*f,n.height*2);return l.stroke(),pt.from(n)},Ih=(i,t)=>{const e=O5(t),n=w1(t,e,i);return{leftPath:w1(t,e,-i),rightPath:n}},Ep=(i,t)=>({kind:"casing",start:i,end:t}),LD=(i,t)=>({kind:"casing-window",start:i,end:t}),UD=i=>{const t=(i.windows||[]).filter(e=>TD(i.start,i.end,e.start,e.end)).reduce(({intervals:e,lastBottom:n},s,o,l)=>{const h=n<s.start?Ep(n,s.start):null,f=h?h.end:n,d=Math.max(f,s.start),p=Math.min(i.end,s.end),g=LD(d,p),v=p,_=o===l.length-1&&v<i.end?Ep(v,i.end):null,x=[h,g,_].filter(b=>b!=null);return{intervals:[...e,...x],lastBottom:v}},{intervals:[],lastBottom:i.start});return t.intervals.length?t.intervals:[Ep(i.start,i.end)]},FD=(i,t,e)=>{const n=t.diameter*i,s=n/2,o=t.innerDiameter*i/2,l=s-o,h=UD(t).map(f=>{const d=e(f.start,f.end),{leftPath:p,rightPath:g}=Ih(s,d);return{kind:f.kind,leftPath:p,rightPath:g,pathPoints:d}});return{kind:"casing",id:t.id,referenceDiameter:n,referenceRadius:s,sections:h,casingWallWidth:l,hasShoe:t.hasShoe,bottom:t.end}},kD=(i,t,e,n,s)=>{const{overlappingOuterStrings:o,overlappingHoles:l}=Ac(i.start,i.end,t,e),h=[...o,...l].map(f=>({start:f.start,end:f.end}));return Sc([i.start,i.end],h).flatMap((f,d,p)=>{if(d===p.length-1)return[];const g=p[d+1],v=AD(o,l,f,i.subKind);return[{top:f,bottom:g,diameter:v*n}]}).map(f=>{const d=s(f.top,f.bottom);return{diameter:f.diameter,points:d}})},wc=(i,t,e)=>{const{packingOpacity:n,yellow:s}=e;t.fillStyle=s,t.strokeStyle=s;const o=[0,0],l=[i.width,i.height];t.save(),t.globalAlpha=n,t.fillRect(...o,...l),t.restore()},nm=(i,t,e,n,s)=>{const{fracLineCurve:o}=n,l=10,h=i.width/l,f=e/3*n.scalingFactor,d=f/4,p=f/2,g=0,v=s==="diameter"?0:p;t.globalAlpha=n.packingOpacity;const _=()=>{for(let x=-1;x<l;x++){const b=[x*h+g+h/2,i.height/2-d-v-d];t.beginPath();const E=[...b],A=[b[0]-o*2,b[1]-d/4],I=[b[0],b[1]-d/2],C=[b[0]+o*2,b[1]-d/2-d/4],N=[b[0],b[1]-d];t.bezierCurveTo(...E,...A,...I),t.bezierCurveTo(...I,...C,...N),t.stroke()}for(let x=-1;x<l;x++){const b=[x*h+h+g+h/2,i.height/2+f/2+v];t.beginPath();const E=[...b],A=[b[0]-o*2,b[1]+d/4],I=[b[0],b[1]+d/2],C=[b[0]+o*2,b[1]+d/2+d/4],N=[b[0],b[1]+d];t.bezierCurveTo(...E,...A,...I),t.bezierCurveTo(...I,...C,...N),t.stroke()}};t.strokeStyle=n.yellow,t.lineWidth=6,t.save(),_(),t.restore(),t.lineWidth=1,t.strokeStyle=n.outline,_(),t.closePath()},zD=(i,t,e,n)=>{const s=i.width/4;t.strokeStyle=n.outline;const o=e/3*n.scalingFactor;t.lineWidth=1;const l=o/2;for(let h=0;h<=4;h++){const f=[h*s,i.height/2-o/2],d=[f[0]-s/2,f[1]-l],p=[f[0]-s,f[1]];t.beginPath(),t.moveTo(...f),t.lineTo(...d),t.lineTo(...p),t.fill(),t.lineWidth=1,t.stroke()}for(let h=0;h<=4;h++){const f=[h*s,i.height/2+o/2],d=[f[0]-s/2,f[1]+l],p=[f[0]-s,f[1]];t.beginPath(),t.moveTo(...f),t.lineTo(...d),t.lineTo(...p),t.fill(),t.lineWidth=1,t.stroke()}t.closePath()},yn=(i="Error!",t)=>{console.error(`${i}`);const e=document.createElement("canvas"),n=Fr;e.width=n/2,e.height=n;const s=e.getContext("2d"),o=[0,0],l=[e.width,e.height];if(s==null)throw Error("Could not get canvas context!");return s.fillStyle="#ff00ff",s.fillRect(...o,...l),new pt(pt.from(e,{wrapMode:mi.CLAMP}).baseTexture,void 0,new Ot(0,0,e.width,e.height),void 0,ne.MIRROR_HORIZONTAL)},kr=(i,t)=>{const e=document.createElement("canvas"),n=i.diameter*t.scalingFactor;e.width=n/2,e.height=n;const s=e.getContext("2d");if(s==null)throw Error("Could not get canvas context!");return{canvas:e,ctx:s}},zr=i=>new pt(pt.from(i,{wrapMode:mi.CLAMP}).baseTexture,void 0,new Ot(0,0,i.width,i.height),void 0,ne.MIRROR_HORIZONTAL),GD=(i,t)=>e=>t.some(n=>e(n)&&WR(i,n)),rm={packing:()=>yn(),fracLines:()=>yn(),spikes:(i,t,e,n)=>{const{canvas:s,ctx:o}=kr(t,n),l=GD(i,e),h=l(YR),f=l($R),d=l(qR),p=h||f||d?n.yellow:n.red;return o.globalAlpha=n.packingOpacity,i.isOpen?(o.fillStyle=p,o.strokeStyle=p):(o.fillStyle=n.grey,o.strokeStyle=n.grey),zD(s,o,t.diameter,n),d&&nm(s,o,t.diameter,n,"spike"),zr(s)}},N5={packing:()=>yn(),fracLines:(i,t)=>{const{canvas:e,ctx:n}=kr(i,t);return nm(e,n,i.diameter,t,"diameter"),zr(e)},spikes:()=>yn()},oc={packing:(i,t)=>{const{canvas:e,ctx:n}=kr(i,t);return wc(e,n,t),zr(e)},fracLines:(i,t)=>{const{canvas:e}=kr(i,t);return zr(e)},spikes:()=>yn()},sm={packing:(i,t)=>{const{canvas:e,ctx:n}=kr(i,t);return wc(e,n,t),zr(e)},fracLines:()=>yn(),spikes:()=>yn()},am={packing:(i,t)=>{const{canvas:e,ctx:n}=kr(i,t);return wc(e,n,t),zr(e)},fracLines:()=>yn(),spikes:()=>yn()},om={packing:(i,t,e)=>{const{canvas:n,ctx:s}=kr(t,e);return wc(n,s,e),zr(n)},fracLines:(i,t)=>{const{canvas:e,ctx:n}=kr(i,t);return nm(e,n,i.diameter,t,"diameter"),zr(e)},spikes:()=>yn()},HD=(i,t,e)=>Hr({Perforation:()=>rm.packing(),CasedHoleFracturation:()=>oc.packing(t,e),CasedHoleFracPack:()=>oc.packing(t,e),OpenHoleGravelPack:()=>am.packing(t,e),OpenHoleFracPack:()=>om.packing(i,t,e),CasedHoleGravelPack:()=>sm.packing(t,e)},i.subKind),jD=(i,t,e)=>Hr({Perforation:()=>rm.fracLines(),OpenHoleGravelPack:()=>am.fracLines(),OpenHoleFracPack:()=>om.fracLines(t,e),CasedHoleFracturation:()=>N5.fracLines(t,e),CasedHoleGravelPack:()=>sm.fracLines(),CasedHoleFracPack:()=>oc.fracLines(t,e)},i.subKind),XD=(i,t,e,n)=>Hr({Perforation:()=>rm.spikes(i,e,t,n),OpenHoleGravelPack:()=>am.spikes(),OpenHoleFracPack:()=>om.spikes(),CasedHoleFracturation:()=>N5.spikes(),CasedHoleGravelPack:()=>sm.spikes(),CasedHoleFracPack:()=>oc.spikes()},i.subKind);class VD extends Al{constructor(t){const e=mp(t,n=>n.points.length);super(new Float32Array(e*4),new Float32Array(e*4),new Uint16Array((e-1)*6)),this.segments=t,this.build()}get width(){return c1(this.segments,t=>t.diameter)}build(){var t,e,n,s,o,l,h,f;const d=this.segments;if(!d)return;const p=this.getBuffer("aVertexPosition"),g=this.getBuffer("aTextureCoord"),v=this.getIndex(),_=mp(d,F=>F.points.length);if(_<1)return;p.data.length/4!==_&&(p.data=new Float32Array(_*4),g.data=new Float32Array(_*4),v.data=new Uint16Array((_-1)*6));const x=g.data,b=v.data;x[0]=0,x[1]=0,x[2]=0,x[3]=1;const E=d.length,A=c1(d,F=>F.diameter);let I=0,C=0,N=0,R=0;for(let F=0;F<E;F++){let D=(t=d[F])==null?void 0:t.points[0];const X=A,J=((e=d[F])==null?void 0:e.diameter)/A/2,rt=(n=d[F])==null?void 0:n.points.length;for(let q=0;q<rt;q++){const H=D.x-((o=(s=d[F])==null?void 0:s.points[q])==null?void 0:o.x),W=D.y-((h=(l=d[F])==null?void 0:l.points[q])==null?void 0:h.y),L=Math.sqrt(H*H+W*W);D=(f=d[F])==null?void 0:f.points[q],I+=L/X,x[C]=I,x[C+1]=.5-J,x[C+2]=I,x[C+3]=.5+J,C+=4}for(let q=0;q<rt-1;q++)b[R++]=N,b[R++]=N+1,b[R++]=N+2,b[R++]=N+2,b[R++]=N+1,b[R++]=N+3,N+=2;N+=2}g.update(),v.update(),this.updateVertices()}updateVertices(){var t,e,n,s,o,l,h,f;const d=this.segments;if(mp(d,v=>v.points.length)<1)return;const p=d.length;let g=0;for(let v=0;v<p;v++){let _=(t=d[v])==null?void 0:t.points[0],x,b=0,E=0;const A=(e=this.buffers[0])==null?void 0:e.data,I=(n=d[v])==null?void 0:n.points.length;let C=0;for(let N=0;N<I;N++){const R=(s=d[v])==null?void 0:s.points[N];C=g+N*4,N<((o=d[v])==null?void 0:o.points.length)-1?x=(l=d[v])==null?void 0:l.points[N+1]:x=R,E=-(x.x-_.x),b=x.y-_.y;const F=Math.sqrt(b*b+E*E),D=((h=d[v])==null?void 0:h.diameter)/2;b/=F,E/=F,b*=D,E*=D,A!=null&&(A[C]=R.x+b,A[C+1]=R.y+E,A[C+2]=R.x-b,A[C+3]=R.y-E),_=R}g=C+4}(f=this.buffers[0])==null||f.update()}update(){this.build()}}class YD extends za{constructor(t,e){const n=new VD(e),s=new Ga(t);t.baseTexture.wrapMode=mi.REPEAT,super(n,s),this.autoUpdate=!0}_render(t){const e=this.geometry;this.autoUpdate&&e.update(),super._render(t)}}class qD extends Al{constructor(t,e=200){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.build()}get width(){return this._width}build(){var t,e;const n=this.points;if(!n)return;const s=this.getBuffer("aVertexPosition"),o=this.getBuffer("aTextureCoord"),l=this.getIndex();if(n.length<1)return;s.data.length/4!==n.length&&(s.data=new Float32Array(n.length*4),o.data=new Float32Array(n.length*4),l.data=new Uint16Array((n.length-1)*6));const h=o.data,f=l.data;h[0]=0,h[1]=0,h[2]=0,h[3]=1;let d=0,p=n[0];const g=n.length;for(let _=0;_<g;_++){const x=_*4,b=p.x-((t=n[_])==null?void 0:t.x),E=p.y-((e=n[_])==null?void 0:e.y),A=Math.sqrt(b*b+E*E);p=n[_],d+=A/this._width,h[x]=d,h[x+1]=0,h[x+2]=d,h[x+3]=1}let v=0;for(let _=0;_<g-1;_++){const x=_*2;f[v++]=x,f[v++]=x+1,f[v++]=x+2,f[v++]=x+2,f[v++]=x+1,f[v++]=x+3}o.update(),l.update(),this.updateVertices()}updateVertices(){var t,e;const n=this.points;if(n.length<1)return;let s=n[0],o,l=0,h=0;const f=(t=this.buffers[0])==null?void 0:t.data,d=n.length;for(let p=0;p<d;p++){const g=n[p],v=p*4;p<n.length-1?o=n[p+1]:o=g,h=-(o.x-s.x),l=o.y-s.y;const _=Math.sqrt(l*l+h*h),x=this._width/2;l/=_,h/=_,l*=x,h*=x,f[v]=g.x+l,f[v+1]=g.y+h,f[v+2]=g.x-l,f[v+3]=g.y-h,s=g}(e=this.buffers[0])==null||e.update()}update(){this.build()}}class $D extends za{constructor(t,e,n){const s=new qD(e,n),o=new Ga(t);t.baseTexture.wrapMode=mi.REPEAT,super(s,o),this.autoUpdate=!0}_render(t){const e=this.geometry;this.autoUpdate&&e.update(),super._render(t)}}class WD extends Al{constructor(t,e=200){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.build()}build(){var t,e,n,s;const o=this.points;if(!o)return;const l=this.getBuffer("aVertexPosition"),h=this.getBuffer("aTextureCoord"),f=this.getIndex();if(o.length<1)return;l.data.length/4!==o.length&&(l.data=new Float32Array(o.length*4),h.data=new Float32Array(o.length*4),f.data=new Uint16Array((o.length-1)*6));const d=o.length;let p=0,g=o[0];for(let A=0;A<d;A++){const I=g.x-((t=o[A])==null?void 0:t.x),C=g.y-((e=o[A])==null?void 0:e.y),N=Math.sqrt(I*I+C*C);g=o[A],p+=N}const v=h.data,_=f.data;v[0]=0,v[1]=0,v[2]=0,v[3]=1;let x=0,b=o[0];for(let A=0;A<d;A++){const I=A*4,C=b.x-((n=o[A])==null?void 0:n.x),N=b.y-((s=o[A])==null?void 0:s.y),R=Math.sqrt(C*C+N*N);b=o[A],x+=R/p,v[I]=x,v[I+1]=0,v[I+2]=x,v[I+3]=1}let E=0;for(let A=0;A<d-1;A++){const I=A*2;_[E++]=I,_[E++]=I+1,_[E++]=I+2,_[E++]=I+2,_[E++]=I+1,_[E++]=I+3}h.update(),f.update(),this.updateVertices()}updateVertices(){var t,e;const n=this.points;if(n.length<1)return;let s=n[0],o,l=0,h=0;const f=(t=this.buffers[0])==null?void 0:t.data,d=n.length;for(let p=0;p<d;p++){const g=n[p],v=p*4;p<n.length-1?o=n[p+1]:o=g,h=-(o.x-s.x),l=o.y-s.y;const _=Math.sqrt(l*l+h*h),x=this._width/2;l/=_,h/=_,l*=x,h*=x,f[v]=g.x+l,f[v+1]=g.y+h,f[v+2]=g.x-l,f[v+3]=g.y-h,s=g}(e=this.buffers[0])==null||e.update()}update(){this.updateVertices()}}class ZD extends za{constructor(t,e){const n=new WD(e,t.height),s=new Ga(t);super(n,s),this.autoUpdate=!0}_render(t){const e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),super._render(t)}}const KD=(i,t,e)=>n=>{switch(n.kind){case"casing":return i(n);case"cement":return t(n);case"cementSqueeze":return e(n);default:return em(n)}},QD=i=>({exaggerationFactor:2,internalLayerOptions:ZR(i),holeOptions:KR,casingOptions:QR,cementOptions:tD,cementSqueezeOptions:eD,screenOptions:iD,tubingOptions:nD,cementPlugOptions:rD,perforationOptions:JR}),P5=class L5 extends FR{constructor(t,e,n){super(t,e,n),this.internalLayerVisibility={holeLayerId:!0,casingLayerId:!0,completionLayerId:!0,cementLayerId:!0,pAndALayerId:!0,perforationLayerId:!0},this.cementTextureCache=null,this.cementSqueezeTextureCache=null,this.cementPlugTextureCache=null,this.holeTextureCache=null,this.screenTextureCache=null,this.tubingTextureCache=null,this.textureSymbolCacheArray=null,this.scalingFactors={height:600,zFactor:1,yScale:ja()},this.getZFactorScaledPathForPoints=(s,o)=>{var l;const h=f=>f*this.scalingFactors.zFactor;return(((l=this.referenceSystem)==null?void 0:l.getCurtainPath(s,o,!0))??[]).map(f=>new Lt(f.point[0],h(f.point[1])))},this.drawBigPolygon=(s,o=0)=>{const l=new ml;l.beginFill(o),l.drawPolygon(s),l.endFill(),this.addChild(l)},this.perforationRopeAndTextureReferences=[],this.prepareSymbolRenderObject=s=>{const{exaggerationFactor:o=1}=this.options,l=s.diameter*o;return{pathPoints:this.getZFactorScaledPathForPoints(s.start,s.end),referenceDiameter:l,symbolKey:s.symbolKey}},this.drawSymbolComponent=({pathPoints:s,referenceDiameter:o,symbolKey:l})=>{const h=this.getSymbolTexture(l,o);this.drawSVGRope(s,h)},this.drawHoleSize=(s,o)=>{if(o==null)return;const l=this.getZFactorScaledPathForPoints(o.start,o.end);if(l.length===0)return;const{exaggerationFactor:h=1,holeOptions:f}=this.options,d=o.diameter*h,{rightPath:p,leftPath:g}=Ih(d/2,l),v=this.getHoleTexture(f,d,s);this.drawHoleRope(l,v,s),this.drawOutline(g,p,fs(f.lineColor),BR*h,"TopAndBottom",0)},this.drawCasing=s=>{const{casingOptions:o}=this.options,l=fs(o.solidColor),h=fs(o.lineColor);s.sections.forEach((f,d,p)=>{const g=L5.getOutlineClosureType(d,p.length-1),v=this.createCasingTexture(s.referenceDiameter);this.drawRope(f.pathPoints,v,l),f.kind==="casing-window"?this.drawCasingWindowOutline(f.leftPath,f.rightPath,o,s.casingWallWidth):this.drawOutline(f.leftPath,f.rightPath,h,s.casingWallWidth,g)})},this.generateShoe=(s,o,l,h)=>{const f=s-l,d=s,p=this.getZFactorScaledPathForPoints(f,d),g=O5(p),v=w1(p,g,o*(h<0?-1:1)),_=p[p.length-1],x=g[g.length-1],b=B5(_,x,h+o*(h<0?-1:1));return[...v,b]},this.createCementSqueezeShape=(s,o,l,h)=>{const{exaggerationFactor:f=1}=this.options;return CD(s,o,l,h,f,this.getZFactorScaledPathForPoints)},this.createPerforationShape=(s,o,l)=>{const{exaggerationFactor:h=1}=this.options;return kD(s,o,l,h,this.getZFactorScaledPathForPoints)},this.options={...this.options,...QD(this.id),...n}}onUnmount(t){super.onUnmount(t),this.cementTextureCache=null,this.cementSqueezeTextureCache=null,this.holeTextureCache=null,this.screenTextureCache=null,this.tubingTextureCache=null,this.textureSymbolCacheArray=null}onUpdate(t){super.onUpdate(t),this.clearLayer(),this.preRender(),this.render()}onRescale(t){const e=this.scalingFactors.zFactor!==t.zFactor;this.scalingFactors={height:t.height,zFactor:t.zFactor,yScale:t.yScale},super.optionsRescale(t);const n=this.yRatio(),s=t.xBounds[0]>t.xBounds[1],o=t.yBounds[0]>t.yBounds[1];this.setContainerPosition(t.xScale(0),t.yScale(0)),this.setContainerScale(t.xRatio*(s?-1:1),n*(o?-1:1)),e&&(this.clearLayer(),this.preRender()),this.render()}setVisibility(t,e){if(e===this.id){super.setVisibility(t,e);return}const{internalLayerOptions:n}=this.options,s=(n?Object.entries(n):[]).find(([l,h])=>h===e),o=s?.[0];o&&(this.internalLayerVisibility[o]=t,this.clearLayer(),this.preRender(),this.render())}getInternalLayerIds(){const{internalLayerOptions:t}=this.options;return t?Object.values(t):[]}yRatio(){const t=this.scalingFactors.yScale.domain(),e=(t[1]-t[0])*this.scalingFactors.zFactor,n=[t[0],t[0]+e];return Math.abs(this.scalingFactors.height/(n[1]-n[0]))}drawRope(t,e,n){if(t.length===0)return;const s=new o3(e,t,1);s.tint=n||s.tint,this.addChild(s)}drawOutline(t,e,n,s=1,o="None",l=1){const h=t.map(g=>g.clone()).reverse(),f=e[0],d=h[0],p=new ml;p.lineStyle(s,n,void 0,l),p.moveTo(f.x,f.y),e.forEach(g=>p.lineTo(g.x,g.y)),(o==="None"||o==="Top")&&p.moveTo(d.x,d.y),h.forEach(g=>p.lineTo(g.x,g.y)),(o==="TopAndBottom"||o==="Top")&&p.lineTo(f.x,f.y),this.addChild(p)}drawCasingWindowOutline(t,e,{lineColor:n,windowOptions:s},o=1){var l,h;const f=!!((h=(l=this.referenceSystem)==null?void 0:l.options)!=null&&h.calculateDisplacementFromBottom),[d,p]=f?[t,e]:[e,t],[g,v]=f?[1,0]:[0,1],_=new ml;_.lineStyle(o,fs(n),void 0,v);const x=d[0];_.moveTo(x.x,x.y),d.forEach(A=>_.lineTo(A.x,A.y));const b=new xD(_,{dash:[s.dashLength,s.spaceLength],color:fs(s.dashColor),width:o,alignment:g}),E=p[0];b.moveTo(E.x,E.y),p.forEach(A=>{b.lineTo(A.x,A.y)}),this.addChild(_)}preRender(){if(!this.data||!this.referenceSystem)return;const{exaggerationFactor:t=1}=this.options,{holeSizes:e,casings:n,cements:s,completion:o,symbols:l,pAndA:h,perforations:f}=this.data;this.updateSymbolCache(l),e.sort((b,E)=>E.diameter-b.diameter);const d=e.length>0?(c1(e,b=>b.diameter)??0)*t:OR*t;this.internalLayerVisibility.holeLayerId&&e.forEach(b=>this.drawHoleSize(d,b)),n.sort((b,E)=>E.diameter-b.diameter);const p=n.map(b=>this.createCasingRenderObject(b)),g=s.map(b=>({kind:"cement",segments:wD(b,n,o,e,t,this.getZFactorScaledPathForPoints),casingIds:(b.referenceIds||[]).filter(E=>E)})),[v,_]=h.reduce(([b,E],A)=>zR(A)?[[A,...b],E]:[b,[A,...E]],[[],[]]),x=v.map(b=>({kind:"cementSqueeze",segments:this.createCementSqueezeShape(b,n,o,e),casingIds:b.referenceIds}));if(this.sortCementAndCasingRenderObjects(p,g,x).forEach(KD(b=>{this.internalLayerVisibility.casingLayerId&&(this.drawCasing(b),b.hasShoe&&this.drawShoe(b.bottom,b.referenceRadius))},b=>{if(this.internalLayerVisibility.cementLayerId){const E=this.getCementTexture();E&&this.drawComplexRope(b.segments,E)}},b=>{if(this.internalLayerVisibility.pAndALayerId){const E=this.getCementSqueezeTexture();E&&this.drawComplexRope(b.segments,E)}})),this.perforationRopeAndTextureReferences.forEach(({rope:b,texture:E})=>{b.destroy({children:!0,texture:!0,baseTexture:!0}),E.destroy(!0)}),this.perforationRopeAndTextureReferences=[],this.internalLayerVisibility.perforationLayerId){const{perforationOptions:b}=this.options,E=f.filter(jR),A=f.filter(XR),I=f.filter(VR);E.forEach(C=>{const N=this.createPerforationShape(C,n,e).reduce((R,F)=>(R[F.diameter]||(R[F.diameter]=[]),R[F.diameter]=[...R[F.diameter]??[],F],R),{});Object.values(N).forEach(R=>{const F=HD(C,R[0],b),D=this.drawComplexRope(R,F);D&&this.perforationRopeAndTextureReferences.push({rope:D,texture:F})})}),I.forEach(C=>{const N=this.createPerforationShape(C,n,e).map(R=>({...R,diameter:R.diameter*3})).reduce((R,F)=>(R[F.diameter]||(R[F.diameter]=[]),R[F.diameter]=[...R[F.diameter]??[],F],R),{});Object.values(N).forEach(R=>{R.forEach(F=>{const D=XD(C,f,F,b),X=this.drawComplexRope([F],D);X&&this.perforationRopeAndTextureReferences.push({rope:X,texture:D})})})}),A.forEach(C=>{const N=this.createPerforationShape(C,n,e).map(R=>({...R,diameter:R.diameter*3})).reduce((R,F)=>(R[F.diameter]||(R[F.diameter]=[]),R[F.diameter]=[...R[F.diameter]??[],F],R),{});Object.values(N).forEach(R=>{R.forEach(F=>{const D=jD(C,F,b),X=this.drawComplexRope([F],D);X&&this.perforationRopeAndTextureReferences.push({rope:X,texture:D})})})})}this.internalLayerVisibility.completionLayerId&&o.forEach(HR(b=>this.drawScreen(b),b=>this.drawTubing(b),b=>{const E=this.prepareSymbolRenderObject(b);this.drawSymbolComponent(E)})),this.internalLayerVisibility.pAndALayerId&&_.forEach(b=>{if(kR(b)){const E=this.prepareSymbolRenderObject(b);this.drawSymbolComponent(E)}GR(b)&&this.drawCementPlug(b,n,o,e)})}updateSymbolCache(t){if(this.textureSymbolCacheArray||(this.textureSymbolCacheArray={}),!t)return;const e=Object.keys(this.textureSymbolCacheArray);Object.entries(t).forEach(([n,s])=>{!e.includes(n)&&this.textureSymbolCacheArray&&(this.textureSymbolCacheArray[n]=pt.from(s))})}drawCementPlug(t,e,n,s){const{exaggerationFactor:o=1,cementPlugOptions:l}=this.options,h=MD(t,e,n,s,o,this.getZFactorScaledPathForPoints);l&&this.drawComplexRope(h,this.getCementPlugTexture(l));const{rightPath:f,leftPath:d}=h.reduce((p,g)=>{const{leftPath:v,rightPath:_}=Ih(g.diameter/2,g.points);return{rightPath:[...p.rightPath,..._],leftPath:[...p.leftPath,...v]}},{rightPath:[],leftPath:[]});this.drawOutline(d,f,fs("black"),.25,"TopAndBottom")}createCasingRenderObject(t){const{exaggerationFactor:e=1}=this.options;return FD(e,t,this.getZFactorScaledPathForPoints)}getCementPlugTexture(t){return this.cementPlugTextureCache||(this.cementPlugTextureCache=ND(t)),this.cementPlugTextureCache}drawSVGRope(t,e){if(t.length===0)return;const n=new ZD(e,t);this.addChild(n)}getSymbolTexture(t,e){var n,s;const o=(s=(n=this.textureSymbolCacheArray)==null?void 0:n[t])==null?void 0:s.baseTexture;return o?new pt(o,void 0,new Ot(0,0,0,e),void 0,ne.MAIN_DIAGONAL):void 0}drawHoleRope(t,e,n){if(t.length===0)return;const s=new o3(e,t,n/Fr);this.addChild(s)}getHoleTexture(t,e,n){const s=Fr,o=s,l=s,h=e/n*s;this.holeTextureCache||(this.holeTextureCache=DD(t,l,o));const f=this.holeTextureCache.baseTexture,d=(o-h)/2,p=new Ot(0,d,l,h);return new pt(f,p)}sortCementAndCasingRenderObjects(t,e,n){let s=0;const{result:o}=t.reduce((l,h)=>{const f=l.remainingCement.find(p=>p.casingIds.includes(h.id)),d=l.remainingCementSqueezes.filter(p=>p.casingIds.includes(h.id));return f&&(f.zIndex=s++),d.forEach(p=>p.zIndex=s++),h.zIndex=s++,{result:[...l.result,f,h,...d],remainingCement:l.remainingCement.filter(p=>p!==f),remainingCementSqueezes:l.remainingCementSqueezes.filter(p=>!d.includes(p))}},{result:[],remainingCement:e,remainingCementSqueezes:n});return o.filter(l=>l!=null).sort((l,h)=>l.zIndex-h.zIndex)}drawComplexRope(t,e){if(t.length===0)return;const n=new YD(e,t);return this.addChild(n),n}createCasingTexture(t){return new pt(pt.WHITE.baseTexture,void 0,new Ot(0,0,16,t))}drawShoe(t,e){const{exaggerationFactor:n=1,casingOptions:s}=this.options,o=s.shoeSize.width*n,l=s.shoeSize.length*n,h=this.generateShoe(t,e,l,o),f=this.generateShoe(t,e,l,-o);this.drawBigPolygon(f),this.drawBigPolygon(h)}getCementTexture(){if(!this.cementTextureCache){const{cementOptions:t}=this.options;t&&(this.cementTextureCache=ID(t))}return this.cementTextureCache}getCementSqueezeTexture(){if(!this.cementSqueezeTextureCache){const{cementSqueezeOptions:t}=this.options;t&&(this.cementSqueezeTextureCache=PD(t))}return this.cementSqueezeTextureCache}drawScreen({start:t,end:e,diameter:n}){const{exaggerationFactor:s=1,screenOptions:o}=this.options,l=s*n,h=this.getZFactorScaledPathForPoints(t,e),{leftPath:f,rightPath:d}=Ih(l/2,h),p=this.getScreenTexture();p&&(this.drawCompletionRope(h,p,l),this.drawOutline(f,d,fs(o.lineColor),IR*s,"TopAndBottom"))}drawTubing({diameter:t,start:e,end:n}){const{exaggerationFactor:s=1,tubingOptions:o}=this.options,l=s*t,h=this.getZFactorScaledPathForPoints(e,n),f=this.getTubingTexture(o);this.drawCompletionRope(h,f,l)}getTubingTexture(t){return this.tubingTextureCache||(this.tubingTextureCache=BD(t)),this.tubingTextureCache}getScreenTexture(){if(!this.screenTextureCache){const{screenOptions:t}=this.options;t&&(this.screenTextureCache=OD(t))}return this.screenTextureCache}drawCompletionRope(t,e,n){if(t.length===0)return;const s=new $D(e,t,n);this.addChild(s)}};P5.getOutlineClosureType=(i,t)=>i===0?i===t?"TopAndBottom":"Top":i===t?"Bottom":"None";let JD=P5;function ba(i){return function(){return i}}const t_=1e-12,C1=Math.PI,M1=2*C1,xs=1e-6,tO=M1-xs;function U5(i){this._+=i[0];for(let t=1,e=i.length;t<e;++t)this._+=arguments[t]+i[t]}function eO(i){let t=Math.floor(i);if(!(t>=0))throw new Error(`invalid digits: ${i}`);if(t>15)return U5;const e=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*e)/e+n[s]}}class iO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U5:eO(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,s){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,e,n,s,o,l){this._append`C${+t},${+e},${+n},${+s},${this._x1=+o},${this._y1=+l}`}arcTo(t,e,n,s,o){if(t=+t,e=+e,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,h=this._y1,f=n-t,d=s-e,p=l-t,g=h-e,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(v>xs)if(!(Math.abs(g*f-d*p)>xs)||!o)this._append`L${this._x1=t},${this._y1=e}`;else{let _=n-l,x=s-h,b=f*f+d*d,E=_*_+x*x,A=Math.sqrt(b),I=Math.sqrt(v),C=o*Math.tan((C1-Math.acos((b+v-E)/(2*A*I)))/2),N=C/I,R=C/A;Math.abs(N-1)>xs&&this._append`L${t+N*p},${e+N*g}`,this._append`A${o},${o},0,0,${+(g*_>p*x)},${this._x1=t+R*f},${this._y1=e+R*d}`}}arc(t,e,n,s,o,l){if(t=+t,e=+e,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let h=n*Math.cos(s),f=n*Math.sin(s),d=t+h,p=e+f,g=1^l,v=l?s-o:o-s;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>xs||Math.abs(this._y1-p)>xs)&&this._append`L${d},${p}`,n&&(v<0&&(v=v%M1+M1),v>tO?this._append`A${n},${n},0,1,${g},${t-h},${e-f}A${n},${n},0,1,${g},${this._x1=d},${this._y1=p}`:v>xs&&this._append`A${n},${n},0,${+(v>=C1)},${g},${this._x1=t+n*Math.cos(o)},${this._y1=e+n*Math.sin(o)}`)}rect(t,e,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function nO(i){let t=3;return i.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const n=Math.floor(e);if(!(n>=0))throw new RangeError(`invalid digits: ${e}`);t=n}return i},()=>new iO(t)}function rO(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function F5(i){this._context=i}F5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;default:this._context.lineTo(i,t);break}}};function k5(i){return new F5(i)}function sO(i){return i[0]}function aO(i){return i[1]}function oO(i,t){var e=ba(!0),n=null,s=k5,o=null,l=nO(h);i=typeof i=="function"?i:i===void 0?sO:ba(i),t=typeof t=="function"?t:t===void 0?aO:ba(t);function h(f){var d,p=(f=rO(f)).length,g,v=!1,_;for(n==null&&(o=s(_=l())),d=0;d<=p;++d)!(d<p&&e(g=f[d],d,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+i(g,d,f),+t(g,d,f));if(_)return o=null,_+""||null}return h.x=function(f){return arguments.length?(i=typeof f=="function"?f:ba(+f),h):i},h.y=function(f){return arguments.length?(t=typeof f=="function"?f:ba(+f),h):t},h.defined=function(f){return arguments.length?(e=typeof f=="function"?f:ba(!!f),h):e},h.curve=function(f){return arguments.length?(s=f,n!=null&&(o=s(n)),h):s},h.context=function(f){return arguments.length?(f==null?n=o=null:o=s(n=f),h):n},h}function e_(){}function R1(i,t,e){i._context.bezierCurveTo((2*i._x0+i._x1)/3,(2*i._y0+i._y1)/3,(i._x0+2*i._x1)/3,(i._y0+2*i._y1)/3,(i._x0+4*i._x1+t)/6,(i._y0+4*i._y1+e)/6)}function Cc(i){this._context=i}Cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:R1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:R1(this,i,t);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=t}};function lO(i){return new Cc(i)}function z5(i){this._context=i}z5.prototype={areaStart:e_,areaEnd:e_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._x2=i,this._y2=t;break;case 1:this._point=2,this._x3=i,this._y3=t;break;case 2:this._point=3,this._x4=i,this._y4=t,this._context.moveTo((this._x0+4*this._x1+i)/6,(this._y0+4*this._y1+t)/6);break;default:R1(this,i,t);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=t}};function uO(i){return new z5(i)}function G5(i,t){this._basis=new Cc(i),this._beta=t}G5.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var i=this._x,t=this._y,e=i.length-1;if(e>0)for(var n=i[0],s=t[0],o=i[e]-n,l=t[e]-s,h=-1,f;++h<=e;)f=h/e,this._basis.point(this._beta*i[h]+(1-this._beta)*(n+f*o),this._beta*t[h]+(1-this._beta)*(s+f*l));this._x=this._y=null,this._basis.lineEnd()},point:function(i,t){this._x.push(+i),this._y.push(+t)}};const hO=(function i(t){function e(n){return t===1?new Cc(n):new G5(n,t)}return e.beta=function(n){return i(+n)},e})(.85);function i_(i,t,e){i._context.bezierCurveTo(i._x1+i._k*(i._x2-i._x0),i._y1+i._k*(i._y2-i._y0),i._x2+i._k*(i._x1-t),i._y2+i._k*(i._y1-e),i._x2,i._y2)}function lm(i,t){this._context=i,this._k=(1-t)/6}lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i_(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2,this._x1=i,this._y1=t;break;case 2:this._point=3;default:i_(this,i,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cO=(function i(t){function e(n){return new lm(n,t)}return e.tension=function(n){return i(+n)},e})(0);function fO(i,t,e){var n=i._x1,s=i._y1,o=i._x2,l=i._y2;if(i._l01_a>t_){var h=2*i._l01_2a+3*i._l01_a*i._l12_a+i._l12_2a,f=3*i._l01_a*(i._l01_a+i._l12_a);n=(n*h-i._x0*i._l12_2a+i._x2*i._l01_2a)/f,s=(s*h-i._y0*i._l12_2a+i._y2*i._l01_2a)/f}if(i._l23_a>t_){var d=2*i._l23_2a+3*i._l23_a*i._l12_a+i._l12_2a,p=3*i._l23_a*(i._l23_a+i._l12_a);o=(o*d+i._x1*i._l23_2a-t*i._l12_2a)/p,l=(l*d+i._y1*i._l23_2a-e*i._l12_2a)/p}i._context.bezierCurveTo(n,s,o,l,i._x2,i._y2)}function H5(i,t){this._context=i,this._alpha=t}H5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){if(i=+i,t=+t,this._point){var e=this._x2-i,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;break;case 2:this._point=3;default:fO(this,i,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dO=(function i(t){function e(n){return t?new H5(n,t):new lm(n,0)}return e.alpha=function(n){return i(+n)},e})(.5);function n_(i){return i<0?-1:1}function r_(i,t,e){var n=i._x1-i._x0,s=t-i._x1,o=(i._y1-i._y0)/(n||s<0&&-0),l=(e-i._y1)/(s||n<0&&-0),h=(o*s+l*n)/(n+s);return(n_(o)+n_(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(h))||0}function s_(i,t){var e=i._x1-i._x0;return e?(3*(i._y1-i._y0)/e-t)/2:t}function Ap(i,t,e){var n=i._x0,s=i._y0,o=i._x1,l=i._y1,h=(o-n)/3;i._context.bezierCurveTo(n+h,s+h*t,o-h,l-h*e,o,l)}function lc(i){this._context=i}lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ap(this,this._t0,s_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){var e=NaN;if(i=+i,t=+t,!(i===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;break;case 2:this._point=3,Ap(this,s_(this,e=r_(this,i,t)),e);break;default:Ap(this,this._t0,e=r_(this,i,t));break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=t,this._t0=e}}};function j5(i){this._context=new X5(i)}(j5.prototype=Object.create(lc.prototype)).point=function(i,t){lc.prototype.point.call(this,t,i)};function X5(i){this._context=i}X5.prototype={moveTo:function(i,t){this._context.moveTo(t,i)},closePath:function(){this._context.closePath()},lineTo:function(i,t){this._context.lineTo(t,i)},bezierCurveTo:function(i,t,e,n,s,o){this._context.bezierCurveTo(t,i,n,e,o,s)}};function pO(i){return new lc(i)}function mO(i){return new j5(i)}function V5(i){this._context=i}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var i=this._x,t=this._y,e=i.length;if(e)if(this._line?this._context.lineTo(i[0],t[0]):this._context.moveTo(i[0],t[0]),e===2)this._context.lineTo(i[1],t[1]);else for(var n=a_(i),s=a_(t),o=0,l=1;l<e;++o,++l)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],i[l],t[l]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(i,t){this._x.push(+i),this._y.push(+t)}};function a_(i){var t,e=i.length-1,n,s=new Array(e),o=new Array(e),l=new Array(e);for(s[0]=0,o[0]=2,l[0]=i[0]+2*i[1],t=1;t<e-1;++t)s[t]=1,o[t]=4,l[t]=4*i[t]+2*i[t+1];for(s[e-1]=2,o[e-1]=7,l[e-1]=8*i[e-1]+i[e],t=1;t<e;++t)n=s[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(s[e-1]=l[e-1]/o[e-1],t=e-2;t>=0;--t)s[t]=(l[t]-s[t+1])/o[t];for(o[e-1]=(i[e]+s[e-1])/2,t=0;t<e-1;++t)o[t]=2*i[t+1]-s[t+1];return[s,o]}function gO(i){return new V5(i)}function Mc(i,t){this._context=i,this._t=t}Mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(i,t);else{var e=this._x*(1-this._t)+i*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=i,this._y=t}};function yO(i){return new Mc(i,.5)}function vO(i){return new Mc(i,0)}function _O(i){return new Mc(i,1)}const xO=.7,bO=.9,TO=1;class EO extends LR{constructor(t,e){super(t,e),this.options={...this.options,...e},this.render=this.render.bind(this)}onUpdate(t){super.onUpdate(t),this.render()}onRescale(t){super.onRescale(t),this.elm&&(this.rescaleEvent=t,this.render())}render(){const{strokeWidth:t,stroke:e}=this.options;if(!this.elm)return;this.elm.select("g").remove();const n=this.data||this.referenceSystem&&this.referenceSystem.projectedPath;!n||!this.rescaleEvent||this.elm.append("g").attr("class","well-path").append("path").attr("d",this.renderWellborePath(n)).attr("stroke-width",t||"2px").attr("stroke",e||"red").attr("fill","none")}renderWellborePath(t){if(this.rescaleEvent!=null){const{xScale:e,yScale:n}=this.rescaleEvent,s=t.map(f=>[e(f[0]),n(f[1])]);let o;const{curveType:l,tension:h}=this.options;switch(l){default:case"curveCatmullRom":o=dO.alpha(h||xO);break;case"curveLinear":o=k5;break;case"curveBasis":o=lO;break;case"curveBasisClosed":o=uO;break;case"curveBundle":o=hO.beta(h||TO);break;case"curveCardinal":o=cO.tension(h||bO);break;case"curveMonotoneX":o=pO;break;case"curveMonotoneY":o=mO;break;case"curveNatural":o=gO;break;case"curveStep":o=yO;break;case"curveStepAfter":o=_O;break;case"curveStepBefore":o=vO;break}return oO().curve(o)(s)??""}return""}}class AO{constructor(t,e,n){if(this.layers=[],this.createAxis=s=>{const{container:o}=this;this._svgContainer=Di(o).append("div").attr("class","axis").style("position","absolute").style("z-index","10").style("pointer-events","none");const l=this._svgContainer.append("svg").attr("height",`${o.offsetHeight}px`).attr("width",`${o.offsetWidth}px`),h=!0;return new KS(l,h,s.xLabel,s.yLabel,s.unitOfMeasure)},this.container=t,this.layerContainer=document.createElement("div"),this.layerContainer.className="layer-container",this.container.appendChild(this.layerContainer),this.adjustToSize(+(this.container.getAttribute("width")??0),+(this.container.getAttribute("height")??0)),this._zoomPanHandler=new RR(t,s=>this.rescale(s)),e){const{xMin:s,xMax:o,yMin:l,yMax:h,xBounds:f,yBounds:d}=e;s!==void 0&&o!==void 0&&l!==void 0&&h!==void 0&&this._zoomPanHandler.setBounds([s,o],[l,h]),f&&d&&this._zoomPanHandler.setBounds(f,d)}else this._zoomPanHandler.setBounds([0,1],[0,1]);n&&(this._axis=this.createAxis(n)),this.rescale=this.rescale.bind(this)}addLayers(t){return t.forEach(e=>this.addLayer(e)),this}getLayers(){return this.layers}clearAllData(t=!0){return this.layers.forEach(e=>e.clearData(t)),this}addLayer(t,e){return this.layers.push(t),this.initLayer(t,e),this}removeLayer(t){const e=this.layers.find(n=>n.id===t);return e&&(e.onUnmount(),this.layers=this.layers.filter(n=>n.id!==t)),this}removeAllLayers(){const{layers:t}=this;return t.forEach(e=>{this.removeLayer(e.id)}),this}getLayer(t){return this.layers.find(e=>e.id===t||e.getInternalLayerIds().includes(t))}initLayer(t,e){const n={elm:this.layerContainer};t.onMount(n);const s=this.zoomPanHandler.currentStateAsEvent();if(t.onUpdate({...s,...e}),t.onRescale(s),this._svgContainer){const o=this.layers.length>0?this.layers.reduce((l,h)=>l.order>h.order?l:h).order:1;this._svgContainer.style("z-index",`${o+1}`)}return this}showLayer(t){const e=this.getLayer(t);return e?(e.setVisibility(!0,t),e.onRescale(this.zoomPanHandler.currentStateAsEvent()),this):this}hideLayer(t){const e=this.getLayer(t);return e?(e.setVisibility(!1,t),e.onRescale(this.zoomPanHandler.currentStateAsEvent()),this):this}adjustToSize(t,e){const n=Math.max(this._axis?t-b5:t,0),s=Math.max(this._axis?e-T5:e,0);if(this._axis){const o={width:t,height:e};this._axis.onResize(o)}if(this.layers){const o={width:n,height:s};this.layers.forEach(l=>l.onResize(o))}this._zoomPanHandler&&this._zoomPanHandler.adjustToSize(n,s,!0)}setReferenceSystem(t){this.layers.forEach(e=>e.referenceSystem=t)}showAxis(){var t;return(t=this._axis)==null||t.show(),this}hideAxis(){var t;return(t=this._axis)==null||t.hide(),this}showAxisLabels(){var t;return(t=this._axis)==null||t.showLabels(),this}hideAxisLabels(){var t;return(t=this._axis)==null||t.hideLabels(),this}setAxisOffset(t,e){return this._axis&&(this._axis.offsetX=t,this._axis.offsetY=e,this.layers.filter(n=>n instanceof Bh).forEach(n=>{n.offsetX=t,n.offsetY=e})),this}setXAxisOffset(t){return this._axis&&(this._axis.offsetX=t,this.layers.filter(e=>e instanceof Bh).forEach(e=>{e.offsetX=t})),this}setYAxisOffset(t){return this._axis&&(this._axis.offsetY=t,this.layers.filter(e=>e instanceof Bh).forEach(e=>{e.offsetY=t})),this}setZoomLevelBoundary(t){return this._zoomPanHandler.setZoomLevelBoundary(t),this}setMaxZoomLevel(t){return this._zoomPanHandler.setMaxZoomLevel(t),this}setMinZoomLevel(t){return this._zoomPanHandler.setMinZoomLevel(t),this}destroy(){return this.removeAllLayers(),this.layerContainer.remove(),this._axis=void 0,this._svgContainer=void 0,this}get zoomPanHandler(){return this._zoomPanHandler}get axis(){return this._axis}rescale(t){this._axis&&this._axis.onRescale(t),this.layers&&this.layers.forEach(e=>e.isVisible===!0?e.onRescale(t):{})}}class SO{constructor(t,e){this.elements={},this.listeners={},this.enabled=!0;const n=Di(e);this.elm=n.append("div").attr("id","overlay").style("z-index","11").style("position","absolute"),this.source=this.elm.node()??void 0;const{elm:s}=this;s.on("resize",o=>{const{width:l,height:h}=o.detail;s.style("width",`${l}px`).style("height",`${h}px`),this.enabled&&Object.keys(this.listeners).forEach(f=>{const d=this.elements[f]??void 0,p=this.listeners[f];p&&p.onResize&&requestAnimationFrame(()=>{var g;return(g=p.onResize)==null?void 0:g.call(p,{target:d,source:this.source,caller:t,width:l,height:h})})})}),s.on("mousemove",o=>{if(!this.enabled)return;const[l,h]=Rr(o,this.elm.node());Object.keys(this.listeners).forEach(f=>{const d=this.elements[f]??void 0,p=this.listeners[f];p&&p.onMouseMove&&requestAnimationFrame(()=>{var g;return(g=p.onMouseMove)==null?void 0:g.call(p,{x:l,y:h,target:d,source:this.source,caller:t})})})}),s.on("mouseout",()=>{this.enabled&&Object.keys(this.listeners).forEach(o=>{const l=this.elements[o]||void 0,h=this.listeners[o];h&&h.onMouseExit&&requestAnimationFrame(()=>{var f;return(f=h.onMouseExit)==null?void 0:f.call(h,{target:l,source:this.source,caller:t})})})})}create(t,e){const n=this.elm.append("div").style("position","relative").style("pointer-events","none").node();if(n!=null)return this.elements[t]=n,e&&(this.listeners[t]=e),n}register(t,e){this.listeners[t]=e}remove(t){const e=this.elements[t];e&&(Di(e).remove(),delete this.elements[t]),delete this.listeners[t]}setZIndex(t){this.elm.style("z-index",t)}destroy(){var t;(t=this.source)==null||t.remove()}}const wO=(i,t)=>new SO(i,t);class CO{constructor(t){const{container:e,axisOptions:n,scaleOptions:s,referenceSystem:o,layers:l,path:h}=t;this._referenceSystem=o||h&&new Va(h),this._overlay=wO(this,e),this.layerManager=new AO(this._overlay.elm.node(),s,n),l&&(this.layerManager.addLayers(l),this.setOverlayZIndex(l))}setReferenceSystem(t){return this._referenceSystem=t,this.layerManager.setReferenceSystem(t),this}updatePath(t,e){return this.setReferenceSystem(new Va(t,e)),this}clearAllData(t=!0){return this.layerManager.clearAllData(t),this}addLayer(t,e){return this.layerManager.addLayer(t,e),this.setOverlayZIndex(this.layerManager.getLayers()),this}removeLayer(t){return this.layerManager.removeLayer(t),this}removeAllLayers(){return this.layerManager.removeAllLayers(),this}getLayer(t){return this.layerManager.getLayer(t)}showLayer(t){return this.layerManager.showLayer(t),this}hideLayer(t){return this.layerManager.hideLayer(t),this}adjustToSize(t,e){this.layerManager.adjustToSize(t,e);const n={width:Math.max(t-b5,0),height:Math.max(e-T5,0)};return this.overlay.elm.dispatch("resize",{detail:n,bubbles:!0,cancelable:!0}),this}setViewport(t,e,n,s){return this.zoomPanHandler.setViewport(t,e,n,s),this}setBounds(t,e){return this.zoomPanHandler.setBounds(t,e),this}showAxis(){return this.layerManager.showAxis(),this}hideAxis(){return this.layerManager.hideAxis(),this}showAxisLabels(){return this.layerManager.showAxisLabels(),this}hideAxisLabels(){return this.layerManager.hideAxisLabels(),this}setAxisOffset(t,e){return this.layerManager.setAxisOffset(t,e),this}setXAxisOffset(t){return this.layerManager.setXAxisOffset(t),this}setYAxisOffset(t){return this.layerManager.setYAxisOffset(t),this}setZoomLevelBoundary(t){return this.zoomPanHandler.setZoomLevelBoundary(t),this}setMaxZoomLevel(t){return this.zoomPanHandler.setMaxZoomLevel(t),this}setMinZoomLevel(t){return this.zoomPanHandler.setMinZoomLevel(t),this}destroy(){return this.layerManager.destroy(),this._overlay.destroy(),this._referenceSystem=void 0,this}getHighestZIndex(t){return t.length>0?t.reduce((e,n)=>e.order>n.order?e:n).order:1}setOverlayZIndex(t){const e=this.getHighestZIndex(t);this.overlay.setZIndex(e+2)}get overlay(){return this._overlay}get referenceSystem(){return this._referenceSystem}get zoomPanHandler(){return this.layerManager.zoomPanHandler}get axis(){return this.layerManager.axis}get currentStateAsEvent(){return this.zoomPanHandler.currentStateAsEvent()}}const MO=(i,t)=>{const e=document.createElement("div");return e.setAttribute("height",`${t}`),e.setAttribute("width",`${i}`),e},RO=i=>{const t=document.createElement("div");return t.setAttribute("style",`display: flex;flex:1;flex-direction:column; width: ${i}px;height:100%; background-color: white;`),t},DO=[[[435052.25,647855961e-2,91],[435052.25,647855961e-2,95.1],[435052.25,6478559619996517e-9,105.1],[435052.25999651704,6478559619996517e-9,115.1],[435052.25999651704,6.4785596299930345e6,125.1],[435052.25999651704,6.4785596299930345e6,135.1],[435052.2699930341,6478559639989551e-9,145.1],[435052.2699930341,6478559639989551e-9,155.1],[435052.2899860682,6478559649986068e-9,165.1],[435052.3199756194,6478559639989551e-9,175.1],[435052.3599616876,6478559619996517e-9,185.1],[435052.38995123876,6478559590006966e-9,195.1],[435052.4299373069,6478559560017414e-9,205.1],[435052.4699233751,6478559530027864e-9,215.1],[435052.5099094434,6478559490041795e-9,225.1],[435052.5498955116,6478559460052244e-9,235.1],[435052.6098746139,6478559420066176e-9,245.1],[435052.6698537162,6478559370083591e-9,255.1],[435052.77981540374,6478559310104488e-9,265.1],[435052.92976315954,6478559220135835e-9,275.1],[435053.1496865347,6478559110174147e-9,285.09],[435053.4295890122,6478558980219426e-9,295.09],[435053.8094566601,6478558790285601e-9,305.08],[435054.22931037634,6.4785585603657095e6,315.07],[435054.7191397119,6478558300456266e-9,325.05],[435055.29893770086,6478558010557272e-9,335.03],[435055.9587078263,6478557690668726e-9,345],[435056.65846401994,6478557360783664e-9,354.97],[435057.3882097648,6478557000909049e-9,364.94],[435058.14794506074,6478556631037919e-9,374.91],[435058.9376699079,647855625117027e-8,384.87],[435059.76738082315,6478555861306106e-9,394.83],[435060.64707432373,647855544145239e-8,404.78],[435061.5767504096,6478555011602156e-9,414.72],[435062.5564090807,6478554561758889e-9,424.67],[435063.57605382,6478554091922588e-9,434.6],[435064.6656741787,6478553612089769e-9,444.53],[435065.7852840885,6478553112263916e-9,454.46],[435066.94488006656,6.4785526024415465e6,464.38],[435068.1444621128,6478552072626143e-9,474.29],[435069.42401629547,6478551482831636e-9,484.19],[435070.79353913164,6478550863047579e-9,494.08],[435072.22304107004,6478550203277454e-9,503.95],[435073.7225186279,6478549503521261e-9,513.81],[435075.281975288,6478548773775515e-9,523.66],[435076.9114075675,647854801404022e-8,533.5],[435078.63080850046,6478547204322338e-9,543.32],[435080.44017808686,6478546344621872e-9,553.11],[435082.31952329265,6478545444935338e-9,562.9],[435084.2288580496,6478544525255769e-9,572.67],[435086.1881753918,6.4785435555936145e6,582.43],[435088.1774822852,6478542535948875e-9,592.17],[435090.19677872973,6478541476318068e-9,601.91],[435092.22607169126,6478540376701192e-9,611.64],[435094.275357687,6478539227101731e-9,621.36],[435096.33464019967,6478538017523168e-9,631.07],[435098.3839261954,6478536747965502e-9,640.77],[435100.43321219104,6478535428425251e-9,650.47],[435102.4924947038,6.4785340589024145e6,660.16],[435104.5517772165,6478532609407443e-9,669.84],[435106.6210562463,6478531099933367e-9,679.5],[435108.71032831015,647852953048019e-8,689.16],[435110.8395864423,6478527901047911e-9,698.79],[435113.00883064256,6478526181646978e-9,708.4],[435115.2380539452,6478524402266943e-9,717.98],[435117.5472493842,6478522552911288e-9,727.54],[435119.9464134767,6478520623583497e-9,737.05],[435122.44554273976,6.4785186042870525e6,746.52],[435125.0446371733,6478516545004539e-9,755.95],[435127.71370722615,6478514435739442e-9,765.36],[435130.45275289845,6478512306481309e-9,774.73],[435133.2817672242,6478510157230143e-9,784.08],[435136.19075368636,647850799798246e-8,793.4],[435139.16971576784,6478505858727811e-9,802.7],[435142.1886639176,6478503739466196e-9,812],[435145.23760161846,6478501650194132e-9,821.29],[435148.26654628525,6478499590911619e-9,830.59],[435151.22551533266,6478497611601243e-9,839.94],[435154.0945157266,6478495712263003e-9,849.33],[435156.88354398415,6478493882900382e-9,858.75],[435159.6425826905,6478492083527314e-9,868.2],[435162.3716318458,6478490324140312e-9,877.66],[435165.100681001,6478488624732413e-9,887.12],[435167.85971970734,6478486965310583e-9,896.59],[435170.6487479649,6.4784853558713375e6,906.06],[435173.4677657736,6478483796414677e-9,915.52],[435176.32676965045,6478482266947568e-9,924.98],[435179.21576307854,6478480777466527e-9,934.44],[435182.1247495407,647847930797852e-8,943.89],[435185.09371510515,6.4784778784765825e6,953.33],[435188.142652806,6478476488960712e-9,962.75],[435191.2815591604,6478475119437876e-9,972.15],[435194.4704481,647847374991504e-8,981.53],[435197.68932659074,6.4784723703956865e6,990.89],[435200.9182015986,6478470960886782e-9,1000.25],[435204.16706964053,6478469501395293e-9,1009.6],[435207.4059411654,6478467941938632e-9,1018.93],[435210.6548092073,6478466222537699e-9,1028.23],[435213.90367724927,6478464333195977e-9,1037.49],[435217.1725383253,6478462283909981e-9,1046.72],[435220.4613924354,6478460124662298e-9,1055.91],[435223.83021868195,6478457885442478e-9,1065.06],[435227.289013582,6478455576247039e-9,1074.15],[435230.85777016956,6478453217069015e-9,1083.18],[435234.5364884448,6478450837897956e-9,1092.17],[435238.32516840746,6478448448730381e-9,1101.12],[435242.21381354076,6478446079555839e-9,1110.02],[435246.1924273275,6478443720377815e-9,1118.88],[435250.27100628475,6478441351203274e-9,1127.7],[435254.4295573784,6478438972032215e-9,1136.47],[435258.69807015965,6.4784365528750885e6,1145.19],[435263.0465550773,6478434093731894e-9,1153.85],[435267.46501561435,6478431594602631e-9,1162.47],[435271.9134657025,6478429085476851e-9,1171.06],[435276.37191230775,6478426586347588e-9,1179.66],[435280.7803763277,6478424107211359e-9,1188.28],[435285.1088682113,6478421668061199e-9,1196.96],[435289.3573879584,6478419268897106e-9,1205.68],[435293.55592512025,6478416879729531e-9,1214.44],[435297.7144762139,6478414490561955e-9,1223.21],[435301.8130482053,647841213138393e-8,1232.03],[435305.8116550261,6478409812191974e-9,1240.89],[435309.7802722958,6478407532986087e-9,1249.78],[435313.73889304843,6478405253780199e-9,1258.68],[435317.7275033522,6478402984570828e-9,1267.56],[435321.7461032071,647840070536494e-8,1276.43],[435325.8046891303,6478398416162536e-9,1285.28],[435329.89326460456,6478396106967096e-9,1294.1],[435334.01182963006,6478393797771657e-9,1302.92],[435338.1203981385,6478391498572735e-9,1311.74],[435342.1989770957,6478389219366848e-9,1320.58],[435346.2475665018,6478386960153993e-9,1329.44],[435350.2761628738,6478384720934174e-9,1338.31],[435354.29476272874,6478382501707388e-9,1347.2],[435358.29336954956,647838029247712e-8,1356.09],[435362.2919763704,6478378093243368e-9,1364.99],[435366.27059015713,6478375914002651e-9,1373.9],[435370.2492039438,6478373764751485e-9,1382.82],[435374.21782121353,6478371625496835e-9,1391.74],[435378.1864384832,6478369516231738e-9,1400.67],[435382.1450592358,6478367416963156e-9,1409.62],[435386.0936834714,647836533768761e-8,1418.56],[435390.04230770696,647836326840858e-8,1427.51],[435393.9809354255,6478361219122584e-9,1436.47],[435397.8995701099,6478359179833106e-9,1445.44],[435401.8182047943,6478357150540144e-9,1454.42],[435405.7268429617,6478355141240217e-9,1463.4],[435409.625484612,6478353141936806e-9,1472.39],[435413.51412974525,647835116262643e-8,1481.38],[435417.40277487854,6478349203309088e-9,1490.39],[435421.28142349474,6478347253988262e-9,1499.39],[435425.1500755939,6478345324660472e-9,1508.41],[435429.00873117597,6478343425322232e-9,1517.44],[435432.8673867581,6478341525983992e-9,1526.47],[435436.7160458232,6478339636642269e-9,1535.5],[435440.5846979223,6478337747300546e-9,1544.53],[435444.4733430556,6478335847962306e-9,1553.54],[435448.4119707741,6478333908637998e-9,1562.52],[435452.420574112,6.4783319193311045e6,1571.46],[435456.4991530692,6478329860048592e-9,1580.36],[435460.64770764584,6478327750783494e-9,1589.21],[435464.85624132474,6478325581539294e-9,1598.02],[435469.124754106,6478323372309025e-9,1606.78],[435473.43325295544,6478321103099654e-9,1615.51],[435477.7917343902,6478318763914664e-9,1624.21],[435482.1902018931,6478316354754055e-9,1632.86],[435486.6286554642,647831389561086e-8,1641.47],[435491.0970985865,6478311366492046e-9,1650.05],[435495.61552429403,6.4783087873906465e6,1658.59],[435500.17393606977,647830612831711e-8,1667.09],[435504.7623373967,6478303399267955e-9,1675.54],[435509.40072130883,6478300580250147e-9,1683.94],[435514.07909128926,6.4782976712636845e6,1692.28],[435518.80744385486,6478294642319017e-9,1700.56],[435523.5557894546,6478291513409181e-9,1708.78],[435528.3541176396,6478288264541138e-9,1716.93],[435533.1924318928,6478284905711409e-9,1725.01],[435538.07073221426,6478281456913026e-9,1733.02],[435543.01900815504,6478277908149472e-9,1740.96],[435548.00727016403,6478274269417265e-9,1748.82],[435553.04551475827,6478270530719887e-9,1756.6],[435558.1537349719,6.4782666920573395e6,1764.3],[435563.31193777075,6478262763426138e-9,1771.9],[435568.540116189,6478258744826283e-9,1779.42],[435573.84826674365,6478254656250809e-9,1786.84],[435579.2263929177,6478250527689267e-9,1794.19],[435584.6944877452,6478246359141656e-9,1801.45],[435590.232558192,6478242160604494e-9,1808.64],[435595.8506007753,6478237932077781e-9,1815.75],[435601.5186259438,6478233713547585e-9,1822.82],[435607.2166406635,6478229525006941e-9,1829.89],[435612.9046588661,647822535645933e-8,1836.98],[435618.5926770688,6478221187911719e-9,1844.06],[435624.3006883055,6478217029360625e-9,1851.14],[435630.0186960593,6478212870809532e-9,1858.21],[435635.7367038131,6478208722254955e-9,1865.28],[435641.46470808395,6478204573700378e-9,1872.35],[435647.20270887186,6478200435142319e-9,1879.42],[435652.9507061768,6478196316577293e-9,1886.49],[435658.69870348176,6478192208008785e-9,1893.56],[435664.4666938208,6478188089443759e-9,1900.61],[435670.23468415986,6478183980875251e-9,1907.66],[435676.0026744989,6478179882303259e-9,1914.73],[435681.7606683209,6478175783731268e-9,1921.81],[435687.5086656258,6478171685159277e-9,1928.88],[435693.2766559649,6478167586587286e-9,1935.95],[435699.0446463039,6478163508008328e-9,1943.02],[435704.8326296771,6.4781594394258885e6,1950.09],[435710.63060956734,6478155380839965e-9,1957.15],[435716.4585790087,6478151352243593e-9,1964.21],[435722.3165380012,6478147343640255e-9,1971.25],[435728.19449002785,6478143345033434e-9,1978.28],[435734.07244205446,647813935642313e-8,1985.32],[435739.9204045299,6.4781353878058605e6,1992.39],[435745.75837048836,6478131419188591e-9,1999.47],[435751.6063329638,6478127450571321e-9,2006.54],[435757.4542954393,6478123491950569e-9,2013.62],[435763.3122544318,6478119533329817e-9,2020.69],[435769.2002029755,6478115544719513e-9,2027.72],[435775.0981480362,6478111546112691e-9,2034.73],[435780.9860965799,6478107567498905e-9,2041.76],[435786.8440555724,6478103608878152e-9,2048.83],[435792.70201456494,6478099650257399e-9,2055.9],[435798.5699700745,6478095691636647e-9,2062.96],[435804.41793254996,6478091723019377e-9,2070.03],[435810.25589850836,6478087754402108e-9,2077.11],[435816.10386098386,6478083755795287e-9,2084.17],[435821.9618199764,6478079737195432e-9,2091.2],[435827.7997859348,6478075698602542e-9,2098.24],[435833.607762342,6478071640016619e-9,2105.3],[435839.4057422323,6478067571434179e-9,2112.36],[435845.19372560544,6478063512848256e-9,2119.42],[435850.9817089786,6478059454262333e-9,2126.5],[435856.7796888688,6478055415669444e-9,2133.57],[435862.56767224194,6478051377076555e-9,2140.66],[435868.34565909806,6.4780473284871485e6,2147.74],[435874.1136494371,647804328989426e-8,2154.83],[435879.8716432591,6478039241304854e-9,2161.94],[435885.609644047,6478035202711965e-9,2169.06],[435891.3476448349,6478031154122558e-9,2176.18],[435897.0856456228,6478027095536635e-9,2183.29],[435902.8136498936,6478023036950712e-9,2190.4],[435908.55165068153,6478018958371755e-9,2197.51],[435914.27965495235,6478014869796281e-9,2204.61],[435920.0076592232,6478010761227773e-9,2211.69],[435925.73566349404,6478006642662747e-9,2218.78],[435931.4536712479,6478002514101204e-9,2225.87],[435937.13169293344,6477998395536179e-9,2233],[435942.78972158494,6477994286967671e-9,2240.14],[435948.47773978754,6477990168402645e-9,2247.26],[435954.1857510243,6477986029844586e-9,2254.35],[435959.90375877806,6477981901283043e-9,2261.43],[435965.641759566,6477977752728466e-9,2268.5],[435971.3797603539,6477973604173889e-9,2275.55],[435977.11776114174,6477969435626279e-9,2282.6],[435982.8657584467,6477965257082151e-9,2289.63],[435988.62375226873,647796105854499e-8,2296.65],[435994.39174260775,6477956840014793e-9,2303.64],[436000.1697294639,6477952611488081e-9,2310.61],[436005.96770935407,6477948362968333e-9,2317.57],[436011.7556927272,6477944104452069e-9,2324.52],[436017.5536726174,6477939835939288e-9,2331.45],[436023.3616490247,6477935547433472e-9,2338.37],[436029.16962543194,647793124893114e-8,2345.28],[436034.97760183923,6477926920439256e-9,2352.17],[436040.8055712806,6477922571954339e-9,2359.04],[436046.66353027313,6477918213472905e-9,2365.87],[436052.5214892656,6477913834998435e-9,2372.69],[436058.3994412923,6477909446527449e-9,2379.48],[436064.3173793871,6477905028066913e-9,2386.21],[436070.3452791695,6477900569620308e-9,2392.83],[436076.4831406395,6477896071187634e-9,2399.31],[436082.71097076294,6477891512775858e-9,2405.68],[436088.9787869546,6477886944367565e-9,2411.98],[436095.28658921446,6477882385955789e-9,2418.26],[436101.6643670937,6477877837540531e-9,2424.47],[436108.1521066605,6477873259135721e-9,2430.55],[436114.72981488076,6477868670734394e-9,2436.51],[436121.38749523746,6477864052343516e-9,2442.37],[436128.1251477305,6477859423956121e-9,2448.12],[436134.95276887715,6477854765579174e-9,2453.76],[436141.86036216014,6.4778500972057115e6,2459.27],[436148.8279345454,6477845408839214e-9,2464.69],[436155.87547906715,6477840710476199e-9,2470.01],[436163.0129922423,6477836002116668e-9,2475.19],[436170.2304775539,6477831283760619e-9,2480.24],[436177.5179384849,6477826575401087e-9,2485.2],[436184.8753750352,6477821867041556e-9,2490.07],[436192.3327767561,6477817178675059e-9,2494.8],[436199.8801471304,6477812510301596e-9,2499.4],[436207.47750008997,6477807821935098e-9,2503.9],[436215.1448286689,6477803133568601e-9,2508.27],[436222.89212938433,6477798435205586e-9,2512.5],[436230.709405719,6477793726846054e-9,2516.59],[436238.56666812196,6477789018486523e-9,2520.58],[436246.5039026613,6477784310126992e-9,2524.43],[436254.5211093371,647777960176746e-8,2528.1],[436262.60829163226,6477774893407929e-9,2531.63],[436270.7454565126,6477770185048397e-9,2535.04],[436278.9226074612,6477765466692348e-9,2538.31],[436287.129747961,6477760708350232e-9,2541.45],[436295.35688149487,6477755940011597e-9,2544.55],[436303.62400109693,6477751191665998e-9,2547.56],[436311.91111373313,6477746423327364e-9,2550.48],[436320.2182194034,647774165498873e-8,2553.35],[436328.5253250737,6477736886650097e-9,2556.18],[436336.86242029513,6477732088321911e-9,2558.92],[436345.2295050677,6477727279997209e-9,2561.51],[436353.6165828744,6477722441682956e-9,2564.02],[436362.0136571982,6477717583375669e-9,2566.42],[436370.4507175901,6477712705075348e-9,2568.66],[436378.9077710162,6477707816778509e-9,2570.77],[436387.3948139934,6477702938478188e-9,2572.82],[436395.8818569706,6477698070174383e-9,2574.84],[436404.398889499,6477693181877545e-9,2576.74],[436412.93591506145,6477688273587672e-9,2578.48],[436421.4629441069,6477683345304766e-9,2580.15],[436429.9999696694,6477678407025342e-9,2581.77],[436438.56698478304,6477673468745918e-9,2583.25],[436447.1240033796,6477668490480426e-9,2584.62],[436455.6610289421,6477663452235832e-9,2585.92],[436464.1880579875,6477658364008652e-9,2587.11],[436472.71508703294,6477653265784956e-9,2588.17],[436481.2521125954,6.4776481575647425e6,2589.13],[436489.7891381579,6477643029351494e-9,2590.04],[436498.3261637204,6477637891141729e-9,2590.83],[436506.8731857999,6477632752931965e-9,2591.54],[436515.4102113624,6477627604725683e-9,2592.28],[436523.9372404078,6477622436526367e-9,2593.05],[436532.42428338504,6477617218344466e-9,2593.78],[436540.89133332815,6477611950179979e-9,2594.48],[436549.3483867542,6477606662022459e-9,2595.17],[436557.8054401803,6.4776013738649385e6,2595.82],[436566.2724901234,6477596095703935e-9,2596.46],[436574.7395400665,6477590827539449e-9,2597.15],[436583.17660045845,6477585509392377e-9,2597.87],[436591.57367478224,6477580131266203e-9,2598.6],[436599.9507560719,6477574733146994e-9,2599.3],[436608.3278373615,6477569325031269e-9,2600],[436616.70491865114,6477563906919027e-9,2600.74],[436625.07200342376,6477558488806785e-9,2601.43],[436633.4290916793,6477553050701508e-9,2602.1],[436641.78617993486,6477547602599715e-9,2602.8],[436650.1432681904,6.4775421544979215e6,2603.52],[436658.49035992887,6477536696399611e-9,2604.2],[436666.8274551503,6477531228304784e-9,2604.86],[436675.16455037176,6477525760209956e-9,2605.54],[436683.51164211024,6477520292115129e-9,2606.22],[436691.8587338487,6477514834016819e-9,2606.91],[436700.21582210425,6477509395911542e-9,2607.58],[436708.58290687687,6477503967802783e-9,2608.26],[436716.9499916495,6477498539694023e-9,2608.96],[436725.3270729391,6477493121581782e-9,2609.63],[436733.7141507458,6477487743455607e-9,2610.31],[436742.15121113777,6477482425308536e-9,2611.05],[436750.64825063205,6477477207126634e-9,2611.76],[436759.18527619453,6477472048923835e-9,2612.43],[436767.77228434227,647746698068969e-8,2613.1],[436776.4292681094,6477462022417232e-9,2613.77],[436785.1462309788,6477457164109945e-9,2614.39],[436793.89318339934,647745236578176e-8,2615],[436802.65013233694,6.4774475874466095e6,2615.67],[436811.4070812746,6477442819107975e-9,2616.42],[436820.14403717814,647743802077979e-8,2617.17],[436828.83101049636,6477433142479469e-9,2617.88],[436837.4879942635,6477428184207011e-9,2618.63],[436846.1049919624,6477423185948485e-9,2619.38],[436854.7219896613,6.4774181776934415e6,2620.12],[436863.32899084315,6477413129452331e-9,2620.88],[436871.89600595675,6477408051221668e-9,2621.69],[436880.40304196806,6477402863029318e-9,2622.49],[436888.84010236006,6.4773975648752805e6,2623.25],[436897.2371766838,6477392186749106e-9,2624.03],[436905.5942649393,6477386768636865e-9,2624.84],[436913.9213636437,6477381290545519e-9,2625.61],[436922.228469314,6477375772468107e-9,2626.33],[436930.5355749843,6477370254390694e-9,2627.04],[436938.8326841375,6477364726316764e-9,2627.76],[436947.1098002566,6477359168253283e-9,2628.48],[436955.3869163758,6477353610189802e-9,2629.21],[436963.6440394608,6477348032133288e-9,2629.95],[436971.89116602874,6477342434083738e-9,2630.7],[436980.1282960797,6477336806044638e-9,2631.45],[436988.3354365794,6477331158012504e-9,2632.23],[436996.5225840451,6477325479990818e-9,2633.04],[437004.6797419596,6477319751986547e-9,2633.81],[437012.81690684,6477313983996208e-9,2634.52],[437020.9440752033,6477308216005869e-9,2635.24],[437029.0712435667,647730244801553e-8,2636.02],[437037.18841541297,6477296660032157e-9,2636.79],[437045.2755977081,6477290842059232e-9,2637.57],[437053.3327904521,6477284974103723e-9,2638.38],[437061.3200075767,647727901617956e-8,2639.19],[437069.2672386331,6477272998276294e-9,2639.9],[437077.2144696895,6477266970376512e-9,2640.52],[437085.2916554676,6477261112417519e-9,2641.14],[437093.5687715867,6477255534361005e-9,2641.76],[437102.0058319787,6477250216213933e-9,2642.38],[437110.6128331605,6477245167972822e-9,2643.01],[437119.3797786152,6477240429623739e-9,2643.68],[437128.30666834273,6477235961180616e-9,2644.34],[437137.35351627483,6477231752646938e-9,2644.97],[437146.49033286044,6477227764036634e-9,2645.64],[437155.6571389972,6477223845401949e-9,2646.4],[437164.79395558283,6477219866788163e-9,2647.21],[437173.86079654907,6477215748223137e-9,2648.03],[437182.8276723448,6477211409734736e-9,2648.84],[437191.6645934188,6477206801340376e-9,2649.59],[437200.40154932236,6477201983019156e-9,2650.3],[437209.0685296065,647719705473625e-8,2651.01],[437217.6755307884,6477192016491655e-9,2651.76],[437226.1725702826,6477186808306271e-9,2652.51],[437234.5396550552,647718139019403e-8,2653.28],[437242.76678858907,6477175782147963e-9,2654.07],[437250.86396740127,6477169974171556e-9,2654.87],[437258.8311914918,6477163986257842e-9,2655.63],[437266.6884538947,6477157848396371e-9,2656.35],[437274.4757406783,6477151610569731e-9,2657.08],[437282.1730588084,6477145282774437e-9,2657.8],[437289.8004013191,6.4771388450174555e6,2658.46],[437297.3877577617,6477132367274405e-9,2659.11],[437304.9651176871,6477125889531356e-9,2659.81],[437312.5324810956,647711940179179e-8,2660.52],[437320.099844504,6477112904055705e-9,2661.2],[437327.6672079124,6477106406319622e-9,2661.88],[437335.2445678379,6477099928576572e-9,2662.6],[437342.8219277634,6477093450833522e-9,2663.33],[437350.40928420593,6477086973090473e-9,2664.03],[437357.9866441314,6477080495347423e-9,2664.74],[437365.5540075398,6477073997611338e-9,2665.44],[437373.1313674653,6477067519868289e-9,2666.13],[437380.71872390783,6477061042125239e-9,2666.81],[437388.2860873163,6477054554385672e-9,2667.5],[437395.8534507247,6477048056649588e-9,2668.18],[437403.42081413313,6477041558913505e-9,2668.85],[437410.9781810245,6477035041184386e-9,2669.5],[437418.5155548818,6.4770285034622345e6,2670.1],[437426.05292873905,6477021965740083e-9,2670.65],[437433.59030259633,6.4770154180214135e6,2671.14],[437441.1176799365,647700885030971e-8,2671.53],[437448.6550537938,6477002282598007e-9,2671.88],[437456.1924276511,6476995734879338e-9,2672.22],[437463.7597910595,647698921715022e-8,2672.66],[437471.36714053614,6476982769396721e-9,2673.3],[437479.0044795639,6476976351632774e-9,2674.03],[437486.6218255576,6476969913875792e-9,2674.75],[437494.2191785172,6476963456125776e-9,2675.48],[437501.7865419256,6476956978382727e-9,2676.22],[437509.343908817,6476950470650126e-9,2676.95],[437516.88128267427,6476943942924491e-9,2677.64],[437524.4086600145,6476937405202339e-9,2678.35],[437531.9160443206,6476930847487153e-9,2679.11],[437539.4134321097,647692427977545e-8,2679.85],[437546.9108198987,6476917702067229e-9,2680.58],[437554.39821117074,6476911124359009e-9,2681.34],[437561.8955989598,6476904566643823e-9,2682.16],[437569.3929867489,6476898008928637e-9,2683.04],[437576.900371055,6476891491199519e-9,2684.03],[437584.4377449123,6476885013456469e-9,2685.15],[437592.0051083207,6476878595692522e-9,2686.37],[437599.58246824617,6476872187925091e-9,2687.61],[437607.15982817166,6476865800150695e-9,2688.89],[437614.7571811312,6476859442365849e-9,2690.22],[437617.8660979344,6476856853267933e-9,2690.78],[437628.12252442987,6476848246266752e-9,2692.77],[437658.5219327853,6476822895099508e-9,2700.37],[437688.78138990194,6476798033761599e-9,2710.51],[437715.1322088512,6476776481270835e-9,2721.91],[437744.85185404704,6476752229720466e-9,2738.32],[437772.72214358824,6476728877856633e-9,2758.17],[437798.1532829688,647670677555743e-8,2780.36],[437822.75471143395,6476684963157223e-9,2803.77],[437847.1762025922,6476663080781396e-9,2827.21],[437871.5377146481,6.4766409984752275e6,2850.61],[437895.9991918746,6476619036127265e-9,2874.03],[437920.68059247616,6.4765976035947045e6,2897.25],[437945.4319686971,6476576181058662e-9,2920.7],[437970.3033031227,6476554828498239e-9,2944.2],[437989.5765879991,6476538574161512e-9,2962.11]],[{kind:"tubing",id:"tubing-01",start:139.7,end:1750,diameter:12},{kind:"tubing",id:"tubing-02",start:1750,end:2550,diameter:9.63},{kind:"screen",id:"screen-01",start:2550,end:3435,diameter:9.63},{kind:"screen",id:"screen-02",start:3435,end:5250,diameter:7}],[{kind:"casing",id:"casing-01",start:139.7,end:202,diameter:30,innerDiameter:28,hasShoe:!0},{kind:"casing",id:"casing-02",start:139,end:1389,diameter:20,innerDiameter:18.73,hasShoe:!0},{kind:"casing",id:"casing-03",start:140.4,end:2607,diameter:13.38,innerDiameter:12.347,hasShoe:!0},{kind:"casing",id:"casing-04",start:21.14,end:1800,diameter:10.75,innerDiameter:9.66,hasShoe:!1},{kind:"casing",id:"casing-05",start:1800,end:2507,diameter:9.63,innerDiameter:8.535,hasShoe:!1},{kind:"casing",id:"casing-06",start:2507,end:3435,diameter:9.63,innerDiameter:8.535,hasShoe:!0},{kind:"casing",id:"casing-07",start:3335,end:5070,diameter:7,innerDiameter:6.184,hasShoe:!0,windows:[{id:"casing-window-01",start:4900,end:5e3}]}],[{kind:"hole",id:"hole-01",start:139.7,end:207,diameter:36},{kind:"hole",id:"hole-02",start:207,end:1403,diameter:26},{kind:"hole",id:"hole-03",start:1403,end:2619,diameter:17.5},{kind:"hole",id:"hole-04",start:2619,end:3446,diameter:12.25},{kind:"hole",id:"hole-05",start:3446,end:5331,diameter:8.5}],[{kind:"cement",id:"cement-01",referenceIds:["casing-01"],toc:143},{kind:"cement",id:"cement-02",referenceIds:["casing-02"],toc:145},{kind:"cement",id:"cement-03",referenceIds:["casing-03"],toc:2207}],[{kind:"cementSqueeze",id:"cementSqueeze-01",referenceIds:["casing-02"],top:145,bottom:160}]],OO=i=>BO({xBounds:[0,1e3],yBounds:[0,1e3]},i),BO=(i,t)=>{const e={xLabel:"Displacement",yLabel:"TVD MSL",unitOfMeasure:"m"},n=t.width,s=t.height,o=RO(n),l=MO(n,s),[h,f,d,p,g,v]=DO,_=new Va(h);_.offset=h[0][2],d[0].hasShoe=!1;const x=new UR({width:n,height:s}),b=new Bh("grid",{majorColor:"lightgray",minorColor:"gray",majorWidth:1,minorWidth:.5,order:1,referenceSystem:_}),E=new EO("wellborepath",{order:3,strokeWidth:"2px",stroke:"red",referenceSystem:_}),A={completionSymbol1:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo=",completionSymbol2:"tubing1.svg",completionSymbol3:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMCAwSDkwVjEwMEgxMFYwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNMCAyNUgxMFY3NUgwVjI1WiIgZmlsbD0iI0I1QjJCMiIvPgo8cGF0aCBkPSJNNDUgMjVINTVWNzVINDVWMjVaIiBmaWxsPSIjQjVCMkIyIi8+CjxwYXRoIGQ9Ik0yNSA2NUgzMFY4MEgyNVY2NVoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTI1IDQySDMwVjU3SDI1VjQyWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNMjUgMjFIMzBWMzZIMjVWMjFaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik03MCA2NEg3NVY3OUg3MFY2NFoiIGZpbGw9IiMzMTMxMzEiLz4KPHBhdGggZD0iTTcwIDQxSDc1VjU2SDcwVjQxWiIgZmlsbD0iIzMxMzEzMSIvPgo8cGF0aCBkPSJNNzAgMjBINzVWMzVINzBWMjBaIiBmaWxsPSIjMzEzMTMxIi8+CjxwYXRoIGQ9Ik05MCAyNUgxMDBWNzVIOTBWMjVaIiBmaWxsPSIjQjVCMkIyIi8+Cjwvc3ZnPgo="},I=[{kind:"completionSymbol",id:"completion-svg-1",start:5250,end:5252,diameter:8.5,symbolKey:"completionSymbol1"},{kind:"completionSymbol",id:"completion-svg-2",start:5252,end:5274,diameter:8.5,symbolKey:"completionSymbol2"},{kind:"completionSymbol",id:"completion-svg-3",start:5274,end:5276,diameter:8.5,symbolKey:"completionSymbol3"}],C={mechanicalPlug:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl81MF81KSIvPgo8cGF0aCBkPSJNMSAxSDk5Vjk5SDFWMVoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl81MF81KSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHBhdGggZD0iTTEgMUg5OVY5OUgxVjFaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPGxpbmUgeDE9IjEuNzEwNzIiIHkxPSIxLjI5NjUzIiB4Mj0iOTguNzEwNyIgeTI9Ijk5LjI5NjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8bGluZSB4MT0iOTguNzA3MSIgeTE9IjAuNzA3MTA3IiB4Mj0iMC43MDcxIiB5Mj0iOTguNzA3MSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNTBfNSIgeDE9IjAiIHkxPSI1MCIgeDI9IjUwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzUwXzUiIHgxPSI1MCIgeTE9IjUwIiB4Mj0iMTAwIiB5Mj0iNTAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNDcxQSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTk5OSIgc3RvcC1jb2xvcj0iI0NDMjYyNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjQ3MUEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},N=[{kind:"pAndASymbol",id:"mechanical-plug-1",start:5100,end:5110,diameter:8.5,symbolKey:"mechanicalPlug"},{kind:"cementPlug",id:"cement-plug-2",start:5e3,end:5110,referenceIds:["casing-07"]}],R=[{kind:"perforation",subKind:"Perforation",id:"PerforationDemo1",start:4e3,end:4500,isOpen:!0},{kind:"perforation",subKind:"Cased hole frac pack",id:"PerforationDemo2",start:3500,end:4500,isOpen:!0}],F={holeSizes:p,cements:g,casings:d,completion:[...f,...I],pAndA:[...N,...v],perforations:R,symbols:{...A,...C}},J={order:5,referenceSystem:_,internalLayerOptions:{holeLayerId:"hole-id",casingLayerId:"casing-id",completionLayerId:"completion-id",cementLayerId:"cement-id",pAndALayerId:"pAndA-id",perforationLayerId:"perforation-id"},data:F,exaggerationFactor:5,casingOptions:{solidColor:"#dcdcdc",lineColor:"#575757",shoeSize:{width:8,length:12},windowOptions:{dashColor:"#dc0000",dashLength:5,spaceLength:3}}},rt=new JD(x,"schematic-webgl-layer",J),q=new yD("callout",{minFontSize:14,maxFontSize:14,order:100,data:[{title:"Wellhead",label:"Wellhead at surface",color:"#212529",group:"wellhead",md:0},{title:"Kickoff point",label:"Kickoff point at md 240m",color:"#212529",group:"KOP",md:240},{title:"First Perforation",label:"First perforation at md 4000m",color:"#212529",group:"Perforations",md:4e3},{title:"Last Perforation",label:"Last perforation at md 4500m",color:"#212529",group:"Perforations",md:4500},{title:"Total Depth",label:"Total depth at md 6000m",color:"#212529",group:"TD",md:6e3},{title:"Top of Cement 1",label:"Top of Cement for casing 'casing-01' at md 143m",color:"#212529",group:"Cement Tops",md:143},{title:"Cement Plug",label:"Cement plug for casing 'casing-07' from md 5000m to 5110m",color:"#212529",group:"P&A",md:5e3},{title:"Casing Shoe",label:"Casing shoe for casing 'casing-03' at md 2607m",color:"#212529",group:"Casing Shoes",md:2607},{title:"Casing Shoe",label:"Casing shoe for casing 'casing-02' at md 1389m",color:"#212529",group:"Casing Shoes",md:1389}],referenceSystem:_}),H=[b,E,rt,q],W={scaleOptions:i,axisOptions:e,container:l,referenceSystem:_},L=new CO({layers:H,...W});return L.setXAxisOffset(10),L.setYAxisOffset(10),L.adjustToSize(n,s),L.setViewport(1e3,1e3,6e3),L.zoomPanHandler.zFactor=1,o.appendChild(l),o},IO=()=>{const i=l_.c(3),t=Sp.useRef(null);let e,n;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{if(t.current){const o={width:t.current.getBoundingClientRect().width-10,height:t.current.offsetHeight-7},l=OO(o);t.current.innerHTML="",t.current.appendChild(l)}},n=[t],i[0]=e,i[1]=n):(e=i[0],n=i[1]),Sp.useEffect(e,n);let s;return i[2]===Symbol.for("react.memo_cache_sentinel")?(s=Ue.jsx("div",{style:{width:"100%",height:"100%"},ref:t}),i[2]=s):s=i[2],s},NO="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M6.5%208C7.32843%208%208%207.32843%208%206.5C8%205.67157%207.32843%205%206.5%205C5.67157%205%205%205.67157%205%206.5C5%207.32843%205.67157%208%206.5%208Z'%20fill='%23ffffff'/%3e%3cpath%20d='M5%2010C5%209.44772%205.44772%209%206%209H7C7.55228%209%208%209.44771%208%2010V18C8%2018.5523%207.55228%2019%207%2019H6C5.44772%2019%205%2018.5523%205%2018V10Z'%20fill='%23ffffff'/%3e%3cpath%20d='M11%2019H12C12.5523%2019%2013%2018.5523%2013%2018V13.5C13%2012%2016%2011%2016%2013V18.0004C16%2018.5527%2016.4477%2019%2017%2019H18C18.5523%2019%2019%2018.5523%2019%2018V12C19%2010%2017.5%209%2015.5%209C13.5%209%2013%2010.5%2013%2010.5V10C13%209.44771%2012.5523%209%2012%209H11C10.4477%209%2010%209.44772%2010%2010V18C10%2018.5523%2010.4477%2019%2011%2019Z'%20fill='%23ffffff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%201C21.6569%201%2023%202.34315%2023%204V20C23%2021.6569%2021.6569%2023%2020%2023H4C2.34315%2023%201%2021.6569%201%2020V4C1%202.34315%202.34315%201%204%201H20ZM20%203C20.5523%203%2021%203.44772%2021%204V20C21%2020.5523%2020.5523%2021%2020%2021H4C3.44772%2021%203%2020.5523%203%2020V4C3%203.44772%203.44772%203%204%203H20Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e",PO="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M4.0744%202.9938C4.13263%201.96371%204.37869%201.51577%205.08432%201.15606C5.84357%200.768899%207.04106%200.949072%208.45014%201.66261C9.05706%201.97009%209.11886%201.97635%2010.1825%201.83998C11.5963%201.65865%2013.4164%201.65929%2014.7213%201.84164C15.7081%201.97954%2015.7729%201.97265%2016.3813%201.66453C18.3814%200.651679%2019.9605%200.71795%2020.5323%201.8387C20.8177%202.39812%2020.8707%203.84971%2020.6494%205.04695C20.5267%205.71069%2020.5397%205.79356%2020.8353%206.22912C22.915%209.29385%2021.4165%2014.2616%2017.8528%2016.1155C17.5801%2016.2574%2017.3503%2016.3452%2017.163%2016.4167C16.5879%2016.6363%2016.4133%2016.703%2016.6247%2017.7138C16.7265%2018.2%2016.8491%2019.4088%2016.8973%2020.4002C16.9844%2022.1922%2016.9831%2022.2047%2016.6688%2022.5703C16.241%2023.0676%2015.6244%2023.076%2015.2066%2022.5902C14.9341%2022.2734%2014.9075%2022.1238%2014.9075%2020.9015C14.9075%2019.0952%2014.7095%2017.8946%2014.2417%2016.8658C13.6854%2015.6415%2014.0978%2015.185%2015.37%2014.9114C17.1383%2014.531%2018.5194%2013.4397%2019.2892%2011.8146C20.0211%2010.2698%2020.1314%208.13501%2018.8082%206.83668C18.4319%206.3895%2018.4057%205.98446%2018.6744%204.76309C18.7748%204.3066%2018.859%203.71768%2018.8615%203.45425C18.8653%203.03823%2018.8274%202.97541%2018.5719%202.97541C18.4102%202.97541%2017.7924%203.21062%2017.1992%203.49805L16.2524%203.95695C16.1663%203.99866%2016.07%204.0147%2015.975%204.0038C13.5675%203.72746%2011.2799%203.72319%208.86062%204.00488C8.76526%204.01598%208.66853%203.99994%208.58215%203.95802L7.63585%203.49882C7.04259%203.21087%206.42482%202.97541%206.26317%202.97541C5.88941%202.97541%205.88379%203.25135%206.22447%204.89078C6.43258%205.89203%206.57262%206.11513%205.97101%206.91572C5.06925%208.11576%204.844%209.60592%205.32757%2011.1716C5.93704%2013.1446%207.4295%2014.4775%209.52773%2014.9222C10.7926%2015.1903%2011.1232%2015.5401%2010.6402%2016.9905C10.26%2018.1319%2010.0196%2018.4261%209.46707%2018.4261C8.72365%2018.4261%208.25796%2017.7821%208.51424%2017.1082C8.62712%2016.8112%208.59354%2016.7795%207.89711%2016.5255C5.77117%2015.7504%204.14514%2014.0131%203.40172%2011.7223C2.82711%209.95184%203.07994%207.64739%204.00175%206.25453C4.31561%205.78028%204.32047%205.74006%204.174%204.83217C4.09113%204.31822%204.04631%203.49103%204.0744%202.9938Z'%20fill='%23ffffff'/%3e%3cpath%20d='M3.33203%2015.9454C3.02568%2015.4859%202.40481%2015.3617%201.94528%2015.6681C1.48576%2015.9744%201.36158%2016.5953%201.66793%2017.0548C1.8941%2017.3941%202.16467%2017.6728%202.39444%2017.9025C2.4368%2017.9449%202.47796%2017.9858%202.51815%2018.0257C2.71062%2018.2169%202.88056%2018.3857%203.05124%2018.5861C3.42875%2019.0292%203.80536%2019.626%204.0194%2020.6962C4.11474%2021.1729%204.45739%2021.4297%204.64725%2021.5419C4.85315%2021.6635%205.07812%2021.7352%205.26325%2021.7819C5.64196%2021.8774%206.10169%2021.927%206.53799%2021.9559C7.01695%2021.9877%207.53592%2021.998%207.99999%2022.0008C8.00033%2022.5527%208.44791%2023.0001%208.99998%2023.0001C9.55227%2023.0001%209.99998%2022.5524%209.99998%2022.0001V21.0001C9.99998%2020.4478%209.55227%2020.0001%208.99998%2020.0001C8.90571%2020.0001%208.80372%2020.0004%208.69569%2020.0008C8.10883%2020.0026%207.34388%2020.0049%206.67018%2019.9603C6.34531%2019.9388%206.07825%2019.9083%205.88241%2019.871C5.58083%2018.6871%205.09362%2017.8994%204.57373%2017.2891C4.34391%2017.0194%204.10593%2016.7834%203.91236%2016.5914C3.87612%2016.5555%203.84144%2016.5211%203.80865%2016.4883C3.5853%2016.265%203.4392%2016.1062%203.33203%2015.9454Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e";function LO(){const i=l_.c(4);let t;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=Ue.jsx("div",{children:Ue.jsx("h1",{className:"wellbore-visualizer-header-title",children:"Wellbore Visualizer"})}),i[0]=t):t=i[0];let e;i[1]===Symbol.for("react.memo_cache_sentinel")?(e=Ue.jsx("span",{children:Ue.jsx("a",{href:"https://www.linkedin.com/in/danielavila1002/",target:"_blank",rel:"noopener noreferrer",children:Ue.jsx("img",{src:NO,alt:"linkedin",style:{display:"inline-block",width:"30px"}})})}),i[1]=e):e=i[1];let n;i[2]===Symbol.for("react.memo_cache_sentinel")?(n=Ue.jsxs("header",{className:"wellbore-visualizer-header",children:[t,Ue.jsxs("div",{className:"wellbore-visualizer-header-links",children:[e,Ue.jsx("span",{children:Ue.jsx("a",{href:"https://github.com/danielsantiago1002",target:"_blank",rel:"noopener noreferrer",children:Ue.jsx("img",{src:PO,alt:"github",style:{display:"inline-block",width:"30px"}})})})]})]}),i[2]=n):n=i[2];let s;return i[3]===Symbol.for("react.memo_cache_sentinel")?(s=Ue.jsxs(Ue.Fragment,{children:[n,Ue.jsx("main",{className:"wellbore-visualizer-main-container",children:Ue.jsx(IO,{})})]}),i[3]=s):s=i[3],s}c8.createRoot(document.getElementById("root")).render(Ue.jsx(Sp.StrictMode,{children:Ue.jsx(LO,{})}));
